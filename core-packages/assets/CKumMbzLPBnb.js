var g=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var f=(n,e,t)=>(g(n,e,"read from private field"),t?t.call(n):e.get(n)),d=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},h=(n,e,t,i)=>(g(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t);var b=(n,e,t)=>(g(n,e,"access private method"),t);import{r as u,q as E,j as p,a0 as L,c as j}from"./DJmFkcIFdodk.js";import{H as C}from"./DDipuOSdUqZp.js";import{u as I}from"./DtzrJf1FMcy1.js";import{u as T}from"./AJTpfBEcE0Gg.js";function M(n){const{viewBox:e="0 0 24 24",d:t,displayName:i,defaultProps:s={}}=n,r=u.Children.toArray(n.path),o=E((a,c)=>p.jsx(L,{ref:c,viewBox:e,...s,...a,children:r.length?r:p.jsx("path",{fill:"currentColor",d:t})}));return o.displayName=i,o}const w=j("notifier:NotificationService");var l,v,m,y,N,x,R;class K{constructor(){d(this,y);d(this,x);d(this,l,void 0);d(this,v,void 0);d(this,m,void 0)}destroy(){clearTimeout(f(this,m)),h(this,m,void 0)}notify(e){b(this,y,N).call(this,"showNotification",{title:e.title??void 0,message:e.message??void 0,level:e.level??"info",displayDuration:e.displayDuration})}closeAll(){b(this,y,N).call(this,"closeAll")}registerHandler(e){if(f(this,l))return w.warn(`A notification handler has already been registered; this new handler will be ignored.
The <Notifier /> component has likely been used twice in your application.`),{destroy(){}};h(this,l,e);const t=f(this,v);if(h(this,v,void 0),t)for(const[s,...r]of t)e[s](...r);let i=!1;return{destroy:()=>{i||(i=!0,f(this,l)===e&&h(this,l,void 0))}}}}l=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakSet,N=function(e,...t){if(f(this,l))f(this,l)[e](...t);else{const i=f(this,v)??h(this,v,[]);if(i.length>=1024){w.error(`Internal notification buffer overflow: this event will be dropped to prevent a memory leak.
Make sure that the UI is configured to display notifications (use <Notifier />).`,{method:e,args:t});return}i.push([e,...t])}},x=new WeakSet,R=function(){f(this,l)||w.warn(`No notification handler has been registered: notifications will not be visible.
Make sure that your app contains the <Notifier /> component.`)};function A(n){const e=u.useRef(null);return u.useLayoutEffect(()=>{e.current=n}),u.useCallback((...i)=>{const s=e.current;return s(...i)},[])}const D=1,H=u.createContext(D);H.displayName="LevelContext";u.forwardRef(function(e,t){const{children:i,...s}=e,r=k(),o=O(r);return p.jsx(C,{as:o,ref:t,...s,children:i})});function k(){const n=u.useContext(H);return Math.min(n,6)}function O(n){return`h${n}`}var P={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var r="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(r=s(r,i(a)))}return r}function i(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return t.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var o="";for(var a in r)e.call(r,a)&&r[a]&&(o=s(o,a));return o}function s(r,o){return o?r?r+" "+o:r+o:r}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(P);const Z="@open-pioneer/notifier",F=I.bind(void 0,Z);var G=M({displayName:"WarningTwoIcon",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"});const U=!1;function $(n){const{position:e="top-right"}=n,t=T(),i=F("notifier.NotificationService"),[s,r]=u.useState(!U),o=A(c=>{const S=c.level==="error"?p.jsx(G,{h:"100%",w:"100%"}):void 0;t({position:e,title:c.title,description:c.message||null,status:c.level,isClosable:!0,duration:c.displayDuration??null,icon:S})}),a=A(()=>{t.closeAll()});return u.useEffect(()=>{const c=i.registerHandler({showNotification:o,closeAll:a});return()=>c.destroy()},[s,i,o,a]),p.jsx(p.Fragment,{})}export{K as N,$ as a};
