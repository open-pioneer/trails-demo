function L(e,t){const n={},c={};for(const[u,l]of Object.entries(e))t.includes(u)?n[u]=l:c[u]=l;return[n,c]}var y=()=>typeof document<"u",f=!1,i=null,o=!1,a=!1,d=new Set;function s(e,t){d.forEach(n=>n(e,t))}var w=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function v(e){return!(e.metaKey||!w&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function p(e){o=!0,v(e)&&(i="keyboard",s("keyboard",e))}function r(e){if(i="pointer",e.type==="mousedown"||e.type==="pointerdown"){o=!0;const t=e.composedPath?e.composedPath()[0]:e.target;let n=!1;try{n=t.matches(":focus-visible")}catch{}if(n)return;s("pointer",e)}}function E(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function h(e){E(e)&&(o=!0,i="virtual")}function b(e){e.target===window||e.target===document||e.target instanceof Element&&e.target.hasAttribute("tabindex")||(!o&&!a&&(i="virtual",s("virtual",e)),o=!1,a=!1)}function g(){o=!1,a=!0}function m(){return i!=="pointer"}function k(){if(!y()||f)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...n){o=!0,e.apply(this,n)},document.addEventListener("keydown",p,!0),document.addEventListener("keyup",p,!0),document.addEventListener("click",h,!0),window.addEventListener("focus",b,!0),window.addEventListener("blur",g,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",r,!0),document.addEventListener("pointermove",r,!0),document.addEventListener("pointerup",r,!0)):(document.addEventListener("mousedown",r,!0),document.addEventListener("mousemove",r,!0),document.addEventListener("mouseup",r,!0)),f=!0}function S(e){k(),e(m());const t=()=>e(m());return d.add(t),()=>{d.delete(t)}}const x={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"};export{L as s,S as t,x as v};
