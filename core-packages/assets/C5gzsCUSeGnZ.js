var p=e=>{throw TypeError(e)};var u=(e,i,n)=>i.has(e)||p("Cannot "+n);var c=(e,i,n)=>(u(e,i,"read from private field"),n?n.call(e):i.get(e)),d=(e,i,n)=>i.has(e)?p("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(e):i.set(e,n);import{a as f,j as r,b as g}from"./D2oXSZAF25Nh.js";import{u as x}from"./CEqcg7qjrBaf.js";import{B as h}from"./ByauQZPFLiUp.js";import{C as A,H as l}from"./D5d8MKrNO9TY.js";import{T as a}from"./DfwCaCqN11zg.js";import{V as w}from"./C01kSkQ--ETF.js";import"./CZpnpGhF6lFQ.js";var o;class b{constructor(i){d(this,o,new Map);const n=c(this,o),t=i.references.providers;for(const m of t){const v=m.createActions();for(const s of v){if(n.has(s.id))throw new Error(`Action '${s.id}' was defined twice.`);n.set(s.id,s)}}}getActionInfo(){const i=Array.from(c(this,o).values()).map(n=>({id:n.id,text:n.text}));return i.sort((n,t)=>n.text.localeCompare(t.text)),i}triggerAction(i){const n=c(this,o).get(i);if(!n)throw new Error(`Action '${i}' was not defined.`);n.trigger()}}o=new WeakMap;class P{createActions(){return[{id:"logging-action",text:"Log a message",trigger(){console.info("Logging a message!")}}]}}class j{createActions(){return[{id:"clear-browser-action",text:"Clear browser",trigger(){document.body.innerHTML=""}},{id:"refresh-browser-action",text:"Refresh browser",trigger(){window.location.reload()}}]}}class S{createActions(){return[{id:"open-window-action",text:"Open window",trigger(){window.open("https://www.conterra.de")}}]}}const y={"extension-app":{name:"extension-app",services:{ActionServiceImpl:{name:"ActionServiceImpl",clazz:b,provides:[{name:"extension-app.ActionService",qualifier:void 0}],references:{providers:{name:"extension-app.ActionProvider",qualifier:void 0,all:!0}}},LoggingActionProvider:{name:"LoggingActionProvider",clazz:P,provides:[{name:"extension-app.ActionProvider",qualifier:void 0}],references:{}},MultiActionProvider:{name:"MultiActionProvider",clazz:j,provides:[{name:"extension-app.ActionProvider",qualifier:void 0}],references:{}},OpenWindowActionProvider:{name:"OpenWindowActionProvider",clazz:S,provides:[{name:"extension-app.ActionProvider",qualifier:void 0}],references:{}}},ui:{references:[{name:"extension-app.ActionService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/chakra-integration":{name:"@open-pioneer/chakra-integration",services:{},ui:{references:[]},properties:{}},"@open-pioneer/runtime":{name:"@open-pioneer/runtime",services:{},ui:{references:[]},properties:{}},"@open-pioneer/base-theme":{name:"@open-pioneer/base-theme",services:{},ui:{references:[]},properties:{}},"@open-pioneer/core":{name:"@open-pioneer/core",services:{},ui:{references:[]},properties:{}},"@open-pioneer/runtime-react-support":{name:"@open-pioneer/runtime-react-support",services:{},ui:{references:[]},properties:{}}},I="",z=[];function E(e){throw new Error(`Unsupported locale: '${e}'`)}const M=f(I),T=Object.freeze(Object.defineProperty({__proto__:null,loadMessages:E,locales:z,packages:y,styles:M},Symbol.toStringTag,{value:"Module"})),k="extension-app",C=x.bind(void 0,k);function q(){const e=C("extension-app.ActionService"),i=e.getActionInfo().map(({id:n,text:t})=>r.jsx(h,{onClick:()=>e.triggerAction(n),children:t},n));return r.jsxs(A,{maxW:"3xl",py:2,children:[r.jsx(l,{as:"h1",size:"4xl",mb:4,children:"Extension Example"}),r.jsx(a,{my:2,children:"This example demonstrates how to provide an extensible API with services and 1-to-N dependencies."}),r.jsxs(a,{my:2,children:["Individual ",r.jsx("code",{children:"ActionProvider"})," instances can provide a number of actions, which are then gathered and indexed by the ",r.jsx("code",{children:"ActionService"}),", which depends on all ActionProviders. The UI references the ",r.jsx("code",{children:"ActionService"})," and renders the provided actions as buttons. When a button is clicked, the appropriate action will be triggered."]}),r.jsxs(a,{my:2,children:["To add a new action, simply add new implementation of"," ",r.jsx("code",{children:'"extension-app.ActionProvider"'}),". The"," ",r.jsx("code",{children:"ActionService"})," will pick it up automatically."]}),r.jsxs(l,{as:"h4",size:"xl",children:["Buttons from ",r.jsx("code",{children:"ActionService"}),":"]}),r.jsx(w,{align:"start",children:i})]})}const B=g({component:q,appMetadata:T});customElements.define("extension-app",B);
