var Xo=Object.defineProperty;var Jo=(r,e,t)=>e in r?Xo(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var br=(r,e,t)=>(Jo(r,typeof e!="symbol"?e+"":e,t),t),Cn=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var L=(r,e,t)=>(Cn(r,e,"read from private field"),t?t.call(r):e.get(r)),z=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},H=(r,e,t,i)=>(Cn(r,e,"write to private field"),i?i.call(r,t):e.set(r,t),t);var Y=(r,e,t)=>(Cn(r,e,"access private method"),t);import{c as ge,f as Qo,j as S,u as es,r as g,a as hn,i as bi,b as lt,d as Qn,E as he,e as ts,B as fn,k as ns,g as T,_ as N,h as rs,l as yi,R as j,m as Oe,n as is,S as os,I as er,o as yr,C as ss,t as as,p as ls,A as xn,q as wn,F as us,s as cs}from"./4536b7b97685.js";import{t as ds}from"./0010d122b66d.js";import{L as hs,C as fs,g as Si,f as Sr,V as Er,i as Ei,I as Q,a as ps,c as ms,b as bt,d as yt,e as Cr,m as gs,t as vs,h as Ci,j as St,k as xi,l as tr,n as wi,T as bs,r as ys,o as nr,E as pn,u as _i,p as Ss,S as Es,q as Cs,s as xr,v as Pi,w as Lt,x as Ii,B as rr,y as rt,z as Oi,A as wr,D as _r,F as xs,G as ws,H as _s,J as jn,K as Ge,M as Ps,N as Is,O as Os,P as Ms,Q as ks,R as je,U as ir,W as Mi,X as Mt,Y as kt,Z as ki,_ as As,$ as Ls,a0 as Ds,a1 as Pr,a2 as Rs,a3 as Fs,a4 as Ir,a5 as Ts,a6 as Vs,a7 as Se,a8 as Ns,a9 as js,aa as Ai,ab as Le,ac as qt,ad as Or,ae as Bs,af as mn,ag as $s,ah as Li,ai as Hs,aj as zs,ak as Di,al as Us,am as Gs,an as Ws,ao as qs,ap as Ys,aq as Ks,ar as Zs,as as Ri,at as Xs,au as Js,av as Qs,aw as pe,ax as Fi,ay as ea,az as it,aA as Ti,aB as Et,aC as Fe,aD as ta,aE as na,aF as ra,aG as Vi,aH as ia,aI as Mr,aJ as Ni,aK as oa,aL as kr,aM as sa,aN as _n,aO as aa,aP as Ar,aQ as la,aR as ua,aS as ca,aT as da,aU as ha,aV as Lr,aW as fa,aX as pa,aY as ma,aZ as Dt}from"./6df5caa67203.js";import{a as ji,W as ga,b as va}from"./f945ed7d84b7.js";import{E as Bi}from"./960f2965a833.js";import{u as Me,T as pt,c as gn,a as Rt,S as Ft}from"./ca4907bed514.js";import{G as vn,M as ba,a as $i,b as Hi,c as ya,T as Sa,I as Ea,Z as Ca,d as xa}from"./bb74b9a5d4bc.js";import{N as wa,u as Bn,a as _a}from"./ec9a19accc56.js";import{_ as Dr}from"./a419295615be.js";import{u as Ne,a as or}from"./36ac208a0fdb.js";import{T as bn}from"./b1b26d36649f.js";import{B as U}from"./6f807709641e.js";import{G as ut}from"./5a3a511fcd6c.js";import{L as We}from"./e5f03af71751.js";import{F as Pa,u as Ia}from"./87655c52bad6.js";import{F as Oa}from"./2f357b5caf2f.js";import{H as Ma,M as ka,a as Aa}from"./b3ce132d9994.js";import{S as La}from"./2919e309ad91.js";import{c as Da}from"./1369334e3ee6.js";import{b as Ra,a as Fa}from"./93aaff12e654.js";import{D as zi}from"./91939818e414.js";import{F as Ce}from"./54e23a1707a6.js";import{L as Ta}from"./2230dc970b93.js";import{S as Va}from"./e75c4b3b0ed4.js";import{V as Rr}from"./edadbb068963.js";import{I as Na}from"./724def2915ae.js";import"./2183a564eaef.js";import"./442a534e2059.js";import"./e608e3fdf504.js";import"./8df991587d8a.js";function ja(r,e){if(r==null)return{};var t={},i=Object.keys(r),n,o;for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}function $n(r,e){return $n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},$n(r,e)}function Ve(r){"@babel/helpers - typeof";return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(r)}function Ba(r,e){if(Ve(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e||"default");if(Ve(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Ui(r){var e=Ba(r,"string");return Ve(e)==="symbol"?e:String(e)}function mt(r,e,t){return e=Ui(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Gi=ge("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});Gi.displayName="Center";var $a={horizontal:{insetStart:"50%",transform:"translateX(-50%)"},vertical:{top:"50%",transform:"translateY(-50%)"},both:{insetStart:"50%",top:"50%",transform:"translate(-50%, -50%)"}};Qo(function(e,t){const{axis:i="both",...n}=e;return S.jsx(ge.div,{ref:t,__css:$a[i],...n,position:"absolute"})});function Ha(r,e={}){const{ssr:t=!0,fallback:i}=e,{getWindow:n}=es(),o=Array.isArray(r)?r:[r];let s=Array.isArray(i)?i:[i];s=s.filter(u=>u!=null);const[a,l]=g.useState(()=>o.map((u,c)=>({media:u,matches:t?!!s[c]:n().matchMedia(u).matches})));return g.useEffect(()=>{const u=n();l(o.map(h=>({media:h,matches:u.matchMedia(h).matches})));const c=o.map(h=>u.matchMedia(h)),d=h=>{l(f=>f.slice().map(p=>p.media===h.media?{...p,matches:h.matches}:p))};return c.forEach(h=>{typeof h.addListener=="function"?h.addListener(d):h.addEventListener("change",d)}),()=>{c.forEach(h=>{typeof h.removeListener=="function"?h.removeListener(d):h.removeEventListener("change",d)})}},[n]),a.map(u=>u.matches)}function za(r,e,t=Ra){let i=Object.keys(r).indexOf(e);if(i!==-1)return r[e];let n=t.indexOf(e);for(;n>=0;){const o=t[n];if(r.hasOwnProperty(o)){i=n;break}n-=1}if(i!==-1){const o=t[i];return r[o]}}function Ua(r){var e,t;const i=bi(r)?r:{fallback:r??"base"},o=hn().__breakpoints.details.map(({minMaxQuery:u,breakpoint:c})=>({breakpoint:c,query:u.replace("@media screen and ","")})),s=o.map(u=>u.breakpoint===i.fallback),l=Ha(o.map(u=>u.query),{fallback:s,ssr:i.ssr}).findIndex(u=>u==!0);return(t=(e=o[l])==null?void 0:e.breakpoint)!=null?t:i.fallback}function Ga(r,e){var t;const i=bi(e)?e:{fallback:e??"base"},n=Ua(i),o=hn();if(!n)return;const s=Array.from(((t=o.__breakpoints)==null?void 0:t.keys)||[]),a=Array.isArray(r)?Object.fromEntries(Object.entries(Fa(r,s)).map(([l,u])=>[l,u])):r;return za(a,n,s)}function Wi(r,e){const t=(""+r).split("."),i=(""+e).split(".");for(let n=0;n<Math.max(t.length,i.length);n++){const o=parseInt(t[n]||"0",10),s=parseInt(i[n]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}class Wa extends hs{constructor(e){e=e||{},super(e)}}const qa=Wa;class Ya extends fs{constructor(e){super(e),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],i=e.pixelRatio,n=e.viewState,o=n.resolution,s=this.getLayer().getSource(),a=e.viewHints;let l=e.extent;if(t.extent!==void 0&&(l=Si(l,Sr(t.extent,n.projection))),!a[Er.ANIMATING]&&!a[Er.INTERACTING]&&!Ei(l))if(s){const u=n.projection,c=s.getImage(l,o,i,u);c&&(this.loadImage(c)?this.image_=c:c.getState()===Q.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),n=ps(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!ms(o,n))return null;const s=this.image_.getExtent(),a=this.image_.getImage(),l=bt(s),u=Math.floor(a.width*((n[0]-s[0])/l));if(u<0||u>=a.width)return null;const c=yt(s),d=Math.floor(a.height*((s[3]-n[1])/c));return d<0||d>=a.height?null:this.getImageData(a,u,d)}renderFrame(e,t){const i=this.image_,n=i.getExtent(),o=i.getResolution(),[s,a]=Array.isArray(o)?o:[o,o],l=i.getPixelRatio(),u=e.layerStatesArray[e.layerIndex],c=e.pixelRatio,d=e.viewState,h=d.center,f=d.resolution,p=c*s/(f*l),v=c*a/(f*l),m=e.extent,y=d.resolution,w=d.rotation,C=Math.round(bt(m)/y*c),O=Math.round(yt(m)/y*c);Cr(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/c,1/c,w,-C/2,-O/2),gs(this.inversePixelTransform,this.pixelTransform);const R=vs(this.pixelTransform);this.useContainer(t,R,this.getBackground(e));const P=this.context,D=P.canvas;D.width!=C||D.height!=O?(D.width=C,D.height=O):this.containerReused||P.clearRect(0,0,C,O);let b=!1,E=!0;if(u.extent){const x=Sr(u.extent,d.projection);E=Ci(x,e.extent),b=E&&!St(x,e.extent),b&&this.clipUnrotated(P,e,x)}const I=i.getImage(),_=Cr(this.tempTransform,C/2,O/2,p,v,0,l*(n[0]-h[0])/s,l*(h[1]-n[3])/a);this.renderedResolution=a*c/l;const M=I.width*_[0],A=I.height*_[3];if(this.getLayer().getSource().getInterpolate()||(P.imageSmoothingEnabled=!1),this.preRender(P,e),E&&M>=.5&&A>=.5){const x=_[4],k=_[5],B=u.opacity;let V;B!==1&&(V=P.globalAlpha,P.globalAlpha=B),P.drawImage(I,0,0,+I.width,+I.height,x,k,M,A),B!==1&&(P.globalAlpha=V)}return this.postRender(P,e),b&&P.restore(),P.imageSmoothingEnabled=!0,R!==D.style.transform&&(D.style.transform=R),this.container}}const Ka=Ya;class Za extends qa{constructor(e){super(e)}createRenderer(){return new Ka(this)}getData(e){return super.getData(e)}}const Xa=Za;function Hn(r){return Array.isArray(r)?Math.min(...r):r}class Ja extends xi{constructor(e,t,i,n,o,s,a){let l=e.getExtent();l&&e.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);let u=t.getExtent();u&&t.canWrapX()&&(u=u.slice(),u[0]=-1/0,u[2]=1/0);const c=u?Si(i,u):i,d=tr(c),h=wi(e,t,d,n),f=Ss,p=new bs(e,t,c,l,h*f,n),v=p.calculateSourceExtent(),m=Ei(v)?null:s(v,h,o),y=m?Q.IDLE:Q.EMPTY,w=m?m.getPixelRatio():1;super(i,n,w,y),this.targetProj_=t,this.maxSourceExtent_=l,this.triangulation_=p,this.targetResolution_=n,this.targetExtent_=i,this.sourceImage_=m,this.sourcePixelRatio_=w,this.interpolate_=a,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==Q.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==Q.LOADED){const t=bt(this.targetExtent_)/this.targetResolution_,i=yt(this.targetExtent_)/this.targetResolution_;this.canvas_=ys(t,i,this.sourcePixelRatio_,Hn(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==Q.IDLE){this.state=Q.LOADING,this.changed();const e=this.sourceImage_.getState();e==Q.LOADED||e==Q.ERROR?this.reproject_():(this.sourceListenerKey_=nr(this.sourceImage_,pn.CHANGE,function(t){const i=this.sourceImage_.getState();(i==Q.LOADED||i==Q.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}}unlistenSource_(){_i(this.sourceListenerKey_),this.sourceListenerKey_=null}}const Qa=Ja,Ie=4,Pn={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class el extends rr{constructor(e,t){super(e),this.image=t}}class tl extends Es{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const i=Cs(t,e,0);e=t[i]}return e}getImage(e,t,i,n){const o=this.getProjection();if(!o||!n||xr(o,n))return o&&(n=o),this.getImageInternal(e,t,i,n);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&xr(this.reprojectedImage_.getProjection(),n)&&this.reprojectedImage_.getResolution()==t&&Pi(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Qa(o,n,e,t,i,(s,a,l)=>this.getImageInternal(s,a,l,o),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,i,n){if(this.loader){const o=qi(e,t,i,1),s=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===n&&(this.wantedExtent_&&St(this.wantedExtent_,o)||St(this.image.getExtent(),o))&&(this.wantedResolution_&&Hn(this.wantedResolution_)===s||Hn(this.image.getResolution())===s)))return this.image;this.wantedProjection_=n,this.wantedExtent_=o,this.wantedResolution_=s,this.image=new xi(o,s,i,this.loader),this.image.addEventListener(pn.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let i;switch(t.getState()){case Q.LOADING:this.loading=!0,i=Pn.IMAGELOADSTART;break;case Q.LOADED:this.loading=!1,i=Pn.IMAGELOADEND;break;case Q.ERROR:this.loading=!1,i=Pn.IMAGELOADERROR;break;default:return}this.hasListener(i)&&this.dispatchEvent(new el(i,t))}}function nl(r,e){r.getImage().src=e}function qi(r,e,t,i){const n=e/t,o=tr(r),s=Lt(bt(r)/n,Ie),a=Lt(yt(r)/n,Ie),l=Lt((i-1)*s/2,Ie),u=s+2*l,c=Lt((i-1)*a/2,Ie),d=a+2*c;return Ii(o,n,0,[u,d])}const rl=tl,Yi="1.3.0",Fr=[101,101];function Ki(r,e,t,i,n){n.WIDTH=t[0],n.HEIGHT=t[1];const o=i.getAxisOrientation();let s;const a=Wi(n.VERSION,"1.3")>=0;return n[a?"CRS":"SRS"]=i.getCode(),a&&o.substr(0,2)=="ne"?s=[e[1],e[0],e[3],e[2]]:s=e,n.BBOX=s.join(","),ji(r,n)}function il(r,e,t,i,n,o,s){o=Object.assign({REQUEST:"GetMap"},o);const a=e/t,l=[_r(bt(r)/a,Ie),_r(yt(r)/a,Ie)];if(t!=1)switch(s){case"geoserver":const c=90*t+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+c:o.FORMAT_OPTIONS="dpi:"+c;break;case"mapserver":o.MAP_RESOLUTION=90*t;break;case"carmentaserver":case"qgis":o.DPI=90*t;break;default:throw new Error("Unknown `serverType` configured")}return Ki(n,r,l,i,o)}function Zi(r,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:Yi,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},r)}function ol(r){const e=r.hidpi===void 0?!0:r.hidpi,t=rt(r.projection||"EPSG:3857"),i=r.ratio||1.5,n=r.load||Oi;return(o,s,a)=>{o=qi(o,s,a,i),a!=1&&(!e||r.serverType===void 0)&&(a=1);const l=il(o,s,a,t,r.url,Zi(r.params,"GetMap"),r.serverType),u=new Image;return r.crossOrigin!==null&&(u.crossOrigin=r.crossOrigin),n(u,l).then(c=>({image:c,extent:o,pixelRatio:a}))}}function sl(r,e,t){if(r.url===void 0)return;const i=rt(r.projection||"EPSG:3857"),n=Ii(e,t,0,Fr),o={QUERY_LAYERS:r.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(o,Zi(r.params,"GetFeatureInfo"),r.params);const s=wr((e[0]-n[0])/t,Ie),a=wr((n[3]-e[1])/t,Ie),l=Wi(o.VERSION,"1.3")>=0;return o[l?"I":"X"]=s,o[l?"J":"Y"]=a,Ki(r.url,n,Fr,i,o)}function al(r,e){if(r.url===void 0)return;const t={SERVICE:"WMS",VERSION:Yi,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(r.params===void 0||r.params.LAYER===void 0){const i=r.params.LAYERS;if(!(!Array.isArray(i)||i.length===1))return;t.LAYER=i}if(e!==void 0){const i=rt(r.projection||"EPSG:3857").getMetersPerUnit()||1,n=28e-5;t.SCALE=e*i/n}return Object.assign(t,r.params),ji(r.url,t)}class ll extends rl{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=e.imageLoadFunction!==void 0?e.imageLoadFunction:nl,this.params_=e.params,this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(e,t,i,n){const o=rt(i),s=this.getProjection();s&&s!==o&&(t=wi(s,o,e,t),e=xs(e,o,s));const a={url:this.url_,params:{...this.params_,...n},projection:s||o};return sl(a,e,t)}getLegendUrl(e,t){return al({url:this.url_,params:{...this.params_,...t}},e)}getParams(){return this.params_}getImageInternal(e,t,i,n){return this.url_===void 0?null:((!this.loader||this.loaderProjection_!==n)&&(this.loaderProjection_=n,this.loader=ol({crossOrigin:this.crossOrigin_,params:this.params_,projection:n,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(o,s)=>(this.image.setImage(o),this.imageLoadFunction_(this.image,s),Oi(o))})),super.getImageInternal(e,t,i,n))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(e){this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.loader=null,this.changed())}updateParams(e){Object.assign(this.params_,e),this.changed()}changed(){this.image=null,super.changed()}}const ul=ll;function cl(r){let e=!1,t=setTimeout(()=>{e=!0,t=void 0,r()});return{reschedule(){return!e},cancel(){t&&clearTimeout(t)}}}var xe;class Xi extends Bi{constructor(t){super();z(this,xe,void 0);H(this,xe,t)}destroy(){for(const t of L(this,xe))t.destroy();H(this,xe,[])}getSublayers(t){return L(this,xe).slice()}__getRawSublayers(){return L(this,xe)}}xe=new WeakMap;const dl=lt("map:WMSLayer");var Ct,qe,Ye,Ke,Ze,xt,zn,on,Ji;class hl extends ws{constructor(t){const i=new Xa;super({...t,olLayer:i});z(this,xt);z(this,on);z(this,Ct,void 0);z(this,qe,void 0);z(this,Ye,void 0);z(this,Ke,void 0);z(this,Ze,void 0);const n=new ul({...t.sourceOptions,url:t.url,params:{...t.sourceOptions?.params}});H(this,Ct,t.url),H(this,Ze,n),H(this,Ke,i),H(this,qe,new Xi(Qi(t.sublayers))),Y(this,xt,zn).call(this)}get url(){return L(this,Ct)}get sublayers(){return L(this,qe)}__attach(t){super.__attach(t);for(const i of L(this,qe).getSublayers())i.__attach(t,this,this)}__updateSublayerVisibility(){L(this,Ye)?.reschedule()||H(this,Ye,cl(()=>{try{Y(this,xt,zn).call(this),H(this,Ye,void 0)}catch(t){dl.error(`Failed to update sublayer visibility on WMS layer '${this.id}'.`,t)}}))}}Ct=new WeakMap,qe=new WeakMap,Ye=new WeakMap,Ke=new WeakMap,Ze=new WeakMap,xt=new WeakSet,zn=function(){const t=Y(this,on,Ji).call(this);L(this,Ze).updateParams({LAYERS:t});const i=t.length===0?null:L(this,Ze);L(this,Ke).getSource()!==i&&L(this,Ke).setSource(i)},on=new WeakSet,Ji=function(){const t=[],i=n=>{if(!n.visible)return;const o=n.sublayers.__getRawSublayers();if(o.length)for(const s of o)i(s);else t.push(n.name)};for(const n of this.sublayers.__getRawSublayers())i(n);return t};var De,we,wt,_t,Xe;class fl extends _s{constructor(t){super(t);z(this,De,void 0);z(this,we,void 0);z(this,wt,void 0);z(this,_t,void 0);z(this,Xe,void 0);H(this,wt,t.name),H(this,Xe,t.visible??!0),H(this,_t,new Xi(Qi(t.sublayers)))}get name(){return L(this,wt)}get sublayers(){return L(this,_t)}get parent(){const t=L(this,De);if(!t)throw new Error(`WMS sublayer ${this.id} has not been attached to its parent yet.`);return t}get parentLayer(){const t=L(this,we);if(!t)throw new Error(`WMS sublayer ${this.id} has not been attached to its parent yet.`);return t}__attach(t,i,n){if(super.__attachToMap(t),L(this,De))throw new Error(`WMS sublayer '${this.id}' has already been attached to parent '${L(this,De).id}'`);if(H(this,De,n),L(this,we))throw new Error(`WMS sublayer '${this.id}' has already been attached to parent layer '${L(this,we).id}'`);H(this,we,i);for(const o of this.sublayers.__getRawSublayers())o.__attach(t,i,this)}get visible(){return L(this,Xe)}setVisible(t){this.visible!==t&&(H(this,Xe,t),L(this,we)?.__updateSublayerVisibility(),this.__emitChangeEvent("changed:visible"))}}De=new WeakMap,we=new WeakMap,wt=new WeakMap,_t=new WeakMap,Xe=new WeakMap;function Qi(r=[]){const e=[];try{for(const t of r)e.push(new fl(t));return e}catch(t){for(;e.length;)e.pop()?.destroy();throw new Error("Failed to construct sublayers.",{cause:t})}}const eo=hl,pl=25.4/.28,ml=39.37;function sr(r){return ar(r,gl,vl)}function gl(r){return r.getView()}function vl(r,e){return r.on("change:view",e)}function to(r){return sr(r)?.getProjection()}function bl(r){const e=sr(r);return ar(e,yl,Sl)}function yl(r){return r.getResolution()}function Sl(r,e){return r.on("change:resolution",e)}function El(r){const e=sr(r);return ar(e,Cl,xl)}function Cl(r){return r.getCenter()}function xl(r,e){return r.on("change:center",e)}function wl(r){const e=El(r),t=bl(r),i=to(r);return g.useMemo(()=>{if(i==null||t==null||e==null)return;const o=jn(i,t,e);return Math.round(o*ml*pl)},[i,t,e])}function ar(r,e,t){const i=g.useCallback(()=>r?e(r):void 0,[r,e]),n=g.useCallback(o=>{if(!r)return()=>{};const s=t(r,o);return()=>Ge(s)},[r,t]);return g.useSyncExternalStore(n,i)}class yn extends Ps{constructor(e,t,i){super(),i!==void 0&&t===void 0?this.setFlatCoordinates(i,e):(t=t||0,this.setCenterAndRadius(e,t,i))}clone(){const e=new yn(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,n){const o=this.flatCoordinates,s=e-o[0],a=t-o[1],l=s*s+a*a;if(l<n){if(l===0)for(let u=0;u<this.stride;++u)i[u]=o[u];else{const u=this.getRadius()/Math.sqrt(l);i[0]=o[0]+u*s,i[1]=o[1]+u*a;for(let c=2;c<this.stride;++c)i[c]=o[c]}return i.length=this.stride,l}return n}containsXY(e,t){const i=this.flatCoordinates,n=e-i[0],o=t-i[1];return n*n+o*o<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,i=t[this.stride]-t[0];return Is(t[0]-i,t[1]-i,t[0]+i,t[1]+i,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){const t=this.getExtent();if(Ci(e,t)){const i=this.getCenter();return e[0]<=i[0]&&e[2]>=i[0]||e[1]<=i[1]&&e[3]>=i[1]?!0:Os(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const t=this.stride,i=this.flatCoordinates[t]-this.flatCoordinates[0],n=e.slice();n[t]=n[0]+i;for(let o=1;o<t;++o)n[t+o]=e[o];this.setFlatCoordinates(this.layout,n),this.changed()}setCenterAndRadius(e,t,i){this.setLayout(i,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const n=this.flatCoordinates;let o=Ms(n,0,e,this.stride);n[o++]=n[0]+t;for(let s=1,a=this.stride;s<a;++s)n[o++]=n[s];n.length=o,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const i=this.getCenter(),n=this.getStride();this.setCenter(ks(i,0,i.length,n,e,t,i)),this.changed()}}yn.prototype.transform;const _l=yn,X="main";class Pl{mapId=X;async getMapConfig(){return{initialView:{kind:"position",center:{x:404747,y:5757920},zoom:14},projection:"EPSG:25832",layers:[new je({id:"topplus_open",title:"TopPlus Open",isBaseLayer:!0,visible:!0,olLayer:In("web")}),new je({id:"topplus_open_grau",title:"TopPlus Open (Grau)",isBaseLayer:!0,visible:!1,olLayer:In("web_grau")}),new je({id:"topplus_open_light",title:"TopPlus Open (Light)",isBaseLayer:!0,visible:!1,olLayer:In("web_light")}),new je({title:"OSM",visible:!1,isBaseLayer:!0,olLayer:new ir({source:new Mi})}),new je({title:"Haltestellen Stadt Rostock",visible:!0,description:"Haltestellen des öffentlichen Personenverkehrs in der Hanse- und Universitätsstadt Rostock.",olLayer:Il()}),new je({title:"Kindertagesstätten",visible:!0,olLayer:Ol()}),Ml(),kl()]}}}function In(r){const e=[-380316598427299e-8,880590808284866e-8],t=[4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.748113140705,152.874056570353,76.4370282851763,38.2185141425881,19.1092570712941,9.55462853564703,4.77731426782352,2.38865713391176,1.19432856695588,.59716428347794],i=new Array(t.length);for(let o=0;o<t.length;o++)i[o]=o;const n=new ga({url:`https://sgx.geodatenzentrum.de/wmts_topplus_open/tile/1.0.0/${r}/{Style}/{TileMatrixSet}/{TileMatrix}/{TileRow}/{TileCol}.png`,layer:"web_grau",matrixSet:"EU_EPSG_25832_TOPPLUS",format:"image/png",projection:"EPSG:25832",requestEncoding:"REST",tileGrid:new va({origin:e,resolutions:t,matrixIds:i}),style:"default",attributions:`Kartendarstellung und Präsentationsgraphiken: © Bundesamt für Kartographie und Geodäsie ${new Date().getFullYear()}, <a href="https://sg.geodatenzentrum.de/web_public/gdz/datenquellen/Datenquellen_TopPlusOpen.html" target="_blank">Datenquellen</a>`});return new ir({source:n})}function Il(){const r=new Mt({url:"https://geo.sv.rostock.de/download/opendata/haltestellen/haltestellen.json",format:new vn,attributions:"Haltestellen Stadt Rostock, Creative Commons CC Zero License (cc-zero)"});return new kt({source:r})}function Ol(){const r=new Mt({url:"https://ogc-api.nrw.de/inspire-us-kindergarten/v1/collections/governmentalservice/items?f=json&limit=10000",format:new vn,attributions:'&copy; <a href="http://www.bkg.bund.de" target="_blank">Bundesamt f&uuml;r Kartographie und Geod&auml;sie</a> 2017, <a href="http://sg.geodatenzentrum.de/web_public/Datenquellen_TopPlus_Open.pdf" target="_blank">Datenquellen</a>'});return new kt({source:r})}function Ml(){return new eo({title:"Schulstandorte",description:"Der vorliegende Datenbestand / Dienst zu den Schulstandorten in NRW stammt aus der Schuldatenbank. Die Informationen werden von den Schulträgern bzw. Schulen selbst eingetragen und aktuell gehalten. Die Daten werden tagesaktuell bereitgestellt und enthalten alle grundlegenden Informationen zu Schulen wie Schulnummer, Schulbezeichnung und Adresse.Der vorliegende Datenbestand / Dienst zu den Schulstandorten in NRW stammt aus der Schuldatenbank. Die Informationen werden von den Schulträgern bzw. Schulen selbst eingetragen und aktuell gehalten. Die Daten werden tagesaktuell bereitgestellt und enthalten alle grundlegenden Informationen zu Schulen wie Schulnummer, Schulbezeichnung und Adresse.Der vorliegende Datenbestand / Dienst zu den Schulstandorten in NRW stammt aus der Schuldatenbank. Die Informationen werden von den Schulträgern bzw. Schulen selbst eingetragen und aktuell gehalten. Die Daten werden tagesaktuell bereitgestellt und enthalten alle grundlegenden Informationen zu Schulen wie Schulnummer, Schulbezeichnung und Adresse.Der vorliegende Datenbestand / Dienst zu den Schulstandorten in NRW stammt aus der Schuldatenbank. Die Informationen werden von den Schulträgern bzw. Schulen selbst eingetragen und aktuell gehalten. Die Daten werden tagesaktuell bereitgestellt und enthalten alle grundlegenden Informationen zu Schulen wie Schulnummer, Schulbezeichnung und Adresse.",visible:!0,url:"https://www.wms.nrw.de/wms/wms_nw_inspire-schulen",sublayers:[{name:"US.education",title:"INSPIRE - WMS Schulstandorte NRW"}],sourceOptions:{ratio:1}})}function kl(){return new eo({title:"Straßennetz Landesbetrieb Straßenbau NRW",url:"https://www.wms.nrw.de/wms/strassen_nrw_wms",sublayers:[{name:"1",title:"Verwaltungen"},{name:"4",title:"Abschnitte und Äste"},{name:"6",title:"Unfälle"}]})}var le,Pt,It,sn,no,an,ro;class Al{constructor(e){z(this,sn);z(this,an);br(this,"label");z(this,le,void 0);z(this,Pt,void 0);z(this,It,void 0);this.label=e.label,H(this,le,e);const{baseUrl:t,params:i}=Dl(e.baseUrl);H(this,Pt,t),H(this,It,i)}async search(e,{mapProjection:t,maxResults:i,signal:n}){const o=Y(this,an,ro).call(this,e,i),s=new vn({dataProjection:"EPSG:4326",featureProjection:t});return(await Ll(o,n)).features.map(l=>Y(this,sn,no).call(this,l,s))}}le=new WeakMap,Pt=new WeakMap,It=new WeakMap,sn=new WeakSet,no=function(e,t){const i=L(this,le).renderLabel?.(e),n=e.properties[L(this,le).labelProperty],o=e.properties[L(this,le).searchProperty],s=(()=>i||(n!==void 0?String(n):o!==void 0?String(o):""))();return{id:e.id??ki(),label:s,geometry:t.readGeometry(e.geometry),properties:e.properties}},an=new WeakSet,ro=function(e,t){const i=new URL(`${L(this,Pt)}/collections/${L(this,le).collectionId}/items`);for(const[n,o]of L(this,It))i.searchParams.append(n,o);return i.searchParams.set(L(this,le).searchProperty,`*${e}*`),i.searchParams.set("limit",String(t)),i.searchParams.set("f","json"),L(this,le).rewriteUrl?.(new URL(i))??i};async function Ll(r,e){try{const t=await fetch(r,{signal:e,headers:{Accept:"application/json"}});if(!t.ok)throw new Error("Request failed with status "+t.status);return await t.json()}catch(t){throw Qn(t)?t:new Error("Failed to search on OGC API Features service",{cause:t})}}function Dl(r){const e=new URL(r),t=new URLSearchParams(e.searchParams);return e.search="",{baseUrl:e.href.replace(/\/+$/,""),params:t}}class Rl{label;filteredTypes;constructor(e,t){this.label=e,this.filteredTypes=t}async request(e,t,i){const n=new URL("https://photon.komoot.io/api?");n.searchParams.set("q",e),n.searchParams.set("lang","de"),n.searchParams.set("lat","51.961563"),n.searchParams.set("lon","7.628202"),n.searchParams.set("limit",t.toString());const o=await fetch(n,{signal:i});if(!o.ok)throw new Error("Request failed: "+o.status);return await o.json()}createLabel(e){return`${e.properties.name} (${e.properties.osm_value?e.properties.osm_value+", ":""}${e.properties.postcode?e.properties.postcode+", ":""}${e.properties.city?e.properties.city+", ":""}${e.properties.country?e.properties.country+")":")"}`}async search(e,{mapProjection:t,signal:i}){const n=await this.request(e,100,i),o=new vn({dataProjection:"EPSG:4326",featureProjection:t});return n.features.filter(s=>this.filteredTypes.includes(s.properties.type)).map((s,a)=>{const l=o.readGeometry(s.geometry);return{id:s.properties.osm_id||a,label:this.createLabel(s),geometry:l,properties:s.properties}})}}class Fl{intl;constructor({intl:e}){this.intl=e}getSearchSources(){return[new Al({label:this.intl.formatMessage({id:"searchSources.miningPermissions"}),baseUrl:"https://ogc-api.nrw.de/inspire-am-bergbauberechtigungen/v1",collectionId:"managementrestrictionorregulationzone",searchProperty:"thematicId",labelProperty:"name",renderLabel(t){const i=t?.properties?.name,n=t?.id;return typeof i=="string"?i+" ("+n+")":String(n)},rewriteUrl(t){return t.searchParams.set("properties","name"),t}}),new Rl("Photon Geocoder",["city","street"])]}}const Tt={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class Vt extends rr{constructor(e,t){super(e),this.feature=t}}function Tl(r,e){const t=[];for(let i=0;i<e.length;++i){const o=e[i].getGeometry();io(r,o,t)}return t}function Nt(r,e){return Li(r[0],r[1],e[0],e[1])}function ze(r,e){const t=r.length;return e<0?r[e+t]:e>=t?r[e-t]:r[e]}function jt(r,e,t){let i,n;e<t?(i=e,n=t):(i=t,n=e);const o=Math.ceil(i),s=Math.floor(n);if(o>s){const l=Ue(r,i),u=Ue(r,n);return Nt(l,u)}let a=0;if(i<o){const l=Ue(r,i),u=ze(r,o);a+=Nt(l,u)}if(s<n){const l=ze(r,s),u=Ue(r,n);a+=Nt(l,u)}for(let l=o;l<s-1;++l){const u=ze(r,l),c=ze(r,l+1);a+=Nt(u,c)}return a}function io(r,e,t){if(e instanceof We){Bt(r,e.getCoordinates(),!1,t);return}if(e instanceof $i){const i=e.getCoordinates();for(let n=0,o=i.length;n<o;++n)Bt(r,i[n],!1,t);return}if(e instanceof mn){const i=e.getCoordinates();for(let n=0,o=i.length;n<o;++n)Bt(r,i[n],!0,t);return}if(e instanceof Hi){const i=e.getCoordinates();for(let n=0,o=i.length;n<o;++n){const s=i[n];for(let a=0,l=s.length;a<l;++a)Bt(r,s[a],!0,t)}return}if(e instanceof ya){const i=e.getGeometries();for(let n=0;n<i.length;++n)io(r,i[n],t);return}}const On={index:-1,endIndex:NaN};function Vl(r,e,t,i){const n=r[0],o=r[1];let s=1/0,a=-1,l=NaN;for(let d=0;d<e.targets.length;++d){const h=e.targets[d],f=h.coordinates;let p=1/0,v;for(let m=0;m<f.length-1;++m){const y=f[m],w=f[m+1],C=oo(n,o,y,w);C.squaredDistance<p&&(p=C.squaredDistance,v=m+C.along)}p<s&&(s=p,h.ring&&e.targetIndex===d&&(h.endIndex>h.startIndex?v<h.startIndex&&(v+=f.length):h.endIndex<h.startIndex&&v>h.startIndex&&(v-=f.length)),l=v,a=d)}const u=e.targets[a];let c=u.ring;if(e.targetIndex===a&&c){const d=Ue(u.coordinates,l),h=t.getPixelFromCoordinate(d);Ai(h,e.startPx)>i&&(c=!1)}if(c){const d=u.coordinates,h=d.length,f=u.startIndex,p=l;if(f<p){const v=jt(d,f,p);jt(d,f,p-h)<v&&(l-=h)}else{const v=jt(d,f,p);jt(d,f,p+h)<v&&(l+=h)}}return On.index=a,On.endIndex=l,On}function Bt(r,e,t,i){const n=r[0],o=r[1];for(let s=0,a=e.length-1;s<a;++s){const l=e[s],u=e[s+1],c=oo(n,o,l,u);if(c.squaredDistance===0){const d=s+c.along;i.push({coordinates:e,ring:t,startIndex:d,endIndex:d});return}}}const Mn={along:0,squaredDistance:0};function oo(r,e,t,i){const n=t[0],o=t[1],s=i[0],a=i[1],l=s-n,u=a-o;let c=0,d=n,h=o;return(l!==0||u!==0)&&(c=zs(((r-n)*l+(e-o)*u)/(l*l+u*u),0,1),d+=l*c,h+=u*c),Mn.along=c,Mn.squaredDistance=$s(Li(r,e,d,h),10),Mn}function Ue(r,e){const t=r.length;let i=Math.floor(e);const n=e-i;i>=t?i-=t:i<0&&(i+=t);let o=i+1;o>=t&&(o-=t);const s=r[i],a=s[0],l=s[1],u=r[o],c=u[0]-a,d=u[1]-l;return[a+c*n,l+d*n]}class Nl extends As{constructor(e){const t=e;t.stopDown||(t.stopDown=Ls),super(t),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=Bl(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:Ds,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let i=e.geometryFunction;if(!i){const n=this.mode_;if(n==="Circle")i=function(o,s,a){const l=s||new _l([NaN,NaN]),u=Pr(o[0]),c=Rs(u,Pr(o[o.length-1]));return l.setCenterAndRadius(u,Math.sqrt(c),this.geometryLayout_),l};else{let o;n==="Point"?o=qt:n==="LineString"?o=We:n==="Polygon"&&(o=mn),i=function(s,a,l){return a?n==="Polygon"?s[0].length?a.setCoordinates([s[0].concat([s[0][0]])],this.geometryLayout_):a.setCoordinates([],this.geometryLayout_):a.setCoordinates(s,this.geometryLayout_):a=new o(s,this.geometryLayout_),a}}}this.geometryFunction_=i,this.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new kt({source:new Mt({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:jl(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:Fs,this.freehandCondition_,e.freehand?this.freehandCondition_=Ir:this.freehandCondition_=e.freehandCondition?e.freehandCondition:Ts,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(Vs.ACTIVE,this.updateState_)}setTrace(e){let t;e?e===!0?t=Ir:t=e:t=Hs,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===pn.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(e);let t=e.type===Se.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===Se.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===Se.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===Se.POINTERDOWN?i=!1:t&&this.getPointerCount()<2?(i=e.type===Se.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===Se.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===Se.DBLCLICK&&(i=!1),super.handleEvent(e)&&i}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new Ns(Se.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))},this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active){this.deactivateTrace_();return}const t=this.getMap(),i=t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),n=t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_]),o=js([i,n]),s=this.traceSource_.getFeaturesInExtent(o);if(s.length===0)return;const a=Tl(e.coordinate,s);a.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:a,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const i=e.startIndex<=e.endIndex,n=e.startIndex<=t;i===n?i&&t>e.endIndex||!i&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(i&&t<e.endIndex||!i&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let i=0;if(e<t){const n=Math.ceil(e);let o=Math.floor(t);o===t&&(o-=1),i=o-n+1}else{const n=Math.floor(e);let o=Math.ceil(t);o===t&&(o+=1),i=n-o+1}i>0&&this.removeLastPoints_(i)}addTracedCoordinates_(e,t,i){if(t===i)return;const n=[];if(t<i){const o=Math.ceil(t);let s=Math.floor(i);s===i&&(s-=1);for(let a=o;a<=s;++a)n.push(ze(e.coordinates,a))}else{const o=Math.floor(t);let s=Math.ceil(i);s===i&&(s+=1);for(let a=o;a>=s;--a)n.push(ze(e.coordinates,a))}n.length&&this.appendCoordinates(n)}updateTrace_(e){const t=this.traceState_;if(!t.active||t.targetIndex===-1&&Ai(t.startPx,e.pixel)<this.snapTolerance_)return;const i=Vl(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==i.index){if(t.targetIndex!==-1){const l=t.targets[t.targetIndex];this.removeTracedCoordinates_(l.startIndex,l.endIndex)}const a=t.targets[i.index];this.addTracedCoordinates_(a,a.startIndex,i.endIndex)}else{const a=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(a,i.endIndex)}t.targetIndex=i.index;const n=t.targets[t.targetIndex];n.endIndex=i.endIndex;const o=Ue(n.coordinates,n.endIndex),s=this.getMap().getPixelFromCoordinate(o);e.coordinate=o,e.pixel=[Math.round(s[0]),Math.round(s[1])]}handleUpEvent(e){let t=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const i=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){const n=!this.finishCoordinate_;n&&this.startDrawing_(e.coordinate),!n&&this.freehand_?this.finishDrawing():!this.freehand_&&(!n||this.mode_==="Point")&&(this.atFinish_(e.pixel,i)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,i=e.pixel,n=t[0]-i[0],o=t[1]-i[1],s=n*n+o*o;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(e.coordinate.slice());return}this.updateTrace_(e),this.modifyDrawing_(e.coordinate)}atFinish_(e,t){let i=!1;if(this.sketchFeature_){let n=!1,o=[this.finishCoordinate_];const s=this.mode_;if(s==="Point")i=!0;else if(s==="Circle")i=this.sketchCoords_.length===2;else if(s==="LineString")n=!t&&this.sketchCoords_.length>this.minPoints_;else if(s==="Polygon"){const a=this.sketchCoords_;n=a[0].length>this.minPoints_,o=[a[0][0],a[0][a[0].length-2]],t?o=[a[0][0]]:o=[a[0][0],a[0][a[0].length-2]]}if(n){const a=this.getMap();for(let l=0,u=o.length;l<u;l++){const c=o[l],d=a.getPixelFromCoordinate(c),h=e[0]-d[0],f=e[1]-d[1],p=this.freehand_?1:this.snapTolerance_;if(i=Math.sqrt(h*h+f*f)<=p,i){this.finishCoordinate_=c;break}}}}return i}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new Le(new qt(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new Le);const t=e.getLinearRing(0);let i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),i.changed()):(i=new We(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(i))}startDrawing_(e){const t=this.getMap().getView().getProjection(),i=Or(this.geometryLayout_);for(;e.length<i;)e.push(0);this.finishCoordinate_=e,this.mode_==="Point"?this.sketchCoords_=e.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Le(new We(this.sketchLineCoords_)));const n=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new Le,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new Vt(Tt.DRAWSTART,this.sketchFeature_))}modifyDrawing_(e){const t=this.getMap(),i=this.sketchFeature_.getGeometry(),n=t.getView().getProjection(),o=Or(this.geometryLayout_);let s,a;for(;e.length<o;)e.push(0);this.mode_==="Point"?a=this.sketchCoords_:this.mode_==="Polygon"?(s=this.sketchCoords_[0],a=s[s.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(s=this.sketchCoords_,a=s[s.length-1]),a[0]=e[0],a[1]=e[1],this.geometryFunction_(this.sketchCoords_,i,n),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),i.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(i):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const t=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();let n,o;const s=this.mode_;s==="LineString"||s==="Circle"?(this.finishCoordinate_=e.slice(),o=this.sketchCoords_,o.length>=this.maxPoints_&&(this.freehand_?o.pop():n=!0),o.push(e.slice()),this.geometryFunction_(o,t,i)):s==="Polygon"&&(o=this.sketchCoords_[0],o.length>=this.maxPoints_&&(this.freehand_?o.pop():n=!0),o.push(e.slice()),n&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,t,i)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),n&&this.finishDrawing()}removeLastPoints_(e){if(!this.sketchFeature_)return;const t=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),n=this.mode_;for(let o=0;o<e;++o){let s;if(n==="LineString"||n==="Circle"){if(s=this.sketchCoords_,s.splice(-2,1),s.length>=2){this.finishCoordinate_=s[s.length-2].slice();const a=this.finishCoordinate_.slice();s[s.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(s,t,i),t.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(n==="Polygon"){s=this.sketchCoords_[0],s.splice(-2,1);const a=this.sketchLine_.getGeometry();if(s.length>=2){const l=s[s.length-2].slice();s[s.length-1]=l,this.createOrUpdateSketchPoint_(l)}a.setCoordinates(s),this.geometryFunction_(this.sketchCoords_,t,i)}if(s.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return;let t=this.sketchCoords_;const i=e.getGeometry(),n=this.getMap().getView().getProjection();this.mode_==="LineString"?(t.pop(),this.geometryFunction_(t,i,n)):this.mode_==="Polygon"&&(t[0].pop(),this.geometryFunction_(t,i,n),t=i.getCoordinates()),this.type_==="MultiPoint"?e.setGeometry(new ba([t])):this.type_==="MultiLineString"?e.setGeometry(new $i([t])):this.type_==="MultiPolygon"&&e.setGeometry(new Hi([t])),this.dispatchEvent(new Vt(Tt.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new Vt(Tt.DRAWABORT,e))}appendCoordinates(e){const t=this.mode_,i=!this.sketchFeature_;i&&this.startDrawing_(e[0]);let n;if(t==="LineString"||t==="Circle")n=this.sketchCoords_;else if(t==="Polygon")n=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;i&&n.shift(),n.pop();for(let s=0;s<e.length;s++)this.addToDrawing_(e[s]);const o=e[e.length-1];this.addToDrawing_(o),this.modifyDrawing_(o)}extend(e){const i=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=i.getCoordinates();const n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.sketchPoint_=new Le(new qt(n)),this.updateSketchFeatures_(),this.dispatchEvent(new Vt(Tt.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){const e=this.getMap(),t=this.getActive();(!e||!t)&&this.abortDrawing(),this.overlay_.setMap(t?e:null)}}function jl(){const r=Bs();return function(e,t){return r[e.getGeometry().getType()]}}function Bl(r){switch(r){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+r)}}const $l=Nl,W={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},Hl={ERROR:"error"};class zl extends rr{constructor(e){super(Hl.ERROR),this.code=e.code,this.message=e.message}}let Ul=class extends Di{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.position_=null,this.transform_=Us,this.watchId_=void 0,this.addChangeListener(W.PROJECTION,this.handleProjectionChanged_),this.addChangeListener(W.TRACKING,this.handleTrackingChanged_),e.projection!==void 0&&this.setProjection(e.projection),e.trackingOptions!==void 0&&this.setTrackingOptions(e.trackingOptions),this.setTracking(e.tracking!==void 0?e.tracking:!1)}disposeInternal(){this.setTracking(!1),super.disposeInternal()}handleProjectionChanged_(){const e=this.getProjection();e&&(this.transform_=Gs(rt("EPSG:4326"),e),this.position_&&this.set(W.POSITION,this.transform_(this.position_)))}handleTrackingChanged_(){if("geolocation"in navigator){const e=this.getTracking();e&&this.watchId_===void 0?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):!e&&this.watchId_!==void 0&&(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}}positionChange_(e){const t=e.coords;this.set(W.ACCURACY,t.accuracy),this.set(W.ALTITUDE,t.altitude===null?void 0:t.altitude),this.set(W.ALTITUDE_ACCURACY,t.altitudeAccuracy===null?void 0:t.altitudeAccuracy),this.set(W.HEADING,t.heading===null?void 0:Ws(t.heading)),this.position_?(this.position_[0]=t.longitude,this.position_[1]=t.latitude):this.position_=[t.longitude,t.latitude];const i=this.transform_(this.position_);this.set(W.POSITION,i.slice()),this.set(W.SPEED,t.speed===null?void 0:t.speed);const n=qs(this.position_,t.accuracy);n.applyTransform(this.transform_),this.set(W.ACCURACY_GEOMETRY,n),this.changed()}positionError_(e){this.dispatchEvent(new zl(e))}getAccuracy(){return this.get(W.ACCURACY)}getAccuracyGeometry(){return this.get(W.ACCURACY_GEOMETRY)||null}getAltitude(){return this.get(W.ALTITUDE)}getAltitudeAccuracy(){return this.get(W.ALTITUDE_ACCURACY)}getHeading(){return this.get(W.HEADING)}getPosition(){return this.get(W.POSITION)}getProjection(){return this.get(W.PROJECTION)}getSpeed(){return this.get(W.SPEED)}getTracking(){return this.get(W.TRACKING)}getTrackingOptions(){return this.get(W.TRACKING_OPTIONS)}setProjection(e){this.set(W.PROJECTION,rt(e))}setTracking(e){this.set(W.TRACKING,e)}setTrackingOptions(e){this.set(W.TRACKING_OPTIONS,e)}};const Gl=Ul,Z={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class Wl extends Di{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+Ys,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Z.ELEMENT,this.handleElementChanged),this.addChangeListener(Z.MAP,this.handleMapChanged),this.addChangeListener(Z.OFFSET,this.handleOffsetChanged),this.addChangeListener(Z.POSITION,this.handlePositionChanged),this.addChangeListener(Z.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Z.ELEMENT)}getId(){return this.id}getMap(){return this.get(Z.MAP)||null}getOffset(){return this.get(Z.OFFSET)}getPosition(){return this.get(Z.POSITION)}getPositioning(){return this.get(Z.POSITIONING)}handleElementChanged(){Ks(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(Zs(this.element),_i(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=nr(e,Ri.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Z.ELEMENT,e)}setMap(e){this.set(Z.MAP,e)}setOffset(e){this.set(Z.OFFSET,e)}setPosition(e){this.set(Z.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(Z.POSITION))return;const i=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),o=this.getRect(n,[Xs(n),Js(n)]);e=e||{};const s=e.margin===void 0?20:e.margin;if(!St(i,o)){const a=o[0]-i[0],l=i[2]-o[2],u=o[1]-i[1],c=i[3]-o[3],d=[0,0];if(a<0?d[0]=a-s:l<0&&(d[0]=Math.abs(l)+s),u<0?d[1]=u-s:c<0&&(d[1]=Math.abs(c)+s),d[0]!==0||d[1]!==0){const h=t.getView().getCenterInternal(),f=t.getPixelFromCoordinateInternal(h);if(!f)return;const p=[f[0]+d[0],f[1]+d[1]],v=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(p),duration:v.duration,easing:v.easing})}}}getRect(e,t){const i=e.getBoundingClientRect(),n=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[n,o,n+t[0],o+t[1]]}setPositioning(e){this.set(Z.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const i=e.getPixelFromCoordinate(t),n=e.getSize();this.updateRenderedPosition(i,n)}updateRenderedPosition(e,t){const i=this.element.style,n=this.getOffset(),o=this.getPositioning();this.setVisible(!0);const s=Math.round(e[0]+n[0])+"px",a=Math.round(e[1]+n[1])+"px";let l="0%",u="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?l="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(l="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?u="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(u="-50%");const c=`translate(${l}, ${u}) translate(${s}, ${a})`;this.rendered.transform_!=c&&(this.rendered.transform_=c,i.transform=c)}getOptions(){return this.options}}const Un=Wl;class ql{constructor({properties:e}){const t=e.logLevel;console.debug("Log Service created with log level",t)}destroy(){console.debug("Log Service destroyed")}log(e){console.info("LOG: "+e)}}const Te=lt("local-storage"),Yl=0,fe={CORRUPTED_DATA:"local-storage:corrupted-data",INVALID_PATH:"local-storage:invalid-path",INVALID_VALUE:"local-storage:invalid-value",NOT_SUPPORTED:"local-storage:not-supported",INTERNAL:"local-storage:internal-error"};var Je,ue,_e,Qe,ce,ln,so,un,ao,Re,gt,Pe,He,cn,lo;class Kl{constructor(e){z(this,ln);z(this,un);z(this,Re);z(this,Pe);z(this,cn);z(this,Je,void 0);z(this,ue,{});z(this,_e,void 0);z(this,Qe,void 0);z(this,ce,void 0);H(this,Je,Ql(e.properties)),H(this,_e,eu()),L(this,_e)&&(Y(this,un,ao).call(this),H(this,Qe,Y(this,cn,lo).call(this)))}destroy(){L(this,ce)&&(clearTimeout(L(this,ce)),H(this,ce,void 0)),L(this,_e)&&Y(this,Re,gt).call(this)}get isSupported(){return!!L(this,Qe)}get(e){return Y(this,Pe,He).call(this).get(e)}set(e,t){return Y(this,Pe,He).call(this).set(e,t)}remove(e){return Y(this,Pe,He).call(this).remove(e)}removeAll(){return Y(this,Pe,He).call(this).removeAll()}getNamespace(e){return Y(this,Pe,He).call(this).getNamespace(e)}}Je=new WeakMap,ue=new WeakMap,_e=new WeakMap,Qe=new WeakMap,ce=new WeakMap,ln=new WeakSet,so=function(){L(this,ce)&&clearTimeout(L(this,ce)),H(this,ce,setTimeout(()=>{H(this,ce,void 0),Y(this,Re,gt).call(this)},Yl))},un=new WeakSet,ao=function(){try{const e=L(this,_e);if(!e)throw new he(fe.INTERNAL,"Local storage is not available.");const t=e.getItem(L(this,Je));if(t==null){H(this,ue,{}),Y(this,Re,gt).call(this);return}try{const i=JSON.parse(t);if(!ot(i))throw new he(fe.CORRUPTED_DATA,"Persisted value should be an object.");H(this,ue,i)}catch(i){Te.warn("Invalid persisted data, reverting to default.",i),H(this,ue,{}),Y(this,Re,gt).call(this)}}catch(e){Te.error("Failed to load from local storage",e)}},Re=new WeakSet,gt=function(){try{const e=L(this,_e);if(!e)throw new he(fe.INTERNAL,"Local storage is not available.");const t=JSON.stringify(L(this,ue));e.setItem(L(this,Je),t)}catch(e){Te.error("Failed to save to local storage",e)}},Pe=new WeakSet,He=function(){const e=L(this,Qe);if(!e)throw new he(fe.NOT_SUPPORTED,"Local storage is not supported by this browser.");return e},cn=new WeakSet,lo=function(){const e={getByPath:t=>Vr(Zl(L(this,ue),t)),setByPath:(t,i)=>{if(!Jl(i))throw new he(fe.INVALID_VALUE,"The value is not supported by local storage.");if(i=Vr(i),t.length===0){if(!ot(i))throw new he(fe.INVALID_VALUE,"The root value must be a plain object.");H(this,ue,i)}else Xl(L(this,ue),t,i);Y(this,ln,so).call(this)}};return new lr([],e)};class lr{path;access;constructor(e,t){this.path=e,this.access=t}get(e){return this.access.getByPath([...this.path,e])}set(e,t){this.access.setByPath([...this.path,e],t)}remove(e){this.access.setByPath([...this.path,e],void 0)}removeAll(){this.access.setByPath(this.path,{})}getNamespace(e){const t=this.get(e);if(t===void 0)this.set(e,{});else if(!ot(t))throw new he(fe.INVALID_PATH,`Cannot use '${e}' as a namespace because it is not associated with an object.`);return new lr(this.path.concat([e]),this.access)}}const Tr="trails-state";function Zl(r,e){let t=r;for(const i of e){if(!ot(t))throw new he(fe.INVALID_PATH,`Cannot get nested property '${i}' because the parent is no object.`);t=t[i]}return t}function Xl(r,e,t){if(!e.length)throw new he(fe.INTERNAL,"Path must not be empty.");let i=r;for(let o=0,s=e.length-1;o<s;++o){const a=e[o],l=i[a];if(!ot(l))throw new he(fe.INVALID_PATH,`Cannot set property on '${a}' because it is no object.`);i=l}const n=e[e.length-1];i[n]=t}function ot(r){return!!(r&&typeof r=="object"&&!Array.isArray(r))}function Jl(r){const e=typeof r;return e==="boolean"||e==="number"||e==="string"||e==="undefined"||r===null||Array.isArray(r)||ot(r)}function Ql(r){const e=r.storageId;return!e||typeof e!="string"?(Te.warn(`The 'storageId' property of the 'local-storage' package should be set to a valid string to avoid collisions with other applications. Defaulting to '${Tr}'.`),Tr):e}function eu(){if(typeof Storage>"u"){Te.warn("Local storage is not supported by this browser.");return}try{const r=globalThis.localStorage;if(!r){Te.warn("Local storage is not supported by this browser.");return}return r}catch(r){Te.warn("Local storage is not supported by this browser.",r);return}}function Vr(r){return r!=null&&(r=JSON.parse(JSON.stringify(r))),r}const tu={"ol-map":{name:"ol-map",services:{MapConfigProviderImpl:{name:"MapConfigProviderImpl",clazz:Pl,provides:[{name:"map.MapConfigProvider",qualifier:void 0}],references:{}},AppConfig:{name:"AppConfig",clazz:Fl,provides:[{name:"ol-app.AppConfig",qualifier:void 0}],references:{}}},ui:{references:[{name:"map-sample-logging.LogService",qualifier:void 0,all:!1},{name:"map.MapRegistry",qualifier:void 0,all:!1},{name:"ol-app.AppConfig",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/chakra-integration":{name:"@open-pioneer/chakra-integration",services:{},ui:{references:[]},properties:{}},"@open-pioneer/runtime":{name:"@open-pioneer/runtime",services:{},ui:{references:[]},properties:{}},"@open-pioneer/core":{name:"@open-pioneer/core",services:{},ui:{references:[]},properties:{}},"@open-pioneer/notifier":{name:"@open-pioneer/notifier",services:{NotificationServiceImpl:{name:"NotificationServiceImpl",clazz:wa,provides:[{name:"notifier.NotificationService",qualifier:void 0}],references:{}}},ui:{references:[{name:"notifier.NotificationService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/theme":{name:"@open-pioneer/theme",services:{},ui:{references:[]},properties:{}},"@open-pioneer/map":{name:"@open-pioneer/map",services:{MapRegistryImpl:{name:"MapRegistryImpl",clazz:Qs,provides:[{name:"map.MapRegistry",qualifier:void 0}],references:{providers:{name:"map.MapConfigProvider",qualifier:void 0,all:!0}}}},ui:{references:[{name:"map.MapRegistry",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/react-utils":{name:"@open-pioneer/react-utils",services:{},ui:{references:[]},properties:{}},"@open-pioneer/base-theme":{name:"@open-pioneer/base-theme",services:{},ui:{references:[]},properties:{}},"@open-pioneer/runtime-react-support":{name:"@open-pioneer/runtime-react-support",services:{},ui:{references:[]},properties:{}},"@open-pioneer/coordinate-viewer":{name:"@open-pioneer/coordinate-viewer",services:{},ui:{references:[]},properties:{}},"@open-pioneer/scale-bar":{name:"@open-pioneer/scale-bar",services:{},ui:{references:[]},properties:{}},"@open-pioneer/scale-viewer":{name:"@open-pioneer/scale-viewer",services:{},ui:{references:[]},properties:{}},"@open-pioneer/ogc-features":{name:"@open-pioneer/ogc-features",services:{},ui:{references:[]},properties:{}},"@open-pioneer/overview-map":{name:"@open-pioneer/overview-map",services:{},ui:{references:[]},properties:{}},"map-sample-logging":{name:"map-sample-logging",services:{LogService:{name:"LogService",clazz:ql,provides:[{name:"map-sample-logging.LogService",qualifier:void 0}],references:{}}},ui:{references:[]},properties:{logLevel:{value:"INFO",required:!1}}},"@open-pioneer/experimental-layout-sidebar":{name:"@open-pioneer/experimental-layout-sidebar",services:{},ui:{references:[]},properties:{}},"@open-pioneer/spatial-bookmarks":{name:"@open-pioneer/spatial-bookmarks",services:{},ui:{references:[{name:"local-storage.LocalStorageService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/toc":{name:"@open-pioneer/toc",services:{},ui:{references:[]},properties:{}},"@open-pioneer/measurement":{name:"@open-pioneer/measurement",services:{},ui:{references:[]},properties:{}},"@open-pioneer/search":{name:"@open-pioneer/search",services:{},ui:{references:[]},properties:{}},"@open-pioneer/map-navigation":{name:"@open-pioneer/map-navigation",services:{},ui:{references:[]},properties:{}},"@open-pioneer/geolocation":{name:"@open-pioneer/geolocation",services:{},ui:{references:[{name:"notifier.NotificationService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/basemap-switcher":{name:"@open-pioneer/basemap-switcher",services:{},ui:{references:[]},properties:{}},"@open-pioneer/test-utils":{name:"@open-pioneer/test-utils",services:{},ui:{references:[]},properties:{}},"@open-pioneer/map-test-utils":{name:"@open-pioneer/map-test-utils",services:{},ui:{references:[]},properties:{}},"@open-pioneer/local-storage":{name:"@open-pioneer/local-storage",services:{LocalStorageServiceImpl:{name:"LocalStorageServiceImpl",clazz:Kl,provides:[{name:"local-storage.LocalStorageService",qualifier:void 0}],references:{}}},ui:{references:[]},properties:{storageId:{value:null,required:!1}}}},nu=`@media only screen and (max-width: 500px){.search-top-center-placement{position:absolute;left:0;top:0;width:100%;z-index:1}}@media only screen and (min-width: 501px){.search-top-center-placement{position:absolute;left:50%;top:0;transform:translate(-50%);width:500px;z-index:1}}.spatial-bookmarks{max-height:300px}:root,:host{--ol-background-color: white;--ol-accent-background-color: #F5F5F5;--ol-subtle-background-color: rgba(128, 128, 128, .25);--ol-partial-background-color: rgba(255, 255, 255, .75);--ol-foreground-color: #333333;--ol-subtle-foreground-color: #666666;--ol-brand-color: #00AAFF}.ol-box{box-sizing:border-box;border-radius:2px;border:1.5px solid var(--ol-background-color);background-color:var(--ol-partial-background-color)}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:var(--ol-partial-background-color);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid var(--ol-subtle-foreground-color);border-top:none;color:var(--ol-foreground-color);font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-bar-inner{display:flex}.ol-scale-step-marker{width:1px;height:15px;background-color:var(--ol-foreground-color);float:right;z-index:10}.ol-scale-step-text{position:absolute;bottom:-5px;font-size:10px;z-index:11;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-text{position:absolute;font-size:12px;text-align:center;bottom:25px;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-singlebar{position:relative;height:10px;z-index:9;box-sizing:border-box;border:1px solid var(--ol-foreground-color)}.ol-scale-singlebar-even{background-color:var(--ol-subtle-foreground-color)}.ol-scale-singlebar-odd{background-color:var(--ol-background-color)}.ol-unsupported{display:none}.ol-viewport,.ol-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ol-viewport canvas{all:unset;overflow:hidden}.ol-viewport{touch-action:pan-x pan-y}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ol-grabbing{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.ol-grab{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.ol-control{position:absolute;background-color:var(--ol-subtle-background-color);border-radius:4px}.ol-zoom{top:.5em;left:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:var(--ol-subtle-foreground-color);font-weight:700;text-decoration:none;font-size:inherit;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:var(--ol-background-color);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:hover,.ol-control button:focus{text-decoration:none;outline:1px solid var(--ol-subtle-foreground-color);color:var(--ol-foreground-color)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em);display:flex;flex-flow:row-reverse;align-items:center}.ol-attribution a{color:var(--ol-subtle-foreground-color);text-decoration:none}.ol-attribution ul{margin:0;padding:1px .5em;color:var(--ol-foreground-color);text-shadow:0 0 2px var(--ol-background-color);font-size:12px}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button{flex-shrink:0}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:var(--ol-partial-background-color)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:block}.ol-overviewmap .ol-overviewmap-map{border:1px solid var(--ol-subtle-foreground-color);height:150px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:0;left:0;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:var(--ol-subtle-background-color)}.ol-overviewmap-box{border:1.5px dotted var(--ol-subtle-foreground-color)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.measurement-tooltip{position:relative;background:rgba(255,255,255,.8);border-radius:4px;color:#000;padding:4px 8px;opacity:1;white-space:nowrap;font-size:12px;cursor:default;-webkit-user-select:none;user-select:none;font-weight:700}.measurement-active-tooltip{background:rgba(0,0,0,.9);border-radius:4px;border-color:#000000e6;opacity:.9;color:#fff}.measurement-finished-tooltip{background-color:#4cb3ffe6;color:#000;border:1px solid white}.measurement-active-tooltip:before,.measurement-finished-tooltip:before{border-top:6px solid rgba(0,0,0,.9);border-right:6px solid transparent;border-left:6px solid transparent;content:"";position:absolute;bottom:-6px;margin-left:-7px;left:50%}.measurement-finished-tooltip:before{border-top-color:#4cb3ff}.search-component .chakra-divider{display:none}.search-component .search-highlighted-match{font-weight:700}.search-component .search-value-container{cursor:text;padding-left:30px!important}.search-component .search-invisible{display:none}.scale-bar .ol-scale-bar{margin-bottom:8px;margin-right:8px}.scale-bar .ol-scale-bar,.scale-bar .ol-scale-line{position:relative;bottom:0;left:0;background:none}.scale-bar .ol-scale-bar .ol-scale-bar-inner,.scale-bar .ol-scale-bar .ol-scale-line-inner,.scale-bar .ol-scale-line .ol-scale-bar-inner,.scale-bar .ol-scale-line .ol-scale-line-inner{color:var(--chakra-white);border-color:var(--chakra-white)}.overview-map .ol-overviewmap{position:relative;height:100%;width:100%}.overview-map .ol-overviewmap:not(.ol-collapsed){border:1px solid black}.overview-map .ol-overviewmap .ol-overviewmap-map{border:none;width:100%;height:100%}.overview-map .ol-overviewmap .ol-overviewmap-box{border:2px solid red}.layout-sidebar{height:100%;position:absolute;top:0}.layout-sidebar[data-theme=light]{background-color:var(--chakra-colors-whiteAlpha-700)}.layout-sidebar[data-theme=dark]{background-color:var(--chakra-colors-blackAlpha-700)}.layout-sidebar .layout-sidebar-main{transition:width .3s ease-out 0s;border-right:1px solid var(--chakra-colors-chakra-border-color)}.layout-sidebar .layout-sidebar-content{overflow:auto;transition:width .3s ease-out 0s}.layout-sidebar .layout-sidebar-content .content-section .content-header{font-size:1.5em;background-color:var(--chakra-colors-blackAlpha-500);padding:.5rem 1rem}.layout-sidebar .layout-sidebar-content .content-section .content-body{padding:1rem}
`,ru=["en","de"];function iu(r){switch(r){case"en":return Dr(()=>import("./9612c4ecd972.js"),[],import.meta.url).then(e=>e.default);case"de":return Dr(()=>import("./44ea9c52399a.js"),[],import.meta.url).then(e=>e.default)}throw new Error(`Unsupported locale: '${r}'`)}const ou=ts(nu),su=Object.freeze(Object.defineProperty({__proto__:null,loadMessages:iu,locales:ru,packages:tu,styles:ou},Symbol.toStringTag,{value:"Module"})),au="@open-pioneer/coordinate-viewer",lu=Ne.bind(void 0,au),uu=4,cu=r=>{const{mapId:e,precision:t}=r,{containerProps:i}=Me("coordinate-viewer",r),{map:n}=pe(e),o=n?.olMap,{coordinates:s}=hu(o),a=du(s,t),l=to(o)?.getCode()??"",u=a?a+" "+l:"";return S.jsx(U,{...i,children:S.jsx(bn,{className:"coordinate-viewer-text",children:u})})};function du(r,e){const t=lu();return r?fu(r,e,t):""}function hu(r){const[e,t]=g.useState();return g.useEffect(()=>{if(!r)return;const i=r.on("pointermove",n=>{t(n.coordinate)});return()=>Ge(i)},[r]),{coordinates:e}}function fu(r,e,t){if(r[0]==null||r[1]==null)return"";const i=e??uu,[n,o]=r,s=t.formatNumber(n,{maximumFractionDigits:i,minimumFractionDigits:i}),a=t.formatNumber(o,{maximumFractionDigits:i,minimumFractionDigits:i});return s+" "+a}const uo="@open-pioneer/geolocation",pu=or.bind(void 0,uo),mu=Ne.bind(void 0,uo);function gu(r){return ut({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3A8.994 8.994 0 0013 3.06V1h-2v2.06A8.994 8.994 0 003.06 11H1v2h2.06A8.994 8.994 0 0011 20.94V23h2v-2.06A8.994 8.994 0 0020.94 13H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}}]})(r)}const Nr=lt("geolocation:GeolocationController"),jr=17;class vu extends Bi{olMap;positionHighlightLayer;geolocation;maxZoom=jr;accuracyFeature;positionFeature;changeHandlers=[];isCurrentlyActive=!1;setMapToPosition=!0;trackingOptions={};isInitialZoom=!0;constructor(e,t){super(),this.olMap=e,this.isInitialZoom=!0,this.accuracyFeature=new Le,this.accuracyFeature.setStyle($r()),this.positionFeature=new Le,this.positionFeature.setStyle(Br()),this.positionHighlightLayer=new kt({source:new Mt({features:[this.accuracyFeature,this.positionFeature]})}),this.positionHighlightLayer.setZIndex(Fi);const i=t||bu();this.geolocation=new Gl({tracking:!1,trackingOptions:i,projection:e.getView()?.getProjection()}),this.trackingOptions=i,this.geolocation.on("error",n=>this.handleGeolocationError(n))}destroy(){this.stopGeolocation(),this.geolocation?.setTracking(!1),this.geolocation.dispose(),this.accuracyFeature=void 0,this.positionFeature=void 0,this.positionHighlightLayer.dispose()}startGeolocation(){if(this.isCurrentlyActive)return Promise.resolve();const e=this.olMap;return new Promise(i=>{this.isCurrentlyActive=!0,this.geolocation?.setProjection(e.getView()?.getProjection()),this.geolocation?.setTracking(!0);const n=this.geolocation.on("change:accuracyGeometry",()=>{const l=this.geolocation.getAccuracyGeometry()||void 0;if(this.accuracyFeature?.setGeometry(l),this.accuracyFeature?.getGeometry()!==void 0&&i(),this.isInitialZoom){const u=this?.accuracyFeature?.getGeometry()?.getExtent();if(u){const c=ea(u);if(!c)return;e.getView().fit(c,{maxZoom:this.maxZoom}),this.isInitialZoom=!1}}}),o=this.geolocation.on("change:position",()=>{const l=this.geolocation.getPosition();l&&(l[0]||l[1])!==void 0&&(this.positionFeature?.setGeometry(new qt(l)),this.setMapToPosition&&e.getView().setCenter(l),this.positionFeature?.getGeometry()!==void 0&&i())}),s=e.getView().on("change:resolution",()=>{this.setMapToPosition=this.isInitialZoom}),a=e.on("pointermove",l=>{l.dragging&&(this.setMapToPosition=!1)});this.changeHandlers.push(n,o,s,a),e.addLayer(this.positionHighlightLayer)}).catch(i=>{Nr.error("Failed to determine location",i)})}stopGeolocation(){this.geolocation?.setTracking(!1),this.isCurrentlyActive=!1,this.trackingOptions={},this.setMapToPosition=!0,this.isInitialZoom=!0,this.changeHandlers.forEach(e=>{Ge(e)}),this.changeHandlers=[],this.accuracyFeature?.setGeometry(void 0),this.positionFeature?.setGeometry(void 0),this.olMap.removeLayer(this.positionHighlightLayer)}setPositionFeatureStyle(e){this.positionFeature?.setStyle(e??Br())}setAccuracyFeatureStyle(e){this.accuracyFeature?.setStyle(e??$r())}setMaxZoom(e){this.maxZoom=e??jr}getMaxZoom(){return this.maxZoom}getPositionFeature(){return this.positionFeature}getAccuracyFeature(){return this.accuracyFeature}getTrackingOptions(){return this.trackingOptions}getGeolocation(){return this.geolocation}handleGeolocationError(e){Nr.error("Error from geolocation API:",e.message);const t=(()=>{switch(e.code){case 1:return"permission-denied";case 2:return"position-unavailable";case 3:return"timeout";default:return"unknown"}})();this.emit("error",t)}}const Br=()=>new it({image:new Ti({radius:6,fill:new Et({color:"#3399CC"}),stroke:new Fe({color:"#fff",width:2})})}),$r=()=>new it({stroke:new Fe({color:"#3399CC",width:3}),fill:new Et({color:"rgba(0, 0, 255, 0.05)"})}),bu=()=>({enableHighAccuracy:!0,timeout:6e4,maximumAge:6e5}),yu=g.forwardRef(function(e,t){const{mapId:i,maxZoom:n,positionFeatureStyle:o,accuracyFeatureStyle:s,trackingOptions:a}=e,{containerProps:l}=Me("geolocation",e),u=!!navigator.geolocation,[c,d]=g.useState(!1),[h,f]=g.useState(!1),{map:p}=pe(i),v=mu(),m=pu("notifier.NotificationService"),y=Su(p,n,a,o,s),w=(()=>u?c?v.formatMessage({id:"locateMeEnd"}):v.formatMessage({id:"locateMeStart"}):v.formatMessage({id:"locateNotSupported"}))();g.useEffect(()=>{if(y===void 0)return;const O=y.on("error",function(R){const P=v.formatMessage({id:"error"}),D=(()=>{switch(R){case"permission-denied":return v.formatMessage({id:"permissionDenied"});case"position-unavailable":return v.formatMessage({id:"positionUnavailable"});case"timeout":return v.formatMessage({id:"timeout"});case"unknown":return v.formatMessage({id:"unknownError"})}})();f(!1),d(!1),m.notify({level:"error",title:P,message:D})});return()=>{O.destroy()}},[y,v,m]),g.useEffect(()=>{if(!y){f(!1);return}return c&&(f(!0),y.startGeolocation().then(()=>{f(!1)})),()=>{y?.stopGeolocation(),f(!1)}},[y,c]);const C=()=>{p&&d(!c)};return S.jsx(pt,{ref:t,label:w,icon:S.jsx(gu,{}),onClick:()=>C(),isActive:c,isLoading:h,isDisabled:!u,...l})});function Su(r,e,t,i,n){const[o,s]=g.useState();return g.useEffect(()=>{if(!r)return;const a=new vu(r.olMap,t);return s(a),()=>{a.destroy(),s(void 0)}},[r,t]),g.useEffect(()=>{o?.setPositionFeatureStyle(i)},[o,i]),g.useEffect(()=>{o?.setAccuracyFeatureStyle(n)},[o,n]),g.useEffect(()=>{o?.setMaxZoom(e)},[o,e]),o}const Eu="@open-pioneer/measurement",Cu=Ne.bind(void 0,Eu);class xu{olMap;messages;activeFeatureStyle;layer;source;draw=void 0;sketch=void 0;helpTooltip;measureTooltip;overlayTooltips=[];resources=[];constructor(e,t){this.olMap=e,this.messages=t;const i=this.source=new Mt;this.layer=new kt({source:i}),this.layer.setZIndex(Fi),e.addLayer(this.layer);const n=e.on("pointermove",this.handlePointerMove.bind(this));this.resources.push({destroy(){Ge(n)}});const o=()=>{this.helpTooltip.element.classList.add("hidden")};e.getViewport().addEventListener("mouseout",o),this.resources.push({destroy(){e.getViewport().removeEventListener("mouseout",o)}}),this.helpTooltip=this.createHelpTooltip()}destroy(){this.stopMeasurement();for(const e of this.resources)e.destroy();this.resources=[],this.helpTooltip.destroy(),this.measureTooltip?.destroy();for(const e of this.overlayTooltips)e.destroy();this.overlayTooltips=[],this.olMap.removeLayer(this.layer),this.layer.dispose(),this.source.dispose()}getVectorLayer(){return this.layer}setFinishedFeatureStyle(e){this.layer.setStyle(e)}setActiveFeatureStyle(e){const t=ta(e);this.activeFeatureStyle=(i,...n)=>{const o=i?.getGeometry()?.getType();if(o==="Polygon"||o==="LineString"||o==="Point")return t(i,...n)},this.draw?.getOverlay().setStyle(this.activeFeatureStyle)}clearMeasurements(){this.source.clear();for(const e of this.overlayTooltips)e.destroy();this.overlayTooltips=[]}startMeasurement(e){if(this.draw)throw new Error("Internal error: another measurement interaction is still active.");const t=e==="area"?"Polygon":"LineString",i=this.draw=new $l({source:this.source,type:t,style:this.activeFeatureStyle});this.olMap.addInteraction(i);let n,o;i.on("drawstart",s=>{n=this.measureTooltip=this.createMeasureTooltip();const a=this.sketch=s.feature;if(!a)return;let l;o=a.getGeometry()?.on("change",u=>{const c=u.target,d=this.olMap.getView().getProjection();let h="";c instanceof mn?(h=_u(c,d,this.messages),l=c.getInteriorPoint().getCoordinates()||null):c instanceof We&&(h=Pu(c,d,this.messages),l=c.getLastCoordinate()||null),n&&(n.element.innerHTML=h,l&&n?.overlay.setPosition(l))})}),i.on("drawend",()=>{if(n){const s=n.element.classList;s.remove("measurement-active-tooltip"),s.add("measurement-finished-tooltip"),n.overlay.setOffset([0,-7]),this.overlayTooltips.push(n),this.measureTooltip=n=void 0}this.sketch=void 0,o&&Ge(o)}),i.on("drawabort",()=>{n&&(n.destroy(),this.measureTooltip=n=void 0),this.sketch=void 0,o&&Ge(o)})}stopMeasurement(){this.draw&&(this.olMap.removeInteraction(this.draw),this.draw.abortDrawing(),this.draw.dispose(),this.draw=void 0),this.sketch=void 0,this.measureTooltip?.destroy(),this.measureTooltip=void 0}createMeasureTooltip(){const e=document.createElement("div");e.className="measurement-tooltip measurement-active-tooltip";const t=new Un({element:e,offset:[0,-15],positioning:"bottom-center",stopEvent:!1,insertFirst:!1}),i=this.olMap;return i.addOverlay(t),{overlay:t,element:e,destroy(){i.removeOverlay(t)}}}createHelpTooltip(){const e=document.createElement("div");e.className="measurement-tooltip hidden";const t=new Un({element:e,offset:[15,0],positioning:"center-left"}),i=this.olMap;return i.addOverlay(t),{overlay:t,element:e,destroy(){i.removeOverlay(t)}}}handlePointerMove(e){if(e.dragging)return;const t=this.helpTooltip,i=wu(this.messages,this.sketch);t.element.textContent=i,t.overlay.setPosition(e.coordinate),t.element.classList.remove("hidden")}}function wu(r,e){if(e){const t=e.getGeometry();if(t instanceof mn||t instanceof We)return r.getContinueMessage()}return r.getHelpMessage()}function _u(r,e,t){const i=na(r,{projection:e});let n;return i>=1e6?n=`${t.formatNumber(i/1e6)} km<sup>2</sup>`:n=`${t.formatNumber(i)} m<sup>2</sup>`,n}function Pu(r,e,t){const i=ra(r,{projection:e});let n;return i>=1e3?n=`${t.formatNumber(i/1e3)} km`:n=`${t.formatNumber(i)} m`,n}const Iu=r=>{const e=Cu(),{mapId:t,activeFeatureStyle:i,finishedFeatureStyle:n}=r,{containerProps:o}=Me("measurement",r),[s,a]=g.useState("distance"),l=f=>e.formatMessage({id:f}),u=pe(t),c=Ou(u.map,e);g.useEffect(()=>{c?.setActiveFeatureStyle(i??Mu())},[c,i]),g.useEffect(()=>{c?.setFinishedFeatureStyle(n??ku())},[c,n]),g.useEffect(()=>{if(c)return c.startMeasurement(s),()=>{c.stopMeasurement()}},[c,s]);function d(f){if(f==="distance"||f==="area")a(f);else throw new Error(`Unexpected measurement type: '${f}'.`)}function h(){c?.clearMeasurements()}return S.jsxs(U,{...o,children:[S.jsx(bn,{mb:3,children:e.formatMessage({id:"measurementInfoText"})}),S.jsx(Pa,{mb:4,alignItems:"center",children:S.jsxs(Ma,{mb:2,children:[S.jsx(Oa,{mb:1,children:l("measurementLabel")}),S.jsxs(La,{value:s,onChange:f=>d(f.target.value),className:"measurement-select",children:[S.jsx("option",{value:"distance",children:l("distance")}),S.jsx("option",{value:"area",children:l("area")})]})]})}),S.jsx(fn,{padding:2,className:"measurement-delete-button",onClick:h,width:"100%",children:l("deleteMeasurementLabel")})]})};function Ou(r,e){const[t,i]=g.useState(void 0);return g.useEffect(()=>{if(!r)return;const n=new xu(r.olMap,{getContinueMessage(){return e.formatMessage({id:"tooltips.continue"})},getHelpMessage(){return e.formatMessage({id:"tooltips.help"})},formatNumber(o){return e.formatNumber(o,{maximumFractionDigits:2})}});return i(n),()=>{n.destroy(),i(void 0)}},[r,e]),t}function Mu(){return[new it({stroke:new Fe({color:"#fff",lineDash:[10,10],width:5})}),new it({fill:new Et({color:"rgba(0,0,0,0.15)"}),stroke:new Fe({color:"rgba(0, 0, 0, 0.7)",lineDash:[10,10],width:3}),image:new Ti({radius:5,stroke:new Fe({color:"rgba(0, 0, 0, 0.7)",width:2}),fill:new Et({color:"rgba(255, 255, 255, 0.2)"})})})]}function ku(){return[new it({stroke:new Fe({color:"#fff",width:5})}),new it({stroke:new Fe({color:"#0b96fc",width:3}),fill:new Et({color:"rgba(11,150,252,0.15)"})})]}var Au=Da({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"});const kn=.75,$t=.1;let Lu=class extends Vi{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.boundHandleRotationChanged_=this.handleRotationChanged_.bind(this),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.rotateWithView_=e.rotateWithView!==void 0?e.rotateWithView:!1,this.viewExtent_=void 0;const t=e.className!==void 0?e.className:"ol-overviewmap",i=e.tipLabel!==void 0?e.tipLabel:"Overview map",n=e.collapseLabel!==void 0?e.collapseLabel:"‹";typeof n=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=n):this.collapseLabel_=n;const o=e.label!==void 0?e.label:"›";typeof o=="string"?(this.label_=document.createElement("span"),this.label_.textContent=o):this.label_=o;const s=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,a=document.createElement("button");a.setAttribute("type","button"),a.title=i,a.appendChild(s),a.addEventListener(pn.CLICK,this.handleClick_.bind(this),!1),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.view_=e.view;const l=new ia({view:e.view,controls:new Mr,interactions:new Mr});this.ovmap_=l,e.layers&&e.layers.forEach(function(w){l.addLayer(w)});const u=document.createElement("div");u.className="ol-overviewmap-box",u.style.boxSizing="border-box",this.boxOverlay_=new Un({position:[0,0],positioning:"center-center",element:u}),this.ovmap_.addOverlay(this.boxOverlay_);const c=t+" "+Ni+" "+oa+(this.collapsed_&&this.collapsible_?" "+kr:"")+(this.collapsible_?"":" ol-uncollapsible"),d=this.element;d.className=c,d.appendChild(this.ovmapDiv_),d.appendChild(a);const h=this,f=this.boxOverlay_,p=this.boxOverlay_.getElement(),v=function(w){return{clientX:w.clientX,clientY:w.clientY}},m=function(w){const C=v(w),O=l.getEventCoordinateInternal(C);f.setPosition(O)},y=function(w){const C=l.getEventCoordinateInternal(w);h.getMap().getView().setCenterInternal(C),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",y)};p.addEventListener("mousedown",function(){window.addEventListener("mousemove",m),window.addEventListener("mouseup",y)})}setMap(e){const t=this.getMap();if(e!==t){if(t){const i=t.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(super.setMap(e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(nr(e,sa.PROPERTYCHANGE,this.handleMapPropertyChange_,this));const i=e.getView();i&&(this.bindView_(i),i.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}}handleMapPropertyChange_(e){if(e.key===_n.VIEW){const t=e.oldValue;t&&this.unbindView_(t);const i=this.getMap().getView();this.bindView_(i)}else!this.ovmap_.isRendered()&&(e.key===_n.TARGET||e.key===_n.SIZE)&&this.ovmap_.updateSize()}bindView_(e){if(!this.view_){const t=new aa({projection:e.getProjection()});this.ovmap_.setView(t)}e.addChangeListener(Ar.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()}unbindView_(e){e.removeChangeListener(Ar.ROTATION,this.boundHandleRotationChanged_)}handleRotationChanged_(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())}validateExtent_(){const e=this.getMap(),t=this.ovmap_;if(!e.isRendered()||!t.isRendered())return;const i=e.getSize(),o=e.getView().calculateExtentInternal(i);if(this.viewExtent_&&Pi(o,this.viewExtent_))return;this.viewExtent_=o;const s=t.getSize(),l=t.getView().calculateExtentInternal(s),u=t.getPixelFromCoordinateInternal(la(o)),c=t.getPixelFromCoordinateInternal(ua(o)),d=Math.abs(u[0]-c[0]),h=Math.abs(u[1]-c[1]),f=s[0],p=s[1];d<f*$t||h<p*$t||d>f*kn||h>p*kn?this.resetExtent_():St(l,o)||this.recenter_()}resetExtent_(){const e=this.getMap(),t=this.ovmap_,i=e.getSize(),o=e.getView().calculateExtentInternal(i),s=t.getView(),a=Math.log(kn/$t)/Math.LN2,l=1/(Math.pow(2,a/2)*$t);ca(o,l),s.fitInternal(da(o))}recenter_(){const e=this.getMap(),t=this.ovmap_,i=e.getView();t.getView().setCenterInternal(i.getCenterInternal())}updateBox_(){const e=this.getMap(),t=this.ovmap_;if(!e.isRendered()||!t.isRendered())return;const i=e.getSize(),n=e.getView(),o=t.getView(),s=this.rotateWithView_?0:-n.getRotation(),a=this.boxOverlay_,l=this.boxOverlay_.getElement(),u=n.getCenterInternal(),c=n.getResolution(),d=o.getResolution(),h=i[0]*c/d,f=i[1]*c/d;if(a.setPosition(u),l){l.style.width=h+"px",l.style.height=f+"px";const p="rotate("+s+"rad)";l.style.transform=p}}updateBoxAfterOvmapIsRendered_(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=ha(this.ovmap_,Ri.POSTRENDER,function(e){delete this.ovmapPostrenderKey_,this.updateBox_()},this))}handleClick_(e){e.preventDefault(),this.handleToggle_()}handleToggle_(){this.element.classList.toggle(kr),this.collapsed_?Lr(this.collapseLabel_,this.label_):Lr(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;const e=this.ovmap_;if(!this.collapsed_){if(e.isRendered()){this.viewExtent_=void 0,e.render();return}e.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())}setCollapsed(e){!this.collapsible_||this.collapsed_===e||this.handleToggle_()}getCollapsed(){return this.collapsed_}getRotateWithView(){return this.rotateWithView_}setRotateWithView(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,this.getMap().getView().getRotation()!==0&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))}getOverviewMap(){return this.ovmap_}render(e){this.validateExtent_(),this.updateBox_()}};const Du=Lu,An="units",Ru=[1,2,5],dt=25.4/.28;class Fu extends Vi{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;const i=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+Ni,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(An,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(An)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(An,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=e.center,i=e.projection,n=this.getUnits(),o=n=="degrees"?"degrees":"m";let s=jn(i,e.resolution,t,o);const a=this.minWidth_*(this.dpi_||dt)/dt,l=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||dt)/dt:void 0;let u=a*s,c="";if(n=="degrees"){const C=fa.degrees;u*=C,u<C/60?(c="″",s*=3600):u<C?(c="′",s*=60):c="°"}else if(n=="imperial")u<.9144?(c="in",s/=.0254):u<1609.344?(c="ft",s/=.3048):(c="mi",s/=1609.344);else if(n=="nautical")s/=1852,c="NM";else if(n=="metric")u<.001?(c="μm",s*=1e6):u<1?(c="mm",s*=1e3):u<1e3?c="m":(c="km",s/=1e3);else if(n=="us")u<.9144?(c="in",s*=39.37):u<1609.344?(c="ft",s/=.30480061):(c="mi",s/=1609.3472);else throw new Error("Invalid units");let d=3*Math.floor(Math.log(a*s)/Math.log(10)),h,f,p,v,m,y;for(;;){p=Math.floor(d/3);const C=Math.pow(10,p);if(h=Ru[(d%3+3)%3]*C,f=Math.round(h/s),isNaN(f)){this.element.style.display="none",this.renderedVisible_=!1;return}if(l!==void 0&&f>=l){h=v,f=m,p=y;break}else if(f>=a)break;v=h,m=f,y=p,++d}const w=this.scaleBar_?this.createScaleBar(f,h,c):h.toFixed(p<0?-p:0)+" "+c;this.renderedHTML_!=w&&(this.innerElement_.innerHTML=w,this.renderedHTML_=w),this.renderedWidth_!=f&&(this.innerElement_.style.width=f+"px",this.renderedWidth_=f),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,i){const n=this.getScaleForResolution(),o=n<1?Math.round(1/n).toLocaleString()+" : 1":"1 : "+Math.round(n).toLocaleString(),s=this.scaleBarSteps_,a=e/s,l=[this.createMarker("absolute")];for(let c=0;c<s;++c){const d=c%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";l.push(`<div><div class="ol-scale-singlebar ${d}" style="width: ${a}px;"></div>`+this.createMarker("relative")+(c%2===0||s===2?this.createStepText(c,e,!1,t,i):"")+"</div>")}return l.push(this.createStepText(s,e,!0,t,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+o+"</div>":"")+l.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${e==="absolute"?3:-10}px;"></div>`}createStepText(e,t,i,n,o){const a=(e===0?0:Math.round(n/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+o),l=e===0?-3:t/this.scaleBarSteps_*-1,u=e===0?0:t/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${l}px;text-align: ${e===0?"left":"center"};min-width: ${u}px;left: ${i?t+"px":"unset"};">`+a+"</div>"}getScaleForResolution(){const e=jn(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),t=this.dpi_||dt,i=1e3/25.4;return e*i*t}render(e){const t=e.frameState;t?this.viewState_=t.viewState:this.viewState_=null,this.updateElement_()}}const Tu=Fu,Vu="200px",Nu="300px",ju=r=>{const{mapId:e,olLayer:t,height:i=Vu,width:n=Nu}=r,{containerProps:o}=Me("overview-map",r),s=g.useRef(null),{map:a}=pe(e);return g.useEffect(()=>{if(s.current&&a&&t){const l=a.olMap,u=new Du({className:"ol-overviewmap",layers:[t],collapsible:!1,collapsed:!1,target:s.current});return l.addControl(u),()=>{l.removeControl(u)}}},[a,t]),S.jsx(U,{height:i,width:n,ref:s,...o})},Bu=r=>{const{mapId:e,displayMode:t="line"}=r,{containerProps:i}=Me("scale-bar",r),{map:n}=pe(e),o=g.useRef(null);return g.useEffect(()=>{if(o.current&&n){const s=n.olMap,a=new Tu({units:"metric",target:o.current,bar:t==="bar"});return s.addControl(a),()=>{s.removeControl(a)}}},[t,n]),S.jsx(U,{...i,ref:o})},$u="@open-pioneer/scale-viewer",Hu=Ne.bind(void 0,$u),zu=r=>{const{mapId:e}=r,{containerProps:t}=Me("scale-viewer",r),{map:i}=pe(e),n=Hu(),o=wl(i?.olMap),s=o?n.formatNumber(o):void 0;return S.jsx(U,{...t,children:s&&S.jsxs(bn,{children:["1:",s]})})};function Hr(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function F(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hr(Object(t),!0).forEach(function(i){mt(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Hr(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function Uu(r){if(Array.isArray(r))return r}function Gu(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var i,n,o,s,a=[],l=!0,u=!1;try{if(o=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=o.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw n}}return a}}function Gn(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}function co(r,e){if(r){if(typeof r=="string")return Gn(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gn(r,e)}}function Wu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function me(r,e){return Uu(r)||Gu(r,e)||co(r,e)||Wu()}function ve(r,e){if(r==null)return{};var t=ja(r,e),i,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(n=0;n<o.length;n++)i=o[n],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(r,i)&&(t[i]=r[i])}return t}var qu=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Yu(r){var e=r.defaultInputValue,t=e===void 0?"":e,i=r.defaultMenuIsOpen,n=i===void 0?!1:i,o=r.defaultValue,s=o===void 0?null:o,a=r.inputValue,l=r.menuIsOpen,u=r.onChange,c=r.onInputChange,d=r.onMenuClose,h=r.onMenuOpen,f=r.value,p=ve(r,qu),v=g.useState(a!==void 0?a:t),m=me(v,2),y=m[0],w=m[1],C=g.useState(l!==void 0?l:n),O=me(C,2),R=O[0],P=O[1],D=g.useState(f!==void 0?f:s),b=me(D,2),E=b[0],I=b[1],_=g.useCallback(function($,G){typeof u=="function"&&u($,G),I($)},[u]),M=g.useCallback(function($,G){var oe;typeof c=="function"&&(oe=c($,G)),w(oe!==void 0?oe:$)},[c]),A=g.useCallback(function(){typeof h=="function"&&h(),P(!0)},[h]),x=g.useCallback(function(){typeof d=="function"&&d(),P(!1)},[d]),k=a!==void 0?a:y,B=l!==void 0?l:R,V=f!==void 0?f:E;return F(F({},p),{},{inputValue:k,menuIsOpen:B,onChange:_,onInputChange:M,onMenuClose:x,onMenuOpen:A,value:V})}function Ku(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function zr(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Ui(i.key),i)}}function Zu(r,e,t){return e&&zr(r.prototype,e),t&&zr(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Xu(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&$n(r,e)}function Yt(r){return Yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yt(r)}function Ju(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ec(r,e){if(e&&(Ve(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qu(r)}function tc(r){var e=Ju();return function(){var i=Yt(r),n;if(e){var o=Yt(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return ec(this,n)}}function nc(r){if(Array.isArray(r))return Gn(r)}function rc(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function ic(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ho(r){return nc(r)||rc(r)||co(r)||ic()}function oc(r,e){return e||(e=r.slice(0)),Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(e)}}))}const sc=Math.min,ac=Math.max,Kt=Math.round,Ht=Math.floor,Zt=r=>({x:r,y:r});function lc(r){return{...r,top:r.y,left:r.x,right:r.x+r.width,bottom:r.y+r.height}}function fo(r){return mo(r)?(r.nodeName||"").toLowerCase():"#document"}function re(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function po(r){var e;return(e=(mo(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function mo(r){return r instanceof Node||r instanceof re(r).Node}function Wn(r){return r instanceof Element||r instanceof re(r).Element}function ur(r){return r instanceof HTMLElement||r instanceof re(r).HTMLElement}function Ur(r){return typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof re(r).ShadowRoot}function go(r){const{overflow:e,overflowX:t,overflowY:i,display:n}=cr(r);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(n)}function uc(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cc(r){return["html","body","#document"].includes(fo(r))}function cr(r){return re(r).getComputedStyle(r)}function dc(r){if(fo(r)==="html")return r;const e=r.assignedSlot||r.parentNode||Ur(r)&&r.host||po(r);return Ur(e)?e.host:e}function vo(r){const e=dc(r);return cc(e)?r.ownerDocument?r.ownerDocument.body:r.body:ur(e)&&go(e)?e:vo(e)}function Xt(r,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const n=vo(r),o=n===((i=r.ownerDocument)==null?void 0:i.body),s=re(n);return o?e.concat(s,s.visualViewport||[],go(n)?n:[],s.frameElement&&t?Xt(s.frameElement):[]):e.concat(n,Xt(n,[],t))}function hc(r){const e=cr(r);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const n=ur(r),o=n?r.offsetWidth:t,s=n?r.offsetHeight:i,a=Kt(t)!==o||Kt(i)!==s;return a&&(t=o,i=s),{width:t,height:i,$:a}}function dr(r){return Wn(r)?r:r.contextElement}function Ln(r){const e=dr(r);if(!ur(e))return Zt(1);const t=e.getBoundingClientRect(),{width:i,height:n,$:o}=hc(e);let s=(o?Kt(t.width):t.width)/i,a=(o?Kt(t.height):t.height)/n;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const fc=Zt(0);function pc(r){const e=re(r);return!uc()||!e.visualViewport?fc:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mc(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==re(r)?!1:e}function Gr(r,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const n=r.getBoundingClientRect(),o=dr(r);let s=Zt(1);e&&(i?Wn(i)&&(s=Ln(i)):s=Ln(r));const a=mc(o,t,i)?pc(o):Zt(0);let l=(n.left+a.x)/s.x,u=(n.top+a.y)/s.y,c=n.width/s.x,d=n.height/s.y;if(o){const h=re(o),f=i&&Wn(i)?re(i):i;let p=h.frameElement;for(;p&&i&&f!==h;){const v=Ln(p),m=p.getBoundingClientRect(),y=cr(p),w=m.left+(p.clientLeft+parseFloat(y.paddingLeft))*v.x,C=m.top+(p.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,u*=v.y,c*=v.x,d*=v.y,l+=w,u+=C,p=re(p).frameElement}}return lc({width:c,height:d,x:l,y:u})}function gc(r,e){let t=null,i;const n=po(r);function o(){clearTimeout(i),t&&t.disconnect(),t=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:u,top:c,width:d,height:h}=r.getBoundingClientRect();if(a||e(),!d||!h)return;const f=Ht(c),p=Ht(n.clientWidth-(u+d)),v=Ht(n.clientHeight-(c+h)),m=Ht(u),w={rootMargin:-f+"px "+-p+"px "+-v+"px "+-m+"px",threshold:ac(0,sc(1,l))||1};let C=!0;function O(R){const P=R[0].intersectionRatio;if(P!==l){if(!C)return s();P?s(!1,P):i=setTimeout(()=>{s(!1,1e-7)},100)}C=!1}try{t=new IntersectionObserver(O,{...w,root:n.ownerDocument})}catch{t=new IntersectionObserver(O,w)}t.observe(r)}return s(!0),o}function vc(r,e,t,i){i===void 0&&(i={});const{ancestorScroll:n=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,u=dr(r),c=n||o?[...u?Xt(u):[],...Xt(e)]:[];c.forEach(y=>{n&&y.addEventListener("scroll",t,{passive:!0}),o&&y.addEventListener("resize",t)});const d=u&&a?gc(u,t):null;let h=-1,f=null;s&&(f=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{f&&f.observe(e)})),t()}),u&&!l&&f.observe(u),f.observe(e));let p,v=l?Gr(r):null;l&&m();function m(){const y=Gr(r);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&t(),v=y,p=requestAnimationFrame(m)}return t(),()=>{c.forEach(y=>{n&&y.removeEventListener("scroll",t),o&&y.removeEventListener("resize",t)}),d&&d(),f&&f.disconnect(),f=null,l&&cancelAnimationFrame(p)}}var qn=g.useLayoutEffect,bc=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Jt=function(){};function yc(r,e){return e?e[0]==="-"?r+e:r+"__"+e:r}function Sc(r,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),n=2;n<t;n++)i[n-2]=arguments[n];var o=[].concat(i);if(e&&r)for(var s in e)e.hasOwnProperty(s)&&e[s]&&o.push("".concat(yc(r,s)));return o.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var Wr=function(e){return Mc(e)?e.filter(Boolean):Ve(e)==="object"&&e!==null?[e]:[]},bo=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=ve(e,bc);return F({},t)},q=function(e,t,i){var n=e.cx,o=e.getStyles,s=e.getClassNames,a=e.className;return{css:o(t,e),className:n(i??{},s(t,e),a)}};function Sn(r){return[document.documentElement,document.body,window].indexOf(r)>-1}function Ec(r){return Sn(r)?window.innerHeight:r.clientHeight}function yo(r){return Sn(r)?window.pageYOffset:r.scrollTop}function Qt(r,e){if(Sn(r)){window.scrollTo(0,e);return}r.scrollTop=e}function Cc(r){var e=getComputedStyle(r),t=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var n=r;n=n.parentElement;)if(e=getComputedStyle(n),!(t&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return n;return document.documentElement}function xc(r,e,t,i){return t*((r=r/i-1)*r*r+1)+e}function zt(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Jt,n=yo(r),o=e-n,s=10,a=0;function l(){a+=s;var u=xc(a,n,o,t);Qt(r,u),a<t?window.requestAnimationFrame(l):i(r)}l()}function qr(r,e){var t=r.getBoundingClientRect(),i=e.getBoundingClientRect(),n=e.offsetHeight/3;i.bottom+n>t.bottom?Qt(r,Math.min(e.offsetTop+e.clientHeight-r.offsetHeight+n,r.scrollHeight)):i.top-n<t.top&&Qt(r,Math.max(e.offsetTop-n,0))}function wc(r){var e=r.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Yr(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function _c(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var So=!1,Pc={get passive(){return So=!0}},Ut=typeof window<"u"?window:{};Ut.addEventListener&&Ut.removeEventListener&&(Ut.addEventListener("p",Jt,Pc),Ut.removeEventListener("p",Jt,!1));var Ic=So;function Oc(r){return r!=null}function Mc(r){return Array.isArray(r)}function Gt(r,e,t){return r?e:t}var kc=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var o=Object.entries(e).filter(function(s){var a=me(s,1),l=a[0];return!i.includes(l)});return o.reduce(function(s,a){var l=me(a,2),u=l[0],c=l[1];return s[u]=c,s},{})},Ac=["children","innerProps"],Lc=["children","innerProps"];function Dc(r){var e=r.maxHeight,t=r.menuEl,i=r.minHeight,n=r.placement,o=r.shouldScroll,s=r.isFixedPosition,a=r.controlHeight,l=Cc(t),u={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return u;var c=l.getBoundingClientRect(),d=c.height,h=t.getBoundingClientRect(),f=h.bottom,p=h.height,v=h.top,m=t.offsetParent.getBoundingClientRect(),y=m.top,w=s?window.innerHeight:Ec(l),C=yo(l),O=parseInt(getComputedStyle(t).marginBottom,10),R=parseInt(getComputedStyle(t).marginTop,10),P=y-R,D=w-v,b=P+C,E=d-C-v,I=f-w+C+O,_=C+v-R,M=160;switch(n){case"auto":case"bottom":if(D>=p)return{placement:"bottom",maxHeight:e};if(E>=p&&!s)return o&&zt(l,I,M),{placement:"bottom",maxHeight:e};if(!s&&E>=i||s&&D>=i){o&&zt(l,I,M);var A=s?D-O:E-O;return{placement:"bottom",maxHeight:A}}if(n==="auto"||s){var x=e,k=s?P:b;return k>=i&&(x=Math.min(k-O-a,e)),{placement:"top",maxHeight:x}}if(n==="bottom")return o&&Qt(l,I),{placement:"bottom",maxHeight:e};break;case"top":if(P>=p)return{placement:"top",maxHeight:e};if(b>=p&&!s)return o&&zt(l,_,M),{placement:"top",maxHeight:e};if(!s&&b>=i||s&&P>=i){var B=e;return(!s&&b>=i||s&&P>=i)&&(B=s?P-R:b-R),o&&zt(l,_,M),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(n,'".'))}return u}function Rc(r){var e={bottom:"top",top:"bottom"};return r?e[r]:"bottom"}var Eo=function(e){return e==="auto"?"bottom":e},Fc=function(e,t){var i,n=e.placement,o=e.theme,s=o.borderRadius,a=o.spacing,l=o.colors;return F((i={label:"menu"},mt(i,Rc(n),"100%"),mt(i,"position","absolute"),mt(i,"width","100%"),mt(i,"zIndex",1),i),t?{}:{backgroundColor:l.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},Co=g.createContext(null),Tc=function(e){var t=e.children,i=e.minMenuHeight,n=e.maxMenuHeight,o=e.menuPlacement,s=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=g.useContext(Co)||{},c=u.setPortalPlacement,d=g.useRef(null),h=g.useState(n),f=me(h,2),p=f[0],v=f[1],m=g.useState(null),y=me(m,2),w=y[0],C=y[1],O=l.spacing.controlHeight;return qn(function(){var R=d.current;if(R){var P=s==="fixed",D=a&&!P,b=Dc({maxHeight:n,menuEl:R,minHeight:i,placement:o,shouldScroll:D,isFixedPosition:P,controlHeight:O});v(b.maxHeight),C(b.placement),c?.(b.placement)}},[n,o,s,a,i,c,O]),t({ref:d,placerProps:F(F({},e),{},{placement:w||Eo(o),maxHeight:p})})},Vc=function(e){var t=e.children,i=e.innerRef,n=e.innerProps;return T("div",N({},q(e,"menu",{menu:!0}),{ref:i},n),t)},Nc=Vc,jc=function(e,t){var i=e.maxHeight,n=e.theme.spacing.baseUnit;return F({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:n,paddingTop:n})},Bc=function(e){var t=e.children,i=e.innerProps,n=e.innerRef,o=e.isMulti;return T("div",N({},q(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:n},i),t)},xo=function(e,t){var i=e.theme,n=i.spacing.baseUnit,o=i.colors;return F({textAlign:"center"},t?{}:{color:o.neutral40,padding:"".concat(n*2,"px ").concat(n*3,"px")})},$c=xo,Hc=xo,zc=function(e){var t=e.children,i=t===void 0?"No options":t,n=e.innerProps,o=ve(e,Ac);return T("div",N({},q(F(F({},o),{},{children:i,innerProps:n}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),i)},Uc=function(e){var t=e.children,i=t===void 0?"Loading...":t,n=e.innerProps,o=ve(e,Lc);return T("div",N({},q(F(F({},o),{},{children:i,innerProps:n}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),i)},Gc=function(e){var t=e.rect,i=e.offset,n=e.position;return{left:t.left,position:n,top:i,width:t.width,zIndex:1}},Wc=function(e){var t=e.appendTo,i=e.children,n=e.controlElement,o=e.innerProps,s=e.menuPlacement,a=e.menuPosition,l=g.useRef(null),u=g.useRef(null),c=g.useState(Eo(s)),d=me(c,2),h=d[0],f=d[1],p=g.useMemo(function(){return{setPortalPlacement:f}},[]),v=g.useState(null),m=me(v,2),y=m[0],w=m[1],C=g.useCallback(function(){if(n){var D=wc(n),b=a==="fixed"?0:window.pageYOffset,E=D[h]+b;(E!==y?.offset||D.left!==y?.rect.left||D.width!==y?.rect.width)&&w({offset:E,rect:D})}},[n,a,h,y?.offset,y?.rect.left,y?.rect.width]);qn(function(){C()},[C]);var O=g.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),n&&l.current&&(u.current=vc(n,l.current,C,{elementResize:"ResizeObserver"in window}))},[n,C]);qn(function(){O()},[O]);var R=g.useCallback(function(D){l.current=D,O()},[O]);if(!t&&a!=="fixed"||!y)return null;var P=T("div",N({ref:R},q(F(F({},e),{},{offset:y.offset,position:a,rect:y.rect}),"menuPortal",{"menu-portal":!0}),o),i);return T(Co.Provider,{value:p},t?rs.createPortal(P,t):P)},qc=function(e){var t=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},Yc=function(e){var t=e.children,i=e.innerProps,n=e.isDisabled,o=e.isRtl;return T("div",N({},q(e,"container",{"--is-disabled":n,"--is-rtl":o}),i),t)},Kc=function(e,t){var i=e.theme.spacing,n=e.isMulti,o=e.hasValue,s=e.selectProps.controlShouldRenderValue;return F({alignItems:"center",display:n&&o&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},Zc=function(e){var t=e.children,i=e.innerProps,n=e.isMulti,o=e.hasValue;return T("div",N({},q(e,"valueContainer",{"value-container":!0,"value-container--is-multi":n,"value-container--has-value":o}),i),t)},Xc=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Jc=function(e){var t=e.children,i=e.innerProps;return T("div",N({},q(e,"indicatorsContainer",{indicators:!0}),i),t)},Kr,Qc=["size"],ed=["innerProps","isRtl","size"],td={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},wo=function(e){var t=e.size,i=ve(e,Qc);return T("svg",N({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:td},i))},hr=function(e){return T(wo,N({size:20},e),T("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},_o=function(e){return T(wo,N({size:20},e),T("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Po=function(e,t){var i=e.isFocused,n=e.theme,o=n.spacing.baseUnit,s=n.colors;return F({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:i?s.neutral60:s.neutral20,padding:o*2,":hover":{color:i?s.neutral80:s.neutral40}})},nd=Po,rd=function(e){var t=e.children,i=e.innerProps;return T("div",N({},q(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),t||T(_o,null))},id=Po,od=function(e){var t=e.children,i=e.innerProps;return T("div",N({},q(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),t||T(hr,null))},sd=function(e,t){var i=e.isDisabled,n=e.theme,o=n.spacing.baseUnit,s=n.colors;return F({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:i?s.neutral10:s.neutral20,marginBottom:o*2,marginTop:o*2})},ad=function(e){var t=e.innerProps;return T("span",N({},t,q(e,"indicatorSeparator",{"indicator-separator":!0})))},ld=ns(Kr||(Kr=oc([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),ud=function(e,t){var i=e.isFocused,n=e.size,o=e.theme,s=o.colors,a=o.spacing.baseUnit;return F({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"},t?{}:{color:i?s.neutral60:s.neutral20,padding:a*2})},Dn=function(e){var t=e.delay,i=e.offset;return T("span",{css:yi({animation:"".concat(ld," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},cd=function(e){var t=e.innerProps,i=e.isRtl,n=e.size,o=n===void 0?4:n,s=ve(e,ed);return T("div",N({},q(F(F({},s),{},{innerProps:t,isRtl:i,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),T(Dn,{delay:0,offset:i}),T(Dn,{delay:160,offset:!0}),T(Dn,{delay:320,offset:!i}))},dd=function(e,t){var i=e.isDisabled,n=e.isFocused,o=e.theme,s=o.colors,a=o.borderRadius,l=o.spacing;return F({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:i?s.neutral5:s.neutral0,borderColor:i?s.neutral10:n?s.primary:s.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:n?s.primary:s.neutral30}})},hd=function(e){var t=e.children,i=e.isDisabled,n=e.isFocused,o=e.innerRef,s=e.innerProps,a=e.menuIsOpen;return T("div",N({ref:o},q(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":n,"control--menu-is-open":a}),s,{"aria-disabled":i||void 0}),t)},fd=hd,pd=["data"],md=function(e,t){var i=e.theme.spacing;return t?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},gd=function(e){var t=e.children,i=e.cx,n=e.getStyles,o=e.getClassNames,s=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,c=e.theme,d=e.selectProps;return T("div",N({},q(e,"group",{group:!0}),l),T(s,N({},a,{selectProps:d,theme:c,getStyles:n,getClassNames:o,cx:i}),u),T("div",null,t))},vd=function(e,t){var i=e.theme,n=i.colors,o=i.spacing;return F({label:"group",cursor:"default",display:"block"},t?{}:{color:n.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},bd=function(e){var t=bo(e);t.data;var i=ve(t,pd);return T("div",N({},q(e,"groupHeading",{"group-heading":!0}),i))},yd=gd,Sd=["innerRef","isDisabled","isHidden","inputClassName"],Ed=function(e,t){var i=e.isDisabled,n=e.value,o=e.theme,s=o.spacing,a=o.colors;return F(F({visibility:i?"hidden":"visible",transform:n?"translateZ(0)":""},Cd),t?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:a.neutral80})},Io={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Cd={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":F({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Io)},xd=function(e){return F({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Io)},wd=function(e){var t=e.cx,i=e.value,n=bo(e),o=n.innerRef,s=n.isDisabled,a=n.isHidden,l=n.inputClassName,u=ve(n,Sd);return T("div",N({},q(e,"input",{"input-container":!0}),{"data-value":i||""}),T("input",N({className:t({input:!0},l),ref:o,style:xd(a),disabled:s},u)))},_d=wd,Pd=function(e,t){var i=e.theme,n=i.spacing,o=i.borderRadius,s=i.colors;return F({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:s.neutral10,borderRadius:o/2,margin:n.baseUnit/2})},Id=function(e,t){var i=e.theme,n=i.borderRadius,o=i.colors,s=e.cropWithEllipsis;return F({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:n/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Od=function(e,t){var i=e.theme,n=i.spacing,o=i.borderRadius,s=i.colors,a=e.isFocused;return F({alignItems:"center",display:"flex"},t?{}:{borderRadius:o/2,backgroundColor:a?s.dangerLight:void 0,paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},Oo=function(e){var t=e.children,i=e.innerProps;return T("div",i,t)},Md=Oo,kd=Oo;function Ad(r){var e=r.children,t=r.innerProps;return T("div",N({role:"button"},t),e||T(hr,{size:14}))}var Ld=function(e){var t=e.children,i=e.components,n=e.data,o=e.innerProps,s=e.isDisabled,a=e.removeProps,l=e.selectProps,u=i.Container,c=i.Label,d=i.Remove;return T(u,{data:n,innerProps:F(F({},q(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),o),selectProps:l},T(c,{data:n,innerProps:F({},q(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},t),T(d,{data:n,innerProps:F(F({},q(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:l}))},Dd=Ld,Rd=function(e,t){var i=e.isDisabled,n=e.isFocused,o=e.isSelected,s=e.theme,a=s.spacing,l=s.colors;return F({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:o?l.primary:n?l.primary25:"transparent",color:i?l.neutral20:o?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:o?l.primary:l.primary50}})},Fd=function(e){var t=e.children,i=e.isDisabled,n=e.isFocused,o=e.isSelected,s=e.innerRef,a=e.innerProps;return T("div",N({},q(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":n,"option--is-selected":o}),{ref:s,"aria-disabled":i},a),t)},Td=Fd,Vd=function(e,t){var i=e.theme,n=i.spacing,o=i.colors;return F({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:o.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},Nd=function(e){var t=e.children,i=e.innerProps;return T("div",N({},q(e,"placeholder",{placeholder:!0}),i),t)},jd=Nd,Bd=function(e,t){var i=e.isDisabled,n=e.theme,o=n.spacing,s=n.colors;return F({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:i?s.neutral40:s.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},$d=function(e){var t=e.children,i=e.isDisabled,n=e.innerProps;return T("div",N({},q(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),n),t)},Hd=$d,zd={ClearIndicator:od,Control:fd,DropdownIndicator:rd,DownChevron:_o,CrossIcon:hr,Group:yd,GroupHeading:bd,IndicatorsContainer:Jc,IndicatorSeparator:ad,Input:_d,LoadingIndicator:cd,Menu:Nc,MenuList:Bc,MenuPortal:Wc,LoadingMessage:Uc,NoOptionsMessage:zc,MultiValue:Dd,MultiValueContainer:Md,MultiValueLabel:kd,MultiValueRemove:Ad,Option:Td,Placeholder:jd,SelectContainer:Yc,SingleValue:Hd,ValueContainer:Zc},Ud=function(e){return F(F({},zd),e.components)},Zr=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Gd(r,e){return!!(r===e||Zr(r)&&Zr(e))}function Wd(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(!Gd(r[t],e[t]))return!1;return!0}function qd(r,e){e===void 0&&(e=Wd);var t=null;function i(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(t&&t.lastThis===this&&e(n,t.lastArgs))return t.lastResult;var s=r.apply(this,n);return t={lastResult:s,lastArgs:n,lastThis:this},s}return i.clear=function(){t=null},i}var Yd={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Kd=function(e){return T("span",N({css:Yd},e))},Xr=Kd,Zd={guidance:function(e){var t=e.isSearchable,i=e.isMulti,n=e.isDisabled,o=e.tabSelectsValue,s=e.context;switch(s){case"menu":return"Use Up and Down to choose options".concat(n?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,i=e.label,n=i===void 0?"":i,o=e.labels,s=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return s?"option ".concat(n," is disabled. Select another option."):"option ".concat(n,", selected.");default:return""}},onFocus:function(e){var t=e.context,i=e.focused,n=e.options,o=e.label,s=o===void 0?"":o,a=e.selectValue,l=e.isDisabled,u=e.isSelected,c=function(p,v){return p&&p.length?"".concat(p.indexOf(v)+1," of ").concat(p.length):""};if(t==="value"&&a)return"value ".concat(s," focused, ").concat(c(a,i),".");if(t==="menu"){var d=l?" disabled":"",h="".concat(u?"selected":"focused").concat(d);return"option ".concat(s," ").concat(h,", ").concat(c(n,i),".")}return""},onFilter:function(e){var t=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(t?" for search term "+t:"",".")}},Xd=function(e){var t=e.ariaSelection,i=e.focusedOption,n=e.focusedValue,o=e.focusableOptions,s=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,d=l.getOptionLabel,h=l.inputValue,f=l.isMulti,p=l.isOptionDisabled,v=l.isSearchable,m=l.menuIsOpen,y=l.options,w=l.screenReaderStatus,C=l.tabSelectsValue,O=l["aria-label"],R=l["aria-live"],P=g.useMemo(function(){return F(F({},Zd),c||{})},[c]),D=g.useMemo(function(){var x="";if(t&&P.onChange){var k=t.option,B=t.options,V=t.removedValue,$=t.removedValues,G=t.value,oe=function(ae){return Array.isArray(ae)?null:ae},Ae=V||k||oe(G),K=Ae?d(Ae):"",J=B||$||void 0,be=J?J.map(d):[],ye=F({isDisabled:Ae&&p(Ae,a),label:K,labels:be},t);x=P.onChange(ye)}return x},[t,P,p,a,d]),b=g.useMemo(function(){var x="",k=i||n,B=!!(i&&a&&a.includes(i));if(k&&P.onFocus){var V={focused:k,label:d(k),isDisabled:p(k,a),isSelected:B,options:o,context:k===i?"menu":"value",selectValue:a};x=P.onFocus(V)}return x},[i,n,d,p,P,o,a]),E=g.useMemo(function(){var x="";if(m&&y.length&&P.onFilter){var k=w({count:o.length});x=P.onFilter({inputValue:h,resultsMessage:k})}return x},[o,h,m,P,y,w]),I=g.useMemo(function(){var x="";if(P.guidance){var k=n?"value":m?"menu":"input";x=P.guidance({"aria-label":O,context:k,isDisabled:i&&p(i,a),isMulti:f,isSearchable:v,tabSelectsValue:C})}return x},[O,i,n,f,p,v,m,P,a,C]),_="".concat(b," ").concat(E," ").concat(I),M=T(g.Fragment,null,T("span",{id:"aria-selection"},D),T("span",{id:"aria-context"},_)),A=t?.action==="initial-input-focus";return T(g.Fragment,null,T(Xr,{id:u},A&&M),T(Xr,{"aria-live":R,"aria-atomic":"false","aria-relevant":"additions text"},s&&!A&&M))},Jd=Xd,Yn=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Qd=new RegExp("["+Yn.map(function(r){return r.letters}).join("")+"]","g"),Mo={};for(var Rn=0;Rn<Yn.length;Rn++)for(var Fn=Yn[Rn],Tn=0;Tn<Fn.letters.length;Tn++)Mo[Fn.letters[Tn]]=Fn.base;var ko=function(e){return e.replace(Qd,function(t){return Mo[t]})},eh=qd(ko),Jr=function(e){return e.replace(/^\s+|\s+$/g,"")},th=function(e){return"".concat(e.label," ").concat(e.value)},nh=function(e){return function(t,i){if(t.data.__isNew__)return!0;var n=F({ignoreCase:!0,ignoreAccents:!0,stringify:th,trim:!0,matchFrom:"any"},e),o=n.ignoreCase,s=n.ignoreAccents,a=n.stringify,l=n.trim,u=n.matchFrom,c=l?Jr(i):i,d=l?Jr(a(t)):a(t);return o&&(c=c.toLowerCase(),d=d.toLowerCase()),s&&(c=eh(c),d=ko(d)),u==="start"?d.substr(0,c.length)===c:d.indexOf(c)>-1}},rh=["innerRef"];function ih(r){var e=r.innerRef,t=ve(r,rh),i=kc(t,"onExited","in","enter","exit","appear");return T("input",N({ref:e},i,{css:yi({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var oh=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function sh(r){var e=r.isEnabled,t=r.onBottomArrive,i=r.onBottomLeave,n=r.onTopArrive,o=r.onTopLeave,s=g.useRef(!1),a=g.useRef(!1),l=g.useRef(0),u=g.useRef(null),c=g.useCallback(function(m,y){if(u.current!==null){var w=u.current,C=w.scrollTop,O=w.scrollHeight,R=w.clientHeight,P=u.current,D=y>0,b=O-R-C,E=!1;b>y&&s.current&&(i&&i(m),s.current=!1),D&&a.current&&(o&&o(m),a.current=!1),D&&y>b?(t&&!s.current&&t(m),P.scrollTop=O,E=!0,s.current=!0):!D&&-y>C&&(n&&!a.current&&n(m),P.scrollTop=0,E=!0,a.current=!0),E&&oh(m)}},[t,i,n,o]),d=g.useCallback(function(m){c(m,m.deltaY)},[c]),h=g.useCallback(function(m){l.current=m.changedTouches[0].clientY},[]),f=g.useCallback(function(m){var y=l.current-m.changedTouches[0].clientY;c(m,y)},[c]),p=g.useCallback(function(m){if(m){var y=Ic?{passive:!1}:!1;m.addEventListener("wheel",d,y),m.addEventListener("touchstart",h,y),m.addEventListener("touchmove",f,y)}},[f,h,d]),v=g.useCallback(function(m){m&&(m.removeEventListener("wheel",d,!1),m.removeEventListener("touchstart",h,!1),m.removeEventListener("touchmove",f,!1))},[f,h,d]);return g.useEffect(function(){if(e){var m=u.current;return p(m),function(){v(m)}}},[e,p,v]),function(m){u.current=m}}var Qr=["boxSizing","height","overflow","paddingRight","position"],ei={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ti(r){r.preventDefault()}function ni(r){r.stopPropagation()}function ri(){var r=this.scrollTop,e=this.scrollHeight,t=r+this.offsetHeight;r===0?this.scrollTop=1:t===e&&(this.scrollTop=r-1)}function ii(){return"ontouchstart"in window||navigator.maxTouchPoints}var oi=!!(typeof window<"u"&&window.document&&window.document.createElement),ht=0,Be={capture:!1,passive:!1};function ah(r){var e=r.isEnabled,t=r.accountForScrollbars,i=t===void 0?!0:t,n=g.useRef({}),o=g.useRef(null),s=g.useCallback(function(l){if(oi){var u=document.body,c=u&&u.style;if(i&&Qr.forEach(function(p){var v=c&&c[p];n.current[p]=v}),i&&ht<1){var d=parseInt(n.current.paddingRight,10)||0,h=document.body?document.body.clientWidth:0,f=window.innerWidth-h+d||0;Object.keys(ei).forEach(function(p){var v=ei[p];c&&(c[p]=v)}),c&&(c.paddingRight="".concat(f,"px"))}u&&ii()&&(u.addEventListener("touchmove",ti,Be),l&&(l.addEventListener("touchstart",ri,Be),l.addEventListener("touchmove",ni,Be))),ht+=1}},[i]),a=g.useCallback(function(l){if(oi){var u=document.body,c=u&&u.style;ht=Math.max(ht-1,0),i&&ht<1&&Qr.forEach(function(d){var h=n.current[d];c&&(c[d]=h)}),u&&ii()&&(u.removeEventListener("touchmove",ti,Be),l&&(l.removeEventListener("touchstart",ri,Be),l.removeEventListener("touchmove",ni,Be)))}},[i]);return g.useEffect(function(){if(e){var l=o.current;return s(l),function(){a(l)}}},[e,s,a]),function(l){o.current=l}}var lh=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},uh={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function ch(r){var e=r.children,t=r.lockEnabled,i=r.captureEnabled,n=i===void 0?!0:i,o=r.onBottomArrive,s=r.onBottomLeave,a=r.onTopArrive,l=r.onTopLeave,u=sh({isEnabled:n,onBottomArrive:o,onBottomLeave:s,onTopArrive:a,onTopLeave:l}),c=ah({isEnabled:t}),d=function(f){u(f),c(f)};return T(g.Fragment,null,t&&T("div",{onClick:lh,css:uh}),e(d))}var dh={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},hh=function(e){var t=e.name,i=e.onFocus;return T("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:dh,value:"",onChange:function(){}})},fh=hh,ph=function(e){return e.label},mh=function(e){return e.label},gh=function(e){return e.value},vh=function(e){return!!e.isDisabled},bh={clearIndicator:id,container:qc,control:dd,dropdownIndicator:nd,group:md,groupHeading:vd,indicatorsContainer:Xc,indicatorSeparator:sd,input:Ed,loadingIndicator:ud,loadingMessage:Hc,menu:Fc,menuList:jc,menuPortal:Gc,multiValue:Pd,multiValueLabel:Id,multiValueRemove:Od,noOptionsMessage:$c,option:Rd,placeholder:Vd,singleValue:Bd,valueContainer:Kc},yh={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Sh=4,Ao=4,Eh=38,Ch=Ao*2,xh={baseUnit:Ao,controlHeight:Eh,menuGutter:Ch},Vn={borderRadius:Sh,colors:yh,spacing:xh},wh={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Yr(),captureMenuScroll:!Yr(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:nh(),formatGroupLabel:ph,getOptionLabel:mh,getOptionValue:gh,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:vh,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!_c(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function si(r,e,t,i){var n=Fo(r,e,t),o=To(r,e,t),s=Ro(r,e),a=en(r,e);return{type:"option",data:e,isDisabled:n,isSelected:o,label:s,value:a,index:i}}function Lo(r,e){return r.options.map(function(t,i){if("options"in t){var n=t.options.map(function(s,a){return si(r,s,e,a)}).filter(function(s){return ai(r,s)});return n.length>0?{type:"group",data:t,options:n,index:i}:void 0}var o=si(r,t,e,i);return ai(r,o)?o:void 0}).filter(Oc)}function Do(r){return r.reduce(function(e,t){return t.type==="group"?e.push.apply(e,ho(t.options.map(function(i){return i.data}))):e.push(t.data),e},[])}function _h(r,e){return Do(Lo(r,e))}function ai(r,e){var t=r.inputValue,i=t===void 0?"":t,n=e.data,o=e.isSelected,s=e.label,a=e.value;return(!No(r)||!o)&&Vo(r,{label:s,value:a,data:n},i)}function Ph(r,e){var t=r.focusedValue,i=r.selectValue,n=i.indexOf(t);if(n>-1){var o=e.indexOf(t);if(o>-1)return t;if(n<e.length)return e[n]}return null}function Ih(r,e){var t=r.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var Ro=function(e,t){return e.getOptionLabel(t)},en=function(e,t){return e.getOptionValue(t)};function Fo(r,e,t){return typeof r.isOptionDisabled=="function"?r.isOptionDisabled(e,t):!1}function To(r,e,t){if(t.indexOf(e)>-1)return!0;if(typeof r.isOptionSelected=="function")return r.isOptionSelected(e,t);var i=en(r,e);return t.some(function(n){return en(r,n)===i})}function Vo(r,e,t){return r.filterOption?r.filterOption(e,t):!0}var No=function(e){var t=e.hideSelectedOptions,i=e.isMulti;return t===void 0?i:t},Oh=1,jo=function(r){Xu(t,r);var e=tc(t);function t(i){var n;if(Ku(this,t),n=e.call(this,i),n.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},n.blockOptionHover=!1,n.isComposing=!1,n.commonProps=void 0,n.initialTouchX=0,n.initialTouchY=0,n.instancePrefix="",n.openAfterFocus=!1,n.scrollToFocusedOptionOnUpdate=!1,n.userIsDragging=void 0,n.controlRef=null,n.getControlRef=function(a){n.controlRef=a},n.focusedOptionRef=null,n.getFocusedOptionRef=function(a){n.focusedOptionRef=a},n.menuListRef=null,n.getMenuListRef=function(a){n.menuListRef=a},n.inputRef=null,n.getInputRef=function(a){n.inputRef=a},n.focus=n.focusInput,n.blur=n.blurInput,n.onChange=function(a,l){var u=n.props,c=u.onChange,d=u.name;l.name=d,n.ariaOnChange(a,l),c(a,l)},n.setValue=function(a,l,u){var c=n.props,d=c.closeMenuOnSelect,h=c.isMulti,f=c.inputValue;n.onInputChange("",{action:"set-value",prevInputValue:f}),d&&(n.setState({inputIsHiddenAfterUpdate:!h}),n.onMenuClose()),n.setState({clearFocusValueOnUpdate:!0}),n.onChange(a,{action:l,option:u})},n.selectOption=function(a){var l=n.props,u=l.blurInputOnSelect,c=l.isMulti,d=l.name,h=n.state.selectValue,f=c&&n.isOptionSelected(a,h),p=n.isOptionDisabled(a,h);if(f){var v=n.getOptionValue(a);n.setValue(h.filter(function(m){return n.getOptionValue(m)!==v}),"deselect-option",a)}else if(!p)c?n.setValue([].concat(ho(h),[a]),"select-option",a):n.setValue(a,"select-option");else{n.ariaOnChange(a,{action:"select-option",option:a,name:d});return}u&&n.blurInput()},n.removeValue=function(a){var l=n.props.isMulti,u=n.state.selectValue,c=n.getOptionValue(a),d=u.filter(function(f){return n.getOptionValue(f)!==c}),h=Gt(l,d,d[0]||null);n.onChange(h,{action:"remove-value",removedValue:a}),n.focusInput()},n.clearValue=function(){var a=n.state.selectValue;n.onChange(Gt(n.props.isMulti,[],null),{action:"clear",removedValues:a})},n.popValue=function(){var a=n.props.isMulti,l=n.state.selectValue,u=l[l.length-1],c=l.slice(0,l.length-1),d=Gt(a,c,c[0]||null);n.onChange(d,{action:"pop-value",removedValue:u})},n.getValue=function(){return n.state.selectValue},n.cx=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return Sc.apply(void 0,[n.props.classNamePrefix].concat(l))},n.getOptionLabel=function(a){return Ro(n.props,a)},n.getOptionValue=function(a){return en(n.props,a)},n.getStyles=function(a,l){var u=n.props.unstyled,c=bh[a](l,u);c.boxSizing="border-box";var d=n.props.styles[a];return d?d(c,l):c},n.getClassNames=function(a,l){var u,c;return(u=(c=n.props.classNames)[a])===null||u===void 0?void 0:u.call(c,l)},n.getElementId=function(a){return"".concat(n.instancePrefix,"-").concat(a)},n.getComponents=function(){return Ud(n.props)},n.buildCategorizedOptions=function(){return Lo(n.props,n.state.selectValue)},n.getCategorizedOptions=function(){return n.props.menuIsOpen?n.buildCategorizedOptions():[]},n.buildFocusableOptions=function(){return Do(n.buildCategorizedOptions())},n.getFocusableOptions=function(){return n.props.menuIsOpen?n.buildFocusableOptions():[]},n.ariaOnChange=function(a,l){n.setState({ariaSelection:F({value:a},l)})},n.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),n.focusInput())},n.onMenuMouseMove=function(a){n.blockOptionHover=!1},n.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&n.onMenuClose():l&&n.openMenu("first"):(l&&(n.openAfterFocus=!0),n.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},n.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!n.props.isDisabled){var l=n.props,u=l.isMulti,c=l.menuIsOpen;n.focusInput(),c?(n.setState({inputIsHiddenAfterUpdate:!u}),n.onMenuClose()):n.openMenu("first"),a.preventDefault()}},n.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(n.clearValue(),a.preventDefault(),n.openAfterFocus=!1,a.type==="touchend"?n.focusInput():setTimeout(function(){return n.focusInput()}))},n.onScroll=function(a){typeof n.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Sn(a.target)&&n.props.onMenuClose():typeof n.props.closeMenuOnScroll=="function"&&n.props.closeMenuOnScroll(a)&&n.props.onMenuClose()},n.onCompositionStart=function(){n.isComposing=!0},n.onCompositionEnd=function(){n.isComposing=!1},n.onTouchStart=function(a){var l=a.touches,u=l&&l.item(0);u&&(n.initialTouchX=u.clientX,n.initialTouchY=u.clientY,n.userIsDragging=!1)},n.onTouchMove=function(a){var l=a.touches,u=l&&l.item(0);if(u){var c=Math.abs(u.clientX-n.initialTouchX),d=Math.abs(u.clientY-n.initialTouchY),h=5;n.userIsDragging=c>h||d>h}},n.onTouchEnd=function(a){n.userIsDragging||(n.controlRef&&!a.composedPath().includes(n.controlRef)&&n.menuListRef&&!a.composedPath().includes(n.menuListRef)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)},n.onControlTouchEnd=function(a){n.userIsDragging||n.onControlMouseDown(a)},n.onClearIndicatorTouchEnd=function(a){n.userIsDragging||n.onClearIndicatorMouseDown(a)},n.onDropdownIndicatorTouchEnd=function(a){n.userIsDragging||n.onDropdownIndicatorMouseDown(a)},n.handleInputChange=function(a){var l=n.props.inputValue,u=a.currentTarget.value;n.setState({inputIsHiddenAfterUpdate:!1}),n.onInputChange(u,{action:"input-change",prevInputValue:l}),n.props.menuIsOpen||n.onMenuOpen()},n.onInputFocus=function(a){n.props.onFocus&&n.props.onFocus(a),n.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1},n.onInputBlur=function(a){var l=n.props.inputValue;if(n.menuListRef&&n.menuListRef.contains(document.activeElement)){n.inputRef.focus();return}n.props.onBlur&&n.props.onBlur(a),n.onInputChange("",{action:"input-blur",prevInputValue:l}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1})},n.onOptionHover=function(a){n.blockOptionHover||n.state.focusedOption===a||n.setState({focusedOption:a})},n.shouldHideSelectedOptions=function(){return No(n.props)},n.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),n.focus()},n.onKeyDown=function(a){var l=n.props,u=l.isMulti,c=l.backspaceRemovesValue,d=l.escapeClearsValue,h=l.inputValue,f=l.isClearable,p=l.isDisabled,v=l.menuIsOpen,m=l.onKeyDown,y=l.tabSelectsValue,w=l.openMenuOnFocus,C=n.state,O=C.focusedOption,R=C.focusedValue,P=C.selectValue;if(!p&&!(typeof m=="function"&&(m(a),a.defaultPrevented))){switch(n.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||h)return;n.focusValue("previous");break;case"ArrowRight":if(!u||h)return;n.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(R)n.removeValue(R);else{if(!c)return;u?n.popValue():f&&n.clearValue()}break;case"Tab":if(n.isComposing||a.shiftKey||!v||!y||!O||w&&n.isOptionSelected(O,P))return;n.selectOption(O);break;case"Enter":if(a.keyCode===229)break;if(v){if(!O||n.isComposing)return;n.selectOption(O);break}return;case"Escape":v?(n.setState({inputIsHiddenAfterUpdate:!1}),n.onInputChange("",{action:"menu-close",prevInputValue:h}),n.onMenuClose()):f&&d&&n.clearValue();break;case" ":if(h)return;if(!v){n.openMenu("first");break}if(!O)return;n.selectOption(O);break;case"ArrowUp":v?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":v?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!v)return;n.focusOption("pageup");break;case"PageDown":if(!v)return;n.focusOption("pagedown");break;case"Home":if(!v)return;n.focusOption("first");break;case"End":if(!v)return;n.focusOption("last");break;default:return}a.preventDefault()}},n.instancePrefix="react-select-"+(n.props.instanceId||++Oh),n.state.selectValue=Wr(i.value),i.menuIsOpen&&n.state.selectValue.length){var o=n.buildFocusableOptions(),s=o.indexOf(n.state.selectValue[0]);n.state.focusedOption=o[s]}return n}return Zu(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&qr(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(n){var o=this.props,s=o.isDisabled,a=o.menuIsOpen,l=this.state.isFocused;(l&&!s&&n.isDisabled||l&&a&&!n.menuIsOpen)&&this.focusInput(),l&&s&&!n.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!s&&n.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(qr(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(n,o){this.props.onInputChange(n,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(n){var o=this,s=this.state,a=s.selectValue,l=s.isFocused,u=this.buildFocusableOptions(),c=n==="first"?0:u.length-1;if(!this.props.isMulti){var d=u.indexOf(a[0]);d>-1&&(c=d)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c]},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(n){var o=this.state,s=o.selectValue,a=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=s.indexOf(a);a||(l=-1);var u=s.length-1,c=-1;if(s.length){switch(n){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:s[c]})}}}},{key:"focusOption",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,s=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(s);s||(u=-1),n==="up"?l=u>0?u-1:a.length-1:n==="down"?l=(u+1)%a.length:n==="pageup"?(l=u-o,l<0&&(l=0)):n==="pagedown"?(l=u+o,l>a.length-1&&(l=a.length-1)):n==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Vn):F(F({},Vn),this.props.theme):Vn}},{key:"getCommonProps",value:function(){var n=this.clearValue,o=this.cx,s=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,d=this.props,h=d.isMulti,f=d.isRtl,p=d.options,v=this.hasValue();return{clearValue:n,cx:o,getStyles:s,getClassNames:a,getValue:l,hasValue:v,isMulti:h,isRtl:f,options:p,selectOption:u,selectProps:d,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var n=this.state.selectValue;return n.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var n=this.props,o=n.isClearable,s=n.isMulti;return o===void 0?s:o}},{key:"isOptionDisabled",value:function(n,o){return Fo(this.props,n,o)}},{key:"isOptionSelected",value:function(n,o){return To(this.props,n,o)}},{key:"filterOption",value:function(n,o){return Vo(this.props,n,o)}},{key:"formatOptionLabel",value:function(n,o){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(n,{context:o,inputValue:s,selectValue:a})}else return this.getOptionLabel(n)}},{key:"formatGroupLabel",value:function(n){return this.props.formatGroupLabel(n)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var n=this.props,o=n.isDisabled,s=n.isSearchable,a=n.inputId,l=n.inputValue,u=n.tabIndex,c=n.form,d=n.menuIsOpen,h=n.required,f=this.getComponents(),p=f.Input,v=this.state,m=v.inputIsHidden,y=v.ariaSelection,w=this.commonProps,C=a||this.getElementId("input"),O=F(F(F({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":h,role:"combobox"},d&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!s&&{"aria-readonly":!0}),this.hasValue()?y?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return s?g.createElement(p,N({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:o,isHidden:m,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},O)):g.createElement(ih,N({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Jt,onFocus:this.onInputFocus,disabled:o,tabIndex:u,inputMode:"none",form:c,value:""},O))}},{key:"renderPlaceholderOrValue",value:function(){var n=this,o=this.getComponents(),s=o.MultiValue,a=o.MultiValueContainer,l=o.MultiValueLabel,u=o.MultiValueRemove,c=o.SingleValue,d=o.Placeholder,h=this.commonProps,f=this.props,p=f.controlShouldRenderValue,v=f.isDisabled,m=f.isMulti,y=f.inputValue,w=f.placeholder,C=this.state,O=C.selectValue,R=C.focusedValue,P=C.isFocused;if(!this.hasValue()||!p)return y?null:g.createElement(d,N({},h,{key:"placeholder",isDisabled:v,isFocused:P,innerProps:{id:this.getElementId("placeholder")}}),w);if(m)return O.map(function(b,E){var I=b===R,_="".concat(n.getOptionLabel(b),"-").concat(n.getOptionValue(b));return g.createElement(s,N({},h,{components:{Container:a,Label:l,Remove:u},isFocused:I,isDisabled:v,key:_,index:E,removeProps:{onClick:function(){return n.removeValue(b)},onTouchEnd:function(){return n.removeValue(b)},onMouseDown:function(A){A.preventDefault()}},data:b}),n.formatOptionLabel(b,"value"))});if(y)return null;var D=O[0];return g.createElement(c,N({},h,{data:D,isDisabled:v}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var n=this.getComponents(),o=n.ClearIndicator,s=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!o||l||!this.hasValue()||u)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return g.createElement(o,N({},s,{innerProps:d,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var n=this.getComponents(),o=n.LoadingIndicator,s=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!o||!u)return null;var d={"aria-hidden":"true"};return g.createElement(o,N({},s,{innerProps:d,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var n=this.getComponents(),o=n.DropdownIndicator,s=n.IndicatorSeparator;if(!o||!s)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return g.createElement(s,N({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var n=this.getComponents(),o=n.DropdownIndicator;if(!o)return null;var s=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return g.createElement(o,N({},s,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var n=this,o=this.getComponents(),s=o.Group,a=o.GroupHeading,l=o.Menu,u=o.MenuList,c=o.MenuPortal,d=o.LoadingMessage,h=o.NoOptionsMessage,f=o.Option,p=this.commonProps,v=this.state.focusedOption,m=this.props,y=m.captureMenuScroll,w=m.inputValue,C=m.isLoading,O=m.loadingMessage,R=m.minMenuHeight,P=m.maxMenuHeight,D=m.menuIsOpen,b=m.menuPlacement,E=m.menuPosition,I=m.menuPortalTarget,_=m.menuShouldBlockScroll,M=m.menuShouldScrollIntoView,A=m.noOptionsMessage,x=m.onMenuScrollToTop,k=m.onMenuScrollToBottom;if(!D)return null;var B=function(J,be){var ye=J.type,se=J.data,ae=J.isDisabled,ct=J.isSelected,At=J.label,Yo=J.value,mr=v===se,gr=ae?void 0:function(){return n.onOptionHover(se)},Ko=ae?void 0:function(){return n.selectOption(se)},vr="".concat(n.getElementId("option"),"-").concat(be),Zo={id:vr,onClick:Ko,onMouseMove:gr,onMouseOver:gr,tabIndex:-1};return g.createElement(f,N({},p,{innerProps:Zo,data:se,isDisabled:ae,isSelected:ct,key:vr,label:At,type:ye,value:Yo,isFocused:mr,innerRef:mr?n.getFocusedOptionRef:void 0}),n.formatOptionLabel(J.data,"menu"))},V;if(this.hasOptions())V=this.getCategorizedOptions().map(function(K){if(K.type==="group"){var J=K.data,be=K.options,ye=K.index,se="".concat(n.getElementId("group"),"-").concat(ye),ae="".concat(se,"-heading");return g.createElement(s,N({},p,{key:se,data:J,options:be,Heading:a,headingProps:{id:ae,data:K.data},label:n.formatGroupLabel(K.data)}),K.options.map(function(ct){return B(ct,"".concat(ye,"-").concat(ct.index))}))}else if(K.type==="option")return B(K,"".concat(K.index))});else if(C){var $=O({inputValue:w});if($===null)return null;V=g.createElement(d,p,$)}else{var G=A({inputValue:w});if(G===null)return null;V=g.createElement(h,p,G)}var oe={minMenuHeight:R,maxMenuHeight:P,menuPlacement:b,menuPosition:E,menuShouldScrollIntoView:M},Ae=g.createElement(Tc,N({},p,oe),function(K){var J=K.ref,be=K.placerProps,ye=be.placement,se=be.maxHeight;return g.createElement(l,N({},p,oe,{innerRef:J,innerProps:{onMouseDown:n.onMenuMouseDown,onMouseMove:n.onMenuMouseMove,id:n.getElementId("listbox")},isLoading:C,placement:ye}),g.createElement(ch,{captureEnabled:y,onTopArrive:x,onBottomArrive:k,lockEnabled:_},function(ae){return g.createElement(u,N({},p,{innerRef:function(At){n.getMenuListRef(At),ae(At)},isLoading:C,maxHeight:se,focusedOption:v}),V)}))});return I||E==="fixed"?g.createElement(c,N({},p,{appendTo:I,controlElement:this.controlRef,menuPlacement:b,menuPosition:E}),Ae):Ae}},{key:"renderFormField",value:function(){var n=this,o=this.props,s=o.delimiter,a=o.isDisabled,l=o.isMulti,u=o.name,c=o.required,d=this.state.selectValue;if(c&&!this.hasValue()&&!a)return g.createElement(fh,{name:u,onFocus:this.onValueInputFocus});if(!(!u||a))if(l)if(s){var h=d.map(function(v){return n.getOptionValue(v)}).join(s);return g.createElement("input",{name:u,type:"hidden",value:h})}else{var f=d.length>0?d.map(function(v,m){return g.createElement("input",{key:"i-".concat(m),name:u,type:"hidden",value:n.getOptionValue(v)})}):g.createElement("input",{name:u,type:"hidden",value:""});return g.createElement("div",null,f)}else{var p=d[0]?this.getOptionValue(d[0]):"";return g.createElement("input",{name:u,type:"hidden",value:p})}}},{key:"renderLiveRegion",value:function(){var n=this.commonProps,o=this.state,s=o.ariaSelection,a=o.focusedOption,l=o.focusedValue,u=o.isFocused,c=o.selectValue,d=this.getFocusableOptions();return g.createElement(Jd,N({},n,{id:this.getElementId("live-region"),ariaSelection:s,focusedOption:a,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:d}))}},{key:"render",value:function(){var n=this.getComponents(),o=n.Control,s=n.IndicatorsContainer,a=n.SelectContainer,l=n.ValueContainer,u=this.props,c=u.className,d=u.id,h=u.isDisabled,f=u.menuIsOpen,p=this.state.isFocused,v=this.commonProps=this.getCommonProps();return g.createElement(a,N({},v,{className:c,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:p}),this.renderLiveRegion(),g.createElement(o,N({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:p,menuIsOpen:f}),g.createElement(l,N({},v,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),g.createElement(s,N({},v,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(n,o){var s=o.prevProps,a=o.clearFocusValueOnUpdate,l=o.inputIsHiddenAfterUpdate,u=o.ariaSelection,c=o.isFocused,d=o.prevWasFocused,h=n.options,f=n.value,p=n.menuIsOpen,v=n.inputValue,m=n.isMulti,y=Wr(f),w={};if(s&&(f!==s.value||h!==s.options||p!==s.menuIsOpen||v!==s.inputValue)){var C=p?_h(n,y):[],O=a?Ph(o,y):null,R=Ih(o,C);w={selectValue:y,focusedOption:R,focusedValue:O,clearFocusValueOnUpdate:!1}}var P=l!=null&&n!==s?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},D=u,b=c&&d;return c&&!b&&(D={value:Gt(m,y,y[0]||null),options:y,action:"initial-input-focus"},b=!d),u?.action==="initial-input-focus"&&(D=null),F(F(F({},w),P),{},{prevProps:n,ariaSelection:D,prevWasFocused:b})}}]),t}(g.Component);jo.defaultProps=wh;var Mh=g.forwardRef(function(r,e){var t=Yu(r);return g.createElement(jo,N({ref:e},t))}),kh=Mh,Ah=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"];function Kn(){return Kn=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Kn.apply(this,arguments)}function Lh(r,e){if(r==null)return{};var t={},i=Object.keys(r),n,o;for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Bo=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=Lh(e,Ah);return Kn({},t)},Dh=function(e){var t=typeof e=="string";return t&&["sm","md","lg"].includes(e)},Rh=function(e){return Dh(e)?e:e==="xs"?"sm":e==="xl"?"lg":"md"},ie=function(e){var t=hn(),i=Rh(t.components.Input.defaultProps.size),n=e??i,o=Ga(typeof n=="string"?[n]:n,{fallback:"md"})||i;return o};function st(){return st=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},st.apply(this,arguments)}var Fh=function(e){var t=e.children,i=e.className,n=e.cx,o=e.innerProps,s=e.isDisabled,a=e.isRtl,l=e.hasValue,u=e.selectProps.chakraStyles,c=st({position:"relative",direction:a?"rtl":void 0},s?{cursor:"not-allowed"}:{}),d=u!=null&&u.container?u.container(c,e):c;return j.createElement(U,st({},o,{className:n({"--is-disabled":s,"--is-rtl":a,"--has-value":l},i),sx:d}),t)},Th=function(e){var t=e.children,i=e.className,n=e.cx,o=e.isMulti,s=e.hasValue,a=e.innerProps,l=e.selectProps,u=l.chakraStyles,c=l.size,d=l.variant,h=l.focusBorderColor,f=l.errorBorderColor,p=l.controlShouldRenderValue,v=ie(c),m=Oe("Input",{size:v,variant:d,focusBorderColor:h,errorBorderColor:f}),y={display:o&&s&&p?"flex":"grid",alignItems:"center",flex:1,paddingY:"2px",paddingX:m.field.px,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},w=u!=null&&u.valueContainer?u.valueContainer(y,e):y;return j.createElement(U,st({},a,{className:n({"value-container":!0,"value-container--is-multi":o,"value-container--has-value":s},i),sx:w}),t)},Vh=function(e){var t=e.children,i=e.className,n=e.cx,o=e.innerProps,s=e.selectProps.chakraStyles,a={display:"flex",alignItems:"center",alignSelf:"stretch",flexShrink:0},l=s!=null&&s.indicatorsContainer?s.indicatorsContainer(a,e):a;return j.createElement(U,st({},o,{className:n({indicators:!0},i),sx:l}),t)},Nh=["height","h"];function te(){return te=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},te.apply(this,arguments)}function jh(r,e){if(r==null)return{};var t={},i=Object.keys(r),n,o;for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Bh=function(e){var t=e.className,i=e.cx,n=e.children,o=e.innerRef,s=e.innerProps,a=e.isDisabled,l=e.isFocused,u=e.menuIsOpen,c=e.selectProps,d=c.chakraStyles,h=c.size,f=c.variant,p=c.focusBorderColor,v=c.errorBorderColor,m=c.isInvalid,y=c.isReadOnly,w=ie(h),C=Oe("Input",{size:w,variant:f,focusBorderColor:p,errorBorderColor:v}),O=C.field,R=O.height,P=O.h,D=jh(O,Nh),b=R||P,E=te({},D,{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",padding:0,overflow:"hidden",height:"auto",minH:b},a?{pointerEvents:"none"}:{}),I=d!=null&&d.control?d.control(E,e):E;return j.createElement(U,te({ref:o,className:i({control:!0,"control--is-disabled":a,"control--is-focused":l,"control--menu-is-open":u},t),sx:I},s,{"data-focus":l?!0:void 0,"data-focus-visible":l?!0:void 0,"data-invalid":m?!0:void 0,"data-disabled":a?!0:void 0,"data-readonly":y?!0:void 0}),n)},$h=function(e){var t=e.className,i=e.cx,n=e.selectProps,o=n.chakraStyles,s=n.useBasicStyles,a=n.variant,l=te({opacity:1},s||a!=="outline"?{display:"none"}:{}),u=o!=null&&o.indicatorSeparator?o.indicatorSeparator(l,e):l;return j.createElement(zi,{className:i({"indicator-separator":!0},t),sx:u,orientation:"vertical"})},Hh=function(e){return j.createElement(er,te({role:"presentation",focusable:"false","aria-hidden":"true"},e),j.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},zh=function(e){var t=e.children,i=e.className,n=e.cx,o=e.innerProps,s=e.selectProps,a=s.chakraStyles,l=s.useBasicStyles,u=s.size,c=s.focusBorderColor,d=s.errorBorderColor,h=s.variant,f=ie(u),p=Oe("Input",{size:f,variant:h,focusBorderColor:c,errorBorderColor:d}),v={sm:"16px",md:"20px",lg:"24px"},m=v[f],y=te({},p.addon,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",borderRadius:0,borderWidth:0,fontSize:m},l&&{background:"transparent",padding:0,width:6,marginRight:2,marginLeft:1,cursor:"inherit"}),w=a!=null&&a.dropdownIndicator?a.dropdownIndicator(y,e):y,C={height:"1em",width:"1em"},O=a!=null&&a.downChevron?a.downChevron(C,e):C;return j.createElement(U,te({},o,{className:n({indicator:!0,"dropdown-indicator":!0},i),sx:w}),t||j.createElement(Hh,{sx:O}))},Uh=function(e){return j.createElement(er,te({focusable:"false","aria-hidden":!0},e),j.createElement("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}))},Gh=function(e){var t=e.children,i=e.className,n=e.cx,o=e.innerProps,s=e.selectProps,a=s.chakraStyles,l=s.size,u=ie(l),c=is("CloseButton",{size:u}),d=te({},c,{marginX:1,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,cursor:"pointer"}),h=a!=null&&a.clearIndicator?a.clearIndicator(d,e):d,f={width:"1em",height:"1em"},p=a!=null&&a.crossIcon?a.crossIcon(f,e):f;return j.createElement(U,te({role:"button",className:n({indicator:!0,"clear-indicator":!0},i),sx:h,"aria-label":"Clear selected options"},o),t||j.createElement(Uh,{sx:p}))},Wh=function(e){var t=e.className,i=e.cx,n=e.innerProps,o=e.selectProps,s=o.chakraStyles,a=o.size,l=e.color,u=e.emptyColor,c=e.speed,d=e.thickness,h=e.spinnerSize,f=ie(a),p={sm:"xs",md:"sm",lg:"md"},v=p[f],m={marginRight:3},y=s!=null&&s.loadingIndicator?s.loadingIndicator(m,e):m;return j.createElement(os,te({className:i({indicator:!0,"loading-indicator":!0},t),sx:y},n,{size:h||v,color:l,emptyColor:u,speed:c,thickness:d}))};const qh=Bh;var Yh=["innerRef","isDisabled","isHidden","inputClassName"];function vt(){return vt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},vt.apply(this,arguments)}function Kh(r,e){if(r==null)return{};var t={},i=Object.keys(r),n,o;for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Zh=function(e){var t=e.className,i=e.cx,n=e.value,o=e.selectProps,s=o.chakraStyles,a=o.isReadOnly,l=Bo(e),u=l.innerRef,c=l.isDisabled,d=l.isHidden,h=l.inputClassName,f=Kh(l,Yh),p={gridArea:"1 / 2",minW:"2px",border:0,margin:0,outline:0,padding:0},v={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content",color:"inherit",marginX:"0.125rem",paddingY:"0.125rem",visibility:c?"hidden":"visible",transform:n?"translateZ(0)":"",_after:vt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre",padding:0},p)},m=s!=null&&s.inputContainer?s.inputContainer(v,e):v,y=vt({background:0,opacity:d?0:1,width:"100%"},p),w=s!=null&&s.input?s.input(y,e):y;return j.createElement(U,{className:i({"input-container":!0},t),"data-value":n||"",sx:m},j.createElement(ge.input,vt({className:i({input:!0},h),ref:u,sx:w,disabled:c,readOnly:a?!0:void 0},f)))};const Xh=Zh;var Jh=["data"];function Qh(r,e){if(r==null)return{};var t={},i=Object.keys(r),n,o;for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}function ee(){return ee=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ee.apply(this,arguments)}var ef=function(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"top"},tf=function(e){var t,i=e.className,n=e.cx,o=e.children,s=e.innerProps,a=e.innerRef,l=e.placement,u=e.selectProps.chakraStyles,c=(t={position:"absolute"},t[ef(l)]="100%",t.marginY="8px",t.width="100%",t.zIndex=1,t),d=u!=null&&u.menu?u.menu(c,e):c;return j.createElement(ka,null,j.createElement(U,ee({},s,{ref:a,className:n({menu:!0},i),sx:d}),o))};const nf=tf;var rf=function(e){var t,i=e.className,n=e.cx,o=e.innerRef,s=e.children,a=e.maxHeight,l=e.isMulti,u=e.innerProps,c=e.selectProps,d=c.chakraStyles,h=c.size,f=c.variant,p=c.focusBorderColor,v=c.errorBorderColor,m=Oe("Menu"),y=ie(h),w=Oe("Input",{size:y,variant:f,focusBorderColor:p,errorBorderColor:v}),C=w.field,O=ee({},m.list,{minW:"100%",maxHeight:a+"px",overflowY:"auto","--input-border-radius":C?.["--input-border-radius"],borderRadius:C?.borderRadius||((t=m.list)==null?void 0:t.borderRadius),position:"relative",WebkitOverflowScrolling:"touch"}),R=d!=null&&d.menuList?d.menuList(O,e):O;return j.createElement(U,ee({role:"listbox"},u,{className:n({"menu-list":!0,"menu-list--is-multi":l},i),sx:R,ref:o}),s)},of=function(e){var t=e.children,i=e.className,n=e.cx,o=e.innerProps,s=e.selectProps,a=s.chakraStyles,l=s.size,u=ie(l),c={sm:"6px",md:"8px",lg:"10px"},d={color:"chakra-subtle-text",textAlign:"center",paddingY:c[u],fontSize:u},h=a!=null&&a.loadingMessage?a.loadingMessage(d,e):d;return j.createElement(U,ee({},o,{className:n({"menu-notice":!0,"menu-notice--loading":!0},i),sx:h}),t)},sf=function(e){var t=e.children,i=e.className,n=e.cx,o=e.innerProps,s=e.selectProps,a=s.chakraStyles,l=s.size,u=ie(l),c={sm:"6px",md:"8px",lg:"10px"},d={color:"chakra-subtle-text",textAlign:"center",paddingY:c[u],fontSize:u},h=a!=null&&a.noOptionsMessage?a.noOptionsMessage(d,e):d;return j.createElement(U,ee({},o,{className:n({"menu-notice":!0,"menu-notice--no-options":!0},i),sx:h}),t)},af=function(e){var t=e.children,i=e.className,n=e.cx,o=e.theme,s=e.getStyles,a=e.Heading,l=e.headingProps,u=e.label,c=e.selectProps,d=e.innerProps,h=e.getClassNames,f=c.chakraStyles,p={},v=f!=null&&f.group?f.group(p,e):p;return j.createElement(U,ee({},d,{className:n({group:!0},i),sx:v}),j.createElement(a,ee({},l,{selectProps:c,cx:n,theme:o,getStyles:s,getClassNames:h}),u),j.createElement(U,null,t))},lf=function(e){var t=e.cx,i=e.className,n=e.selectProps,o=n.chakraStyles,s=n.size,a=n.hasStickyGroupHeaders,l=Bo(e);l.data;var u=Qh(l,Jh),c=Oe("Menu"),d=ie(s),h={sm:"xs",md:"sm",lg:"md"},f={sm:"0.4rem 0.8rem",md:"0.5rem 1rem",lg:"0.6rem 1.2rem"},p=ee({},c.groupTitle,{fontSize:h[d],padding:f[d],margin:0,borderBottomWidth:a?"1px":0,position:a?"sticky":"static",top:-2,bg:c.list.bg,zIndex:1}),v=o!=null&&o.groupHeading?o.groupHeading(p,e):p;return j.createElement(U,ee({},u,{className:t({"group-heading":!0},i),sx:v}))},uf=function(e){return j.createElement("svg",ee({viewBox:"0 0 14 14",width:"1em",height:"1em"},e),j.createElement("polygon",{fill:"currentColor",points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"}))},cf=function(e){var t=e.className,i=e.cx,n=e.innerRef,o=e.innerProps,s=e.children,a=e.isFocused,l=e.isDisabled,u=e.isSelected,c=e.selectProps,d=c.chakraStyles,h=c.size,f=c.isMulti,p=c.hideSelectedOptions,v=c.selectedOptionStyle,m=c.selectedOptionColorScheme,y=Oe("Menu").item,w=ie(h),C={sm:"0.6rem",md:"0.8rem",lg:"1rem"},O={sm:"0.3rem",md:"0.4rem",lg:"0.5rem"},R=yr(m+".500",m+".300"),P=yr("white","black"),D=v==="check"&&(!f||p===!1),b=v==="color",E=ee({},y,{cursor:"pointer",display:"flex",alignItems:"center",width:"100%",textAlign:"start",fontSize:w,paddingX:C[w],paddingY:O[w]},b&&{_selected:{bg:R,color:P,_active:{bg:R}}}),I=d!=null&&d.option?d.option(E,e):E;return j.createElement(U,ee({role:"option"},o,{className:i({option:!0,"option--is-disabled":l,"option--is-focused":a,"option--is-selected":u},t),sx:I,ref:n,"data-focus":a?!0:void 0,"aria-disabled":l?!0:void 0,"aria-selected":u}),D&&j.createElement(Aa,{fontSize:"0.8em",marginEnd:"0.75rem",opacity:u?1:0},j.createElement(uf,null)),s)};function ne(){return ne=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ne.apply(this,arguments)}var df=function(e){return typeof e=="object"&&e!==null&&"colorScheme"in e&&typeof e.colorScheme=="string"},hf=function(e){return typeof e=="object"&&e!==null&&"variant"in e&&typeof e.variant=="string"},$o=function(e){return typeof e=="object"&&e!==null&&"isFixed"in e&&typeof e.isFixed=="boolean"},ff=function(e){var t=e.children,i=e.className,n=e.components,o=e.cx,s=e.data,a=e.innerProps,l=e.isDisabled,u=e.isFocused,c=e.removeProps,d=e.selectProps,h=e.cropWithEllipsis,f=n.Container,p=n.Label,v=n.Remove,m=d.chakraStyles,y=d.colorScheme,w=d.tagVariant,C=d.size,O=ie(C),R="",P="",D=!1;df(s)&&(R=s.colorScheme),hf(s)&&(P=s.variant),$o(s)&&(D=s.isFixed);var b=Oe("Tag",{size:O,colorScheme:R||y,variant:P||w||(D?"solid":"subtle")}),E=ne({},b.container,{display:"flex",alignItems:"center",minWidth:0,margin:"0.125rem"}),I=m!=null&&m.multiValue?m.multiValue(E,e):E,_=ne({},b.label,{overflow:"hidden",textOverflow:h||h===void 0?"ellipsis":void 0,whiteSpace:"nowrap"}),M=m!=null&&m.multiValueLabel?m.multiValueLabel(_,e):_,A=ne({},b.closeButton,{display:"flex",alignItems:"center",justifyContent:"center"}),x=m!=null&&m.multiValueRemove?m.multiValueRemove(A,e):A;return j.createElement(f,{data:s,innerProps:ne({className:o({"multi-value":!0,"multi-value--is-disabled":l},i)},a),sx:I,selectProps:d},j.createElement(p,{data:s,innerProps:{className:o({"multi-value__label":!0},i)},sx:M,selectProps:d},t),j.createElement(v,{data:s,innerProps:ne({className:o({"multi-value__remove":!0},i),"aria-label":"Remove "+(t||"option")},c),sx:x,selectProps:d,isFocused:u}))},pf=function(e){var t=e.children,i=e.innerProps,n=e.sx;return j.createElement(ge.span,ne({},i,{sx:n}),t)},mf=function(e){var t=e.children,i=e.innerProps,n=e.sx;return j.createElement(ge.span,ne({},i,{sx:n}),t)},gf=function(e){return j.createElement(er,ne({verticalAlign:"inherit",viewBox:"0 0 512 512"},e),j.createElement("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}))},vf=function(e){var t=e.children,i=e.innerProps,n=e.isFocused,o=e.data,s=e.sx;return $o(o)&&o.isFixed?null:j.createElement(U,ne({},i,{role:"button",sx:s,"data-focus":n?!0:void 0,"data-focus-visible":n?!0:void 0}),t||j.createElement(gf,null))};const bf=ff;function Zn(){return Zn=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Zn.apply(this,arguments)}var yf=function(e){var t=e.children,i=e.className,n=e.cx,o=e.innerProps,s=e.selectProps.chakraStyles,a={gridArea:"1 / 1 / 2 / 3",color:"chakra-placeholder-color",mx:"0.125rem",userSelect:"none"},l=s!=null&&s.placeholder?s.placeholder(a,e):a;return j.createElement(U,Zn({},o,{className:n({placeholder:!0},i),sx:l}),t)};const Sf=yf;function Xn(){return Xn=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Xn.apply(this,arguments)}var Ef=function(e){var t=e.children,i=e.className,n=e.cx,o=e.isDisabled,s=e.innerProps,a=e.selectProps.chakraStyles,l={gridArea:"1 / 1 / 2 / 3",mx:"0.125rem",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},u=a!=null&&a.singleValue?a.singleValue(l,e):l;return j.createElement(U,Xn({className:n({"single-value":!0,"single-value--is-disabled":o},i),sx:u},s),t)};const Cf=Ef;var xf={ClearIndicator:Gh,Control:qh,DropdownIndicator:zh,Group:af,GroupHeading:lf,IndicatorSeparator:$h,IndicatorsContainer:Vh,Input:Xh,LoadingIndicator:Wh,LoadingMessage:of,Menu:nf,MenuList:rf,MultiValue:bf,MultiValueContainer:pf,MultiValueLabel:mf,MultiValueRemove:vf,NoOptionsMessage:sf,Option:cf,Placeholder:Sf,SelectContainer:Fh,SingleValue:Cf,ValueContainer:Th};const ke=xf;var wf=["components","theme","size","colorScheme","isDisabled","isInvalid","isReadOnly","required","isRequired","inputId","tagVariant","selectedOptionStyle","selectedOptionColorScheme","selectedOptionColor","variant","focusBorderColor","errorBorderColor","chakraStyles","onFocus","onBlur","menuIsOpen"];function tn(){return tn=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},tn.apply(this,arguments)}function _f(r,e){if(r==null)return{};var t={},i=Object.keys(r),n,o;for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&(t[n]=r[n]);return t}var Pf=function(e){var t,i=e.components,n=i===void 0?{}:i;e.theme;var o=e.size,s=e.colorScheme,a=s===void 0?"gray":s,l=e.isDisabled,u=e.isInvalid,c=e.isReadOnly,d=e.required,h=e.isRequired,f=e.inputId,p=e.tagVariant,v=e.selectedOptionStyle,m=v===void 0?"color":v,y=e.selectedOptionColorScheme,w=e.selectedOptionColor,C=e.variant,O=e.focusBorderColor,R=e.errorBorderColor,P=e.chakraStyles,D=P===void 0?{}:P,b=e.onFocus,E=e.onBlur,I=e.menuIsOpen,_=_f(e,wf),M=hn(),A=M.components.Input.defaultProps.variant,x=Ia({id:f,isDisabled:l,isInvalid:u,isRequired:h,isReadOnly:c,onFocus:b,onBlur:E}),k=I??(x.readOnly?!1:void 0),B=m,V=["color","check"];V.includes(m)||(B="color");var $=y||w||"blue";typeof $!="string"&&($="blue");var G=tn({components:tn({},ke,n),colorScheme:a,size:o,tagVariant:p,selectedOptionStyle:B,selectedOptionColorScheme:$,variant:C??A,chakraStyles:D,focusBorderColor:O,errorBorderColor:R,onFocus:x.onFocus,onBlur:x.onBlur,isDisabled:x.disabled,isInvalid:!!x["aria-invalid"],inputId:x.id,isReadOnly:x.readOnly,required:d??x.required,menuIsOpen:k},_,{"aria-invalid":(t=_["aria-invalid"])!=null?t:x["aria-invalid"]});return G};const If=Pf;function Jn(){return Jn=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Jn.apply(this,arguments)}var Of=g.forwardRef(function(r,e){var t=If(r);return j.createElement(kh,Jn({ref:e},t))});const Mf=Of,kf="@open-pioneer/search",En=Ne.bind(void 0,kf);function Af(r){const e=r.selectProps.inputValue.length>0,t={...r,className:gn(r.className,{"search-invisible":!e})};return S.jsx(ke.Menu,{...t,children:r.children})}function Lf(r){const t=En().formatMessage({id:"noOptionsText"});return S.jsx(ke.NoOptionsMessage,{...r,children:S.jsx(ge.span,{className:"search-no-match",children:t})})}function Df(r){const t=En().formatMessage({id:"loadingText"});return S.jsx(ke.LoadingMessage,{...r,children:S.jsx(ge.span,{className:"search-loading-text",children:t})})}function Rf({children:r,...e}){const t={...e,className:gn(e.className,"search-value-container")};return S.jsxs(ke.ValueContainer,{...t,children:[!!r&&S.jsx(Au,{style:{position:"absolute",left:8}}),r]})}function Ff(r){const e={...r,isHidden:!1};return S.jsx(ke.Input,{...e})}function Tf(r){return null}function Vf(r){return S.jsxs(ke.IndicatorsContainer,{...r,children:[r.children,!r.selectProps.isLoading&&r.selectProps.inputValue&&S.jsx(Nf,{selectProps:r.selectProps,clearValue:r.clearValue})]})}function Nf(r){const t=En().formatMessage({id:"ariaLabel.clearButton"}),i=n=>{n.preventDefault(),n.stopPropagation(),r.clearValue()};return S.jsx(ss,{role:"button",size:"md",mr:1,"aria-label":t,onClick:i,onTouchEnd:i,onMouseDown:n=>n.preventDefault()})}function jf(r){return null}function Bf(r){const e=r.selectProps.inputValue,t=r.data.label,i={...r,className:gn(r.className,"search-option")};return S.jsx(ke.Option,{...i,children:S.jsx(ge.div,{className:"search-option-label",children:e.trim().length>0?$f(t,e):t})})}function $f(r,e){const t=r.toLowerCase().indexOf(e.toLowerCase());return t>=0?S.jsxs(S.Fragment,{children:[r.substring(0,t),S.jsx(ge.span,{className:"search-highlighted-match",children:r.substring(t,t+e.length)},"highlighted"),r.substring(t+e.length)]}):r}const li=lt("search:SearchController"),ui=200,ci=5;var Ot,et,tt,nt,de,dn,Ho;class Hf{constructor(e,t){z(this,dn);z(this,Ot,void 0);z(this,et,[]);z(this,tt,ci);z(this,nt,ui);z(this,de,void 0);H(this,Ot,e),H(this,et,t)}destroy(){L(this,de)?.abort(),H(this,de,void 0)}async search(e){if(L(this,de)?.abort(),H(this,de,void 0),!e)return[];const t=H(this,de,new AbortController);try{return await zf(t.signal,L(this,nt)),t.signal.aborted&&(li.debug(`search canceled with ${e}`),as()),(await Promise.all(L(this,et).map(n=>Y(this,dn,Ho).call(this,n,e,t.signal)))).filter(n=>n!=null)}finally{L(this,de)===t&&H(this,de,void 0)}}get searchTypingDelay(){return L(this,nt)}set searchTypingDelay(e){H(this,nt,e??ui)}get maxResultsPerSource(){return L(this,tt)}set maxResultsPerSource(e){H(this,tt,e??ci)}get sources(){return L(this,et)}}Ot=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap,de=new WeakMap,dn=new WeakSet,Ho=async function(e,t,i){const n=e.label,o=L(this,Ot).olMap.getView().getProjection();try{const s=L(this,tt);let a=await e.search(t,{maxResults:s,signal:i,mapProjection:o});return a.length>s&&(a=a.slice(0,s)),{label:n,source:e,results:a}}catch(s){Qn(s)||li.error(`search for source ${n} failed`,s);return}};async function zf(r,e){r.aborted||await new Promise(t=>{const i=()=>{r.removeEventListener("abort",i),clearTimeout(n),t()};r.addEventListener("abort",i);const n=setTimeout(i,e)})}const nn=lt("search:Search"),Uf=r=>{const{mapId:e,sources:t,searchTypingDelay:i,maxResultsPerGroup:n,onSelect:o,onClear:s}=r,{containerProps:a}=Me("search",r),{map:l}=pe(e),u=En(),c=Yf(t,i,n,l),{input:d,search:h,selectedOption:f,onInputChanged:p,onResultConfirmed:v}=Kf(c),m=qf(),y=Gf(u),w=Wf(),C=Bn((P,D)=>{D.action==="input-change"&&p(P)}),O=Bn((P,D)=>{switch(D.action){case"select-option":P&&(v(P),o?.({source:P.source,result:P.result}));break;case"clear":p(""),R.current?.blur(),R.current?.focus(),s?.();break;default:nn.debug(`Unhandled action type '${D.action}'.`);break}}),R=g.useRef(null);return S.jsx(U,{...a,children:S.jsx(Mf,{className:"search-component",classNamePrefix:"react-select",ref:R,inputValue:d,onInputChange:C,"aria-label":u.formatMessage({id:"ariaLabel.search"}),ariaLiveMessages:y,colorScheme:"trails",selectedOptionStyle:"color",selectedOptionColorScheme:"trails",chakraStyles:m,isClearable:!0,placeholder:u.formatMessage({id:"searchPlaceholder"}),closeMenuOnSelect:!0,isLoading:h.kind==="loading",options:h.kind==="ready"?h.results:void 0,filterOption:()=>!0,tabSelectsValue:!1,components:w,onChange:O,value:f})})};function Gf(r){return g.useMemo(()=>({onFocus:({focused:o})=>`${o.label} ${r.formatMessage({id:"ariaLabel.searchFocus"})}.`,onChange:({action:o,label:s})=>{let a="";switch(o){case"select-option":a=`${s} ${r.formatMessage({id:"ariaLabel.searchSelect"})}.`;break;case"clear":a=`${s} ${r.formatMessage({id:"ariaLabel.searchClear"})}.`;break}return a},guidance:()=>`${r.formatMessage({id:"ariaLabel.instructions"})}`,onFilter:()=>""}),[r])}function Wf(){return g.useMemo(()=>({Menu:Af,Input:Ff,SingleValue:Tf,Option:Bf,NoOptionsMessage:Lf,LoadingMessage:Df,ValueContainer:Rf,IndicatorsContainer:Vf,ClearIndicator:jf}),[])}function qf(){const[r,e]=ls("colors",["trails.100","trails.50"],["#d5e5ec","#eaf2f5"]);return g.useMemo(()=>({groupHeading:i=>({...i,backgroundColor:r,padding:"8px 12px",fontSize:"inherit",fontWeight:"inherit"}),option:i=>({...i,backgroundColor:"inherit",_focus:{backgroundColor:e}}),dropdownIndicator:i=>({...i,display:"none"})}),[r,e])}function Yf(r,e,t,i){const[n,o]=g.useState(void 0);return g.useEffect(()=>{if(!i)return;const s=new Hf(i,r);return o(s),()=>{s.destroy(),o(void 0)}},[i,r]),g.useEffect(()=>{n&&(n.searchTypingDelay=e)},[n,e]),g.useEffect(()=>{n&&(n.maxResultsPerSource=t)},[n,t]),n}function Kf(r){const[e,t]=g.useReducer((a,l)=>{switch(l.kind){case"input":return{...a,query:l.query,selectedOption:null};case"select-option":return{...a,selectedOption:l.option,query:l.option.label};case"load-results":return{...a,search:{kind:"loading"}};case"accept-results":return{...a,search:{kind:"ready",results:l.results}}}},void 0,()=>({query:"",selectedOption:null,search:{kind:"ready",results:[]}})),i=g.useRef(),n=Bn(a=>{if(!r){i.current=void 0,t({kind:"accept-results",results:[]});return}nn.isDebug()&&nn.debug(`Starting new search for query ${JSON.stringify(a)}.`),t({kind:"load-results"});const l=i.current=Zf(r,a).then(u=>{i.current===l&&t({kind:"accept-results",results:u})})}),o=g.useCallback(a=>{t({kind:"select-option",option:a})},[]),s=g.useCallback(a=>{t({kind:"input",query:a}),n(a)},[n]);return{input:e.query,search:e.search,selectedOption:e.selectedOption,onResultConfirmed:o,onInputChanged:s}}async function Zf(r,e){let t;try{t=await r.search(e)}catch(i){Qn(i)||nn.error("Search failed",i),t=[]}return Xf(t)}function Xf(r){return r.map((t,i)=>({label:t.label,options:t.results.map(n=>({value:`${i}-${n.id}`,label:n.label,source:t.source,result:n}))}))}let Jf=0;function Qf(r,e){const t=`atom${++Jf}`,i={toString:()=>t};return typeof r=="function"?i.read=r:(i.init=r,i.read=function(n){return n(this)},i.write=function(n,o,s){return o(this,typeof s=="function"?s(n(this)):s)}),e&&(i.write=e),i}const di=r=>"init"in r,hi=r=>!!r.write,rn=new WeakMap,ep=(r,e)=>{rn.set(r,e),r.catch(()=>{}).finally(()=>rn.delete(r))},fi=(r,e)=>{const t=rn.get(r);t&&(rn.delete(r),t(e))},pi=(r,e)=>{r.status="fulfilled",r.value=e},mi=(r,e)=>{r.status="rejected",r.reason=e},tp=r=>typeof r?.then=="function",ft=(r,e)=>!!r&&"v"in r&&"v"in e&&Object.is(r.v,e.v),gi=(r,e)=>!!r&&"e"in r&&"e"in e&&Object.is(r.e,e.e),$e=r=>!!r&&"v"in r&&r.v instanceof Promise,np=(r,e)=>"v"in r&&"v"in e&&r.v.orig&&r.v.orig===e.v.orig,Wt=r=>{if("e"in r)throw r.e;return r.v},fr=()=>{const r=new WeakMap,e=new WeakMap,t=new Map;let i,n;const o=b=>r.get(b),s=(b,E)=>{const I=r.get(b);if(r.set(b,E),t.has(b)||t.set(b,I),$e(I)){const _="v"in E?E.v instanceof Promise?E.v:Promise.resolve(E.v):Promise.reject(E.e);I.v!==_&&fi(I.v,_)}},a=(b,E,I)=>{const _=new Map;let M=!1;I.forEach((A,x)=>{!A&&x===b&&(A=E),A&&(_.set(x,A),E.d.get(x)!==A&&(M=!0))}),(M||E.d.size!==_.size)&&(E.d=_)},l=(b,E,I)=>{const _=o(b),M={d:_?.d||new Map,v:E};if(I&&a(b,M,I),ft(_,M)&&_.d===M.d)return _;if($e(_)&&$e(M)&&np(_,M)){if(_.d===M.d)return _;M.v=_.v}return s(b,M),M},u=(b,E,I,_)=>{if(tp(E)){let M;const A=()=>{const k=o(b);if(!$e(k)||k.v!==x)return;const B=l(b,x,I);e.has(b)&&k.d!==B.d&&R(b,B,k.d)},x=new Promise((k,B)=>{let V=!1;E.then($=>{V||(V=!0,pi(x,$),k($),A())},$=>{V||(V=!0,mi(x,$),B($),A())}),M=$=>{V||(V=!0,$.then(G=>pi(x,G),G=>mi(x,G)),k($))}});return x.orig=E,x.status="pending",ep(x,k=>{k&&M(k),_?.()}),l(b,x,I)}return l(b,E,I)},c=(b,E,I)=>{const _=o(b),M={d:_?.d||new Map,e:E};return I&&a(b,M,I),gi(_,M)&&_.d===M.d?_:(s(b,M),M)},d=(b,E)=>{const I=o(b);if(!E&&I&&(e.has(b)||Array.from(I.d).every(([V,$])=>{if(V===b)return!0;const G=d(V);return G===$||ft(G,$)})))return I;const _=new Map;let M=!0;const A=V=>{if(V===b){const G=o(V);if(G)return _.set(V,G),Wt(G);if(di(V))return _.set(V,void 0),V.init;throw new Error("no atom init")}const $=d(V);return _.set(V,$),Wt($)};let x,k;const B={get signal(){return x||(x=new AbortController),x.signal},get setSelf(){return!k&&hi(b)&&(k=(...V)=>{if(!M)return w(b,...V)}),k}};try{const V=b.read(A,B);return u(b,V,_,()=>x?.abort())}catch(V){return c(b,V,_)}finally{M=!1}},h=b=>Wt(d(b)),f=b=>{let E=e.get(b);return E||(E=C(b)),E},p=(b,E)=>!E.l.size&&(!E.t.size||E.t.size===1&&E.t.has(b)),v=b=>{const E=e.get(b);E&&p(b,E)&&O(b)},m=b=>{const E=new Map,I=new WeakMap,_=x=>{var k;const B=new Set((k=e.get(x))==null?void 0:k.t);return t.forEach((V,$)=>{var G;(G=o($))!=null&&G.d.has(x)&&B.add($)}),B},M=x=>{_(x).forEach(k=>{k!==x&&(E.set(k,(E.get(k)||new Set).add(x)),I.set(k,(I.get(k)||0)+1),M(k))})};M(b);const A=x=>{_(x).forEach(k=>{var B;if(k!==x){let V=I.get(k);if(V&&I.set(k,--V),!V){let $=!!((B=E.get(k))!=null&&B.size);if($){const G=o(k),oe=d(k,!0);$=!ft(G,oe)}$||E.forEach(G=>G.delete(k))}A(k)}})};A(b)},y=(b,...E)=>{let I=!0;const _=x=>Wt(d(x)),M=(x,...k)=>{let B;if(x===b){if(!di(x))throw new Error("atom not writable");const V=o(x),$=u(x,k[0]);ft(V,$)||m(x)}else B=y(x,...k);if(!I){const V=P()}return B},A=b.write(_,M,...E);return I=!1,A},w=(b,...E)=>{const I=y(b,...E),_=P();return I},C=(b,E,I)=>{var _;const M=I||[];(_=o(b))==null||_.d.forEach((x,k)=>{const B=e.get(k);B?B.t.add(b):k!==b&&C(k,b,M)}),d(b);const A={t:new Set(E&&[E]),l:new Set};if(e.set(b,A),hi(b)&&b.onMount){const{onMount:x}=b;M.push(()=>{const k=x((...B)=>w(b,...B));k&&(A.u=k)})}return I||M.forEach(x=>x()),A},O=b=>{var E;const I=(E=e.get(b))==null?void 0:E.u;I&&I(),e.delete(b);const _=o(b);_&&($e(_)&&fi(_.v),_.d.forEach((M,A)=>{if(A!==b){const x=e.get(A);x&&(x.t.delete(b),p(A,x)&&O(A))}}))},R=(b,E,I)=>{const _=new Set(E.d.keys());I?.forEach((M,A)=>{if(_.has(A)){_.delete(A);return}const x=e.get(A);x&&(x.t.delete(b),p(A,x)&&O(A))}),_.forEach(M=>{const A=e.get(M);A?A.t.add(b):e.has(b)&&C(M,b)})},P=()=>{let b;for(;t.size;){const E=Array.from(t);t.clear(),E.forEach(([I,_])=>{const M=o(I);if(M){const A=e.get(I);A&&M.d!==_?.d&&R(I,M,_?.d),A&&!(!$e(_)&&(ft(_,M)||gi(_,M)))&&A.l.forEach(x=>x())}})}};return{get:h,set:w,sub:(b,E)=>{const I=f(b),_=P(),M=I.l;return M.add(E),()=>{M.delete(E),v(b)}}}};let Nn;const rp=()=>(Nn||(Nn=fr()),Nn),zo=g.createContext(void 0),ip=r=>{const e=g.useContext(zo);return r?.store||e||rp()},op=({children:r,store:e})=>{const t=g.useRef();return!e&&!t.current&&(t.current=fr()),g.createElement(zo.Provider,{value:e||t.current},r)},sp=r=>typeof r?.then=="function",ap=j.use||(r=>{if(r.status==="pending")throw r;if(r.status==="fulfilled")return r.value;throw r.status==="rejected"?r.reason:(r.status="pending",r.then(e=>{r.status="fulfilled",r.value=e},e=>{r.status="rejected",r.reason=e}),r)});function lp(r,e){const t=ip(e),[[i,n,o],s]=g.useReducer(u=>{const c=t.get(r);return Object.is(u[0],c)&&u[1]===t&&u[2]===r?u:[c,t,r]},void 0,()=>[t.get(r),t,r]);let a=i;(n!==t||o!==r)&&(s(),a=t.get(r));const l=e?.delay;return g.useEffect(()=>{const u=t.sub(r,()=>{if(typeof l=="number"){setTimeout(s,l);return}s()});return s(),u},[t,r,l]),g.useDebugValue(a),sp(a)?ap(a):a}const Uo="@open-pioneer/spatial-bookmarks",up=or.bind(void 0,Uo),cp=Ne.bind(void 0,Uo);function dp(r){return ut({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M156,56H60A20,20,0,0,0,40,76V228a12,12,0,0,0,19,9.76l49-35,49,35A12,12,0,0,0,176,228V76A20,20,0,0,0,156,56Zm-4,148.68-37-26.45a12,12,0,0,0-14,0L64,204.68V80h88ZM216,36V188a12,12,0,0,1-24,0V40H92a12,12,0,0,1,0-24H196A20,20,0,0,1,216,36Z"}}]})(r)}function hp(r){return ut({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M222,128a6,6,0,0,1-6,6H40a6,6,0,0,1,0-12H216A6,6,0,0,1,222,128ZM40,70H216a6,6,0,0,0,0-12H40a6,6,0,0,0,0,12ZM216,186H40a6,6,0,0,0,0,12H216a6,6,0,0,0,0-12Z"}}]})(r)}function fp(r){return ut({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M233.91,74.79,181.22,22.1a14,14,0,0,0-19.8,0L22.09,161.41a14,14,0,0,0,0,19.8L74.78,233.9a14,14,0,0,0,19.8,0L233.91,94.59A14,14,0,0,0,233.91,74.79ZM225.42,86.1,86.1,225.41h0a2,2,0,0,1-2.83,0L30.58,172.73a2,2,0,0,1,0-2.83L64,136.48l27.76,27.76a6,6,0,1,0,8.48-8.48L72.48,128,96,104.48l27.76,27.76a6,6,0,0,0,8.48-8.48L104.48,96,128,72.49l27.76,27.75a6,6,0,0,0,8.48-8.48L136.49,64,169.9,30.59a2,2,0,0,1,2.83,0l52.69,52.68A2,2,0,0,1,225.42,86.1Z"}}]})(r)}function Go(r){return ut({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM82,24a6,6,0,0,1,6-6h80a6,6,0,0,1,0,12H88A6,6,0,0,1,82,24Z"}}]})(r)}function Wo(r){return ut({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228.92,49.69a8,8,0,0,0-6.86-1.45L160.93,63.52,99.58,32.84a8,8,0,0,0-5.52-.6l-64,16A8,8,0,0,0,24,56V200a8,8,0,0,0,9.94,7.76l61.13-15.28,61.35,30.68A8.15,8.15,0,0,0,160,224a8,8,0,0,0,1.94-.24l64-16A8,8,0,0,0,232,200V56A8,8,0,0,0,228.92,49.69ZM104,52.94l48,24V203.06l-48-24ZM40,62.25l48-12v127.5l-48,12Zm176,131.5-48,12V78.25l48-12Z"}}]})(r)}const Ee=lt("spatial-bookmark:SpatialBookmarkViewModel");class pp{map;packageNamespace;writableBookmarks=Qf([]);stopBookmarksListener;store;get bookmarks(){return this.writableBookmarks}constructor(e,t){this.map=e,this.packageNamespace=t.getNamespace("spatial-bookmarks"),this.store=fr(),this.loadState(),this.stopBookmarksListener=this.store.sub(this.bookmarks,()=>{this.saveState()})}destroy(){this.stopBookmarksListener()}createBookmark(e){const t=this.map.olMap,i=t.getView().calculateExtent(),n=t.getView().getProjection().getCode(),o={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]},s={id:ki(),title:e,extent:o,projection:n};Ee.debug("Created a new bookmark",s);const a=this.writableBookmarks;this.store.set(a,[...this.store.get(a),s])}activateBookmark(e){Ee.debug("Activating bookmark",e);const t=this.getBookmarkExtent(e);Ee.debug("Attempting to apply extent",t),this.applyExtent(t)}deleteBookmark(e){Ee.debug("Deleting bookmark",e);const t=this.writableBookmarks;this.store.set(t,[...this.store.get(t).filter(i=>i.id!==e)])}deleteAllBookmarks(){Ee.debug("Deleting all bookmarks"),this.store.set(this.writableBookmarks,[])}loadState(){Ee.debug("Restoring bookmarks from local storage");const e=this.packageNamespace.get("bookmarks")??[];try{mp(e),this.store.set(this.writableBookmarks,e)}catch(t){Ee.error("Bookmarks data in local storage is invalid, resetting to default value.",t),this.store.set(this.writableBookmarks,[]),this.saveState()}}saveState(){Ee.debug("Saving bookmarks to local storage"),this.packageNamespace.set("bookmarks",this.store.get(this.bookmarks))}getBookmarkExtent(e){const i=this.map.olMap.getView(),n=e.extent,o=[n.minX,n.minY,n.maxX,n.maxY],s=i.getProjection(),a=e.projection;return pa(o,a,s)}applyExtent(e){const i=this.map.olMap.getView(),n=tr(e),o=i.getResolutionForExtent(e);i.setCenter(n),i.setResolution(o)}}function mp(r){if(!Array.isArray(r))throw new Error("Expected bookmarks from local storage to be an array.");for(const e of r)gp(e)}function gp(r){if(!r||typeof r!="object")throw new Error("Expected bookmark from local storage to be an object.");const e=r;if(typeof e.id!="string")throw new Error("Bookmark does not have a valid id.");if(typeof e.title!="string")throw new Error("Bookmark does not have a valid title.");if(vp(e.extent),typeof e.projection!="string")throw new Error("Bookmark does not have a valid projection value.")}function vp(r){if(!r||typeof r!="object")throw new Error("Expected bookmark extent from local storage to be an object.");const e=r;if(typeof e.minX!="number"||typeof e.minY!="number"||typeof e.maxX!="number"||typeof e.maxY!="number")throw new Error("Expected bookmark extent from local storage to have valid coordinates.")}const bp=r=>{const{map:e}=pe(r.mapId),t=up("local-storage.LocalStorageService"),i=_p(e,t);return i&&S.jsx(op,{store:i.store,children:S.jsx(yp,{...r,viewModel:i})})};function yp(r){const{viewModel:e}=r,t=cp(),i=g.useRef([]),[n,o]=g.useState(!1),s=lp(e.bookmarks),[a,l]=g.useState(""),u=a.trim().length>0,{containerProps:c}=Me("spatial-bookmarks",r),[d,h]=g.useState("list"),f=()=>{e.deleteAllBookmarks(),h("list")},p=()=>{u&&(e.createBookmark(a),h("list"),l(""),o(!0))};g.useEffect(()=>{if(n){const C=i.current;C&&C[s.length-1]?.scrollIntoView?.(),o(!1)}},[s,n]);const v=()=>S.jsxs(Rr,{children:[S.jsxs(xn,{rounded:"md",status:"warning",children:[S.jsx(wn,{}),t.formatMessage({id:"bookmark.alert.delete"})]}),S.jsx(xp,{intl:t,onClear:f,onCancel:()=>h("list")})]}),m=()=>S.jsxs(Rr,{children:[S.jsxs(xn,{rounded:"md",status:"info",children:[S.jsx(wn,{}),t.formatMessage({id:"bookmark.alert.create"})]}),S.jsx(Na,{"aria-label":t.formatMessage({id:"bookmark.input.label"}),placeholder:t.formatMessage({id:"bookmark.input.placeholder"}),value:a,onChange:C=>{l(C.target.value)},onKeyDown:C=>{C.key==="Enter"&&p()},isRequired:!0,isInvalid:!u,autoFocus:!0}),S.jsx(wp,{intl:t,isInvalid:!u,onCancel:()=>{l(""),h("list")},onSave:p})]}),y=()=>S.jsxs(S.Fragment,{children:[s.length?Sp(s,e,t,i):S.jsxs(xn,{rounded:"md",status:"info",children:[S.jsx(wn,{}),t.formatMessage({id:"bookmark.alert.noSaved"})]}),S.jsx(Cp,{intl:t,bookmarks:s,showCreate:()=>h("create"),showDelete:()=>h("delete")})]}),w=S.jsxs(S.Fragment,{children:[d==="list"&&y(),d==="create"&&m(),d==="delete"&&v()]});return S.jsx(Ce,{flexDirection:"column",...c,children:w})}function Sp(r,e,t,i){const n=t.formatMessage({id:"bookmark.button.deleteOne"}),o=r.map((s,a)=>S.jsx(Ep,{index:a,listItemNodes:i,bookmark:s,onActivate:()=>e.activateBookmark(s),onDelete:()=>e.deleteBookmark(s.id),deleteBtnLabel:n},s.id));return S.jsx(Ta,{as:"ul",className:"spatial-bookmark-list",role:"listbox","aria-label":t.formatMessage({id:"bookmark.list.label"}),flexShrink:1,flexGrow:1,p:1,spacing:1,overflowY:"auto",listStyleType:"none",children:o})}const vi={ArrowDown:1,ArrowUp:-1};function Ep(r){const{index:e,listItemNodes:t,bookmark:i,onDelete:n,onActivate:o,deleteBtnLabel:s}=r,a=i.title,l=u=>{const c=u.key;if(c==="Enter"){u.target===u.currentTarget&&o();return}if(vi[c]!=null){const d=t.current?.length;if(!d)return;let h=(e+vi[c])%d;h<0&&(h=d-1),t.current[h]?.focus()}};return S.jsx(U,{as:"li",p:1,ref:u=>{if(!u){t.current.splice(e,1);return}t.current[e]=u},className:gn("spatial-bookmarks-item"),tabIndex:0,rounded:"md",role:"option",cursor:"pointer",outline:0,_hover:{background:"trails.50"},_focusVisible:{boxShadow:"outline"},onKeyDown:l,onClick:o,children:S.jsxs(Ce,{width:"100%",flexDirection:"row",align:"center",gap:1,children:[S.jsx(Gi,{children:S.jsx(Wo,{})}),S.jsx(bn,{ps:2,noOfLines:1,children:a}),S.jsx(Va,{}),S.jsx(us,{hasArrow:!0,label:s,placement:"right",children:S.jsx(fn,{className:"spatial-bookmarks-item-delete","aria-label":s,borderRadius:"full",iconSpacing:0,padding:0,colorScheme:"red",variant:"ghost",leftIcon:S.jsx(Go,{}),onClick:u=>{n(),u.stopPropagation()}})},e)]})})}function Cp(r){const{intl:e,bookmarks:t,showCreate:i,showDelete:n}=r;return S.jsxs(pr,{children:[S.jsx(at,{isDisabled:t.length===0,colorScheme:"red",width:void 0,iconSpacing:0,leftIcon:S.jsx(Go,{}),onClick:n,"aria-label":e.formatMessage({id:"bookmark.button.deleteAll"}),variant:"outline"}),S.jsx(at,{onClick:i,width:"100%",children:e.formatMessage({id:"bookmark.button.create"})})]})}function xp(r){const{intl:e,onCancel:t,onClear:i}=r;return S.jsxs(pr,{children:[S.jsx(at,{variant:"outline",onClick:t,children:e.formatMessage({id:"bookmark.button.cancelDelete"})}),S.jsx(at,{onClick:i,children:e.formatMessage({id:"bookmark.button.confirmDelete"})})]})}function wp(r){const{intl:e,onCancel:t,onSave:i,isInvalid:n}=r;return S.jsxs(pr,{children:[S.jsx(at,{variant:"outline",onClick:()=>t(),children:e.formatMessage({id:"bookmark.button.cancel"})}),S.jsx(at,{isDisabled:n,onClick:()=>i(),children:e.formatMessage({id:"bookmark.button.save"})})]})}function pr(r){return S.jsx(Ce,{width:"100%",flexDirection:"row",mt:2,gap:1,flexGrow:0,flexShrink:0,children:r.children})}function at(r){return S.jsx(fn,{width:"100%",...r})}function _p(r,e){const[t,i]=g.useState();return g.useEffect(()=>{let n;return r?n=new pp(r,e):n=void 0,i(n),()=>n?.destroy()},[r,e]),t}const qo="ol-map",Pp=or.bind(void 0,qo),Ip=Ne.bind(void 0,qo);function Op(){const r=Ip(),e=g.useId(),t=g.useId(),i=g.useId(),{map:n}=pe(X),[o,s]=g.useState(!1),[a,l]=g.useState(!0),[u,c]=g.useState(!1);function d(){c(!u)}const[h,f]=g.useState(!0);function p(){s(!o)}function v(){l(!a)}function m(){f(!h)}const y=g.useMemo(()=>new ir({source:new Mi}),[]);return S.jsxs(Ce,{height:"100%",direction:"column",overflow:"hidden",children:[S.jsx(_a,{position:"top-right"}),S.jsxs(Rt,{title:S.jsx(U,{role:"region","aria-label":r.formatMessage({id:"ariaLabel.header"}),textAlign:"center",py:1,children:S.jsx(Ft,{size:"md",children:"OpenLayers Base Packages - Default Sample"})}),children:[S.jsx(Ce,{flex:"1",direction:"column",position:"relative",children:S.jsxs(ma,{mapId:X,role:"main","aria-label":r.formatMessage({id:"ariaLabel.map"}),children:[S.jsx(U,{backgroundColor:"white",borderWidth:"1px",borderRadius:"lg",padding:2,boxShadow:"lg",mt:5,className:"search-top-center-placement",children:S.jsx(Mp,{})}),S.jsx(Dt,{position:"top-left",horizontalGap:20,verticalGap:20,children:(h||o)&&S.jsxs(U,{backgroundColor:"white",borderWidth:"1px",borderRadius:"lg",padding:2,boxShadow:"lg",width:350,maxWidth:350,children:[h&&S.jsx(U,{role:"dialog","aria-labelledby":e,children:S.jsxs(Rt,{title:S.jsx(Ft,{id:e,size:"md",mb:2,children:r.formatMessage({id:"tocTitle"})}),children:[S.jsx(Sa,{mapId:X,basemapSwitcherProps:{allowSelectingEmptyBasemap:!0}}),S.jsx(Ce,{width:"100%",flexDirection:"row",my:2,gap:1,children:S.jsx(fn,{"aria-label":r.formatMessage({id:"hideAllLayers"}),width:"100%",onClick:()=>kp(n),children:r.formatMessage({id:"hideAllLayers"})})})]})}),h&&o&&S.jsx(zi,{mt:4,mb:4}),o&&S.jsx(U,{role:"dialog","aria-labelledby":t,children:S.jsx(Rt,{title:S.jsx(Ft,{id:t,size:"md",mb:2,children:r.formatMessage({id:"measurementTitle"})}),children:S.jsx(Iu,{mapId:X})})})]})}),S.jsx(Dt,{position:"top-right",horizontalGap:20,verticalGap:20,children:a&&S.jsx(U,{backgroundColor:"white",borderWidth:"1px",borderRadius:"lg",padding:2,boxShadow:"lg",children:S.jsx(ju,{mapId:X,olLayer:y})})}),S.jsx(Dt,{horizontalGap:20,position:"bottom-left",children:u&&S.jsx(U,{backgroundColor:"white",borderWidth:"1px",borderRadius:"lg",padding:2,boxShadow:"lg",role:"dialog",width:350,children:S.jsx(U,{role:"dialog","aria-labelledby":i,children:S.jsx(Rt,{title:S.jsx(Ft,{id:i,size:"md",mb:2,children:r.formatMessage({id:"spatialBookmarkTitle"})}),children:S.jsx(bp,{mapId:X})})})})}),S.jsx(Dt,{position:"bottom-right",horizontalGap:10,verticalGap:45,children:S.jsxs(Ce,{role:"toolbar","aria-label":r.formatMessage({id:"ariaLabel.toolbar"}),direction:"column",gap:1,padding:1,children:[S.jsx(pt,{label:r.formatMessage({id:"spatialBookmarkTitle"}),icon:S.jsx(dp,{}),isActive:u,onClick:d}),S.jsx(yu,{mapId:X}),S.jsx(pt,{label:r.formatMessage({id:"tocTitle"}),icon:S.jsx(hp,{}),isActive:h,onClick:m}),S.jsx(pt,{label:r.formatMessage({id:"measurementTitle"}),icon:S.jsx(fp,{}),isActive:o,onClick:p}),S.jsx(pt,{label:r.formatMessage({id:"overviewMapTitle"}),icon:S.jsx(Wo,{}),isActive:a,onClick:v}),S.jsx(Ea,{mapId:X}),S.jsx(Ca,{mapId:X}),S.jsx(xa,{mapId:X})]})})]})}),S.jsxs(Ce,{role:"region","aria-label":r.formatMessage({id:"ariaLabel.footer"}),gap:3,alignItems:"center",justifyContent:"center",children:[S.jsx(cu,{mapId:X,precision:2}),S.jsx(Bu,{mapId:X}),S.jsx(zu,{mapId:X})]})]})]})}function Mp(){const{map:r}=pe(X),e=Pp("ol-app.AppConfig"),t=g.useMemo(()=>e.getSearchSources(),[e]);function i(o){if(console.debug("The user selected the following item: ",o.result),!r)return;const s=o.result.geometry;s&&r.highlightAndZoom([s])}function n(){console.debug("The user cleared the search"),r?.removeHighlight()}return S.jsx(Uf,{mapId:X,sources:t,maxResultsPerGroup:10,onSelect:i,onClear:n})}function kp(r){const e=t=>{t?.getSublayers().forEach(i=>{i.setVisible(!1),e(i?.sublayers)})};r?.layers.getOperationalLayers().forEach(t=>{t.setVisible(!1),e(t?.sublayers)})}const Ap=cs({component:Op,theme:ds,appMetadata:su,openShadowRoot:!0,config:{properties:{"@open-pioneer/local-storage":{storageId:"ol-app-state"}}},async resolveConfig(r){const e=r.getAttribute("forced-locale");if(e)return{locale:e}}});customElements.define("ol-map-app",Ap);const Lp=document.getElementsByTagName("body")[0];Dp();function Dp(){const r=window.location.search,t=new URLSearchParams(r).get("lang"),i=document.createElement("ol-map-app");i.classList.add("full-height"),i.classList.add("app"),i.setAttribute("id","test"),t&&i.setAttribute("forced-locale",t),Lp.appendChild(i)}
