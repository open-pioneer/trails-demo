import{N as he,a as x,bN as y,bH as tt,c5 as rt,by as be,Q as ot,aL as nt,c6 as st,c7 as at,c8 as it,c9 as ct,b5 as lt,ca as k,cb as Pe,cc as ut,ax as dt,q as V,aF as pt,aE as Y,az as ve,ay as mt,aG as me,aH as fe}from"./b879c00853e6.js";import{G as ft,M as yt,b as gt,a as ht}from"./daeeeb1cbef9.js";import{L as bt}from"./c0c7fefb7c25.js";import{w as Pt,x as je,f as L,j as a,e as O,d as T,r as i,y as vt,z as jt,D as q,G,H as P,b as xt,o as wt,J as Ct,K as St,C as Ft,L as Ot,M as kt,F as Nt,B as xe,N as we}from"./a804c6ae25fd.js";import{B as Mt}from"./7495dd57ead2.js";import{F as Gt,d as Ce}from"./4533599bd8ef.js";import{u as Lt,a as Tt,b as At,l as Et,M as _t}from"./3f67a442b387.js";import{T as X,L as Rt}from"./81064a1e15a2.js";import{C as Bt}from"./43de92519f96.js";import{S as Se}from"./a80ff04620c9.js";import{M as It,a as Dt,b as Ht}from"./8feb64e69a5d.js";function Vt(t){return"current"in t}var Fe=()=>typeof window<"u";function Jt(){var t;const e=navigator.userAgentData;return(t=e?.platform)!=null?t:navigator.platform}var zt=t=>Fe()&&t.test(navigator.vendor),$t=t=>Fe()&&t.test(Jt()),Ut=()=>$t(/mac|iphone|ipad|ipod/i),Kt=()=>Ut()&&zt(/apple/i);function qt(t){const{ref:e,elements:r,enabled:o}=t,n=()=>{var s,c;return(c=(s=e.current)==null?void 0:s.ownerDocument)!=null?c:document};Pt(n,"pointerdown",s=>{if(!Kt()||!o)return;const c=s.target,p=(r??[e]).some(l=>{const m=Vt(l)?l.current:l;return m?.contains(c)||m===c});n().activeElement!==c&&p&&(s.preventDefault(),c.focus())})}var[Wt,C]=je({name:"PopoverContext",errorMessage:"usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"}),[Qt,A]=je({name:"PopoverStylesContext",errorMessage:`usePopoverStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Popover />" `}),Oe=L(function(e,r){const{getHeaderProps:o}=C(),n=A();return a.jsx(O.header,{...o(e,r),className:T("chakra-popover__header",e.className),__css:n.header})});Oe.displayName="PopoverHeader";function ke(t){const e=i.Children.only(t.children),{getTriggerProps:r}=C();return i.cloneElement(e,r(e.props,e.ref))}ke.displayName="PopoverTrigger";var F={click:"click",hover:"hover"};function Yt(t={}){const{closeOnBlur:e=!0,closeOnEsc:r=!0,initialFocusRef:o,id:n,returnFocusOnClose:s=!0,autoFocus:c=!0,arrowSize:d,arrowShadowColor:p,trigger:l=F.click,openDelay:m=200,closeDelay:h=200,isLazy:N,lazyBehavior:J="unmount",computePositionOnMount:Ie,...De}=t,{isOpen:g,onClose:v,onOpen:z,onToggle:ne}=vt(t),$=i.useRef(null),E=i.useRef(null),S=i.useRef(null),M=i.useRef(!1),se=i.useRef(!1);g&&(se.current=!0);const[ae,He]=i.useState(!1),[ie,Ve]=i.useState(!1),Je=i.useId(),ze=n??Je,[ce,_,R,B]=["popover-trigger","popover-content","popover-header","popover-body"].map(u=>`${u}-${ze}`),{referenceRef:I,getArrowProps:$e,getPopperProps:le,getArrowInnerProps:Ue,forceUpdate:Ke}=jt({...De,enabled:g||!!Ie}),ue=Lt({isOpen:g,ref:S});qt({enabled:g,ref:E}),Tt(S,{focusRef:E,visible:g,shouldFocus:s&&l===F.click}),At(S,{focusRef:o,visible:g,shouldFocus:c&&l===F.click});const de=Et({wasSelected:se.current,enabled:N,mode:J,isSelected:ue.present}),qe=i.useCallback((u={},b=null)=>{const f={...u,style:{...u.style,transformOrigin:q.transformOrigin.varRef,[q.arrowSize.var]:d?`${d}px`:void 0,[q.arrowShadowColor.var]:p},ref:G(S,b),children:de?u.children:null,id:_,tabIndex:-1,role:"dialog",onKeyDown:P(u.onKeyDown,j=>{r&&j.key==="Escape"&&v()}),onBlur:P(u.onBlur,j=>{const D=ye(j),K=W(S.current,D),et=W(E.current,D);g&&e&&(!K&&!et)&&v()}),"aria-labelledby":ae?R:void 0,"aria-describedby":ie?B:void 0};return l===F.hover&&(f.role="tooltip",f.onMouseEnter=P(u.onMouseEnter,()=>{M.current=!0}),f.onMouseLeave=P(u.onMouseLeave,j=>{j.nativeEvent.relatedTarget!==null&&(M.current=!1,setTimeout(()=>v(),h))})),f},[de,_,ae,R,ie,B,l,r,v,g,e,h,p,d]),We=i.useCallback((u={},b=null)=>le({...u,style:{visibility:g?"visible":"hidden",...u.style}},b),[g,le]),Qe=i.useCallback((u,b=null)=>({...u,ref:G(b,$,I)}),[$,I]),w=i.useRef(),U=i.useRef(),pe=i.useCallback(u=>{$.current==null&&I(u)},[I]),Ye=i.useCallback((u={},b=null)=>{const f={...u,ref:G(E,b,pe),id:ce,"aria-haspopup":"dialog","aria-expanded":g,"aria-controls":_};return l===F.click&&(f.onClick=P(u.onClick,ne)),l===F.hover&&(f.onFocus=P(u.onFocus,()=>{w.current===void 0&&z()}),f.onBlur=P(u.onBlur,j=>{const D=ye(j),K=!W(S.current,D);g&&e&&K&&v()}),f.onKeyDown=P(u.onKeyDown,j=>{j.key==="Escape"&&v()}),f.onMouseEnter=P(u.onMouseEnter,()=>{M.current=!0,w.current=window.setTimeout(()=>z(),m)}),f.onMouseLeave=P(u.onMouseLeave,()=>{M.current=!1,w.current&&(clearTimeout(w.current),w.current=void 0),U.current=window.setTimeout(()=>{M.current===!1&&v()},h)})),f},[ce,g,_,l,pe,ne,z,e,v,m,h]);i.useEffect(()=>()=>{w.current&&clearTimeout(w.current),U.current&&clearTimeout(U.current)},[]);const Xe=i.useCallback((u={},b=null)=>({...u,id:R,ref:G(b,f=>{He(!!f)})}),[R]),Ze=i.useCallback((u={},b=null)=>({...u,id:B,ref:G(b,f=>{Ve(!!f)})}),[B]);return{forceUpdate:Ke,isOpen:g,onAnimationComplete:ue.onComplete,onClose:v,getAnchorProps:Qe,getArrowProps:$e,getArrowInnerProps:Ue,getPopoverPositionerProps:We,getPopoverProps:qe,getTriggerProps:Ye,getHeaderProps:Xe,getBodyProps:Ze}}function W(t,e){return t===e||t?.contains(e)}function ye(t){var e;const r=t.currentTarget.ownerDocument.activeElement;return(e=t.relatedTarget)!=null?e:r}function Ne(t){const e=xt("Popover",t),{children:r,...o}=wt(t),n=Ct(),s=Yt({...o,direction:n.direction});return a.jsx(Wt,{value:s,children:a.jsx(Qt,{value:e,children:St(r,{isOpen:s.isOpen,onClose:s.onClose,forceUpdate:s.forceUpdate})})})}Ne.displayName="Popover";var Q=(t,e)=>e?`${t}.${e}, ${e}`:void 0;function Me(t){var e;const{bg:r,bgColor:o,backgroundColor:n,shadow:s,boxShadow:c,shadowColor:d}=t,{getArrowProps:p,getArrowInnerProps:l}=C(),m=A(),h=(e=r??o)!=null?e:n,N=s??c;return a.jsx(O.div,{...p(),className:"chakra-popover__arrow-positioner",children:a.jsx(O.div,{className:T("chakra-popover__arrow",t.className),...l(t),__css:{"--popper-arrow-shadow-color":Q("colors",d),"--popper-arrow-bg":Q("colors",h),"--popper-arrow-shadow":Q("shadows",N),...m.arrow}})})}Me.displayName="PopoverArrow";var Ge=L(function(e,r){const{getBodyProps:o}=C(),n=A();return a.jsx(O.div,{...o(e,r),className:T("chakra-popover__body",e.className),__css:n.body})});Ge.displayName="PopoverBody";var Le=L(function(e,r){const{onClose:o}=C(),n=A();return a.jsx(Ft,{size:"sm",onClick:o,className:T("chakra-popover__close-btn",e.className),__css:n.closeButton,ref:r,...e})});Le.displayName="PopoverCloseButton";function Xt(t){if(t)return{enter:{...t.enter,visibility:"visible"},exit:{...t.exit,transitionEnd:{visibility:"hidden"}}}}var Zt={exit:{opacity:0,scale:.95,transition:{duration:.1,ease:[.4,0,1,1]}},enter:{scale:1,opacity:1,transition:{duration:.15,ease:[0,0,.2,1]}}},er=O(Ot.section),Te=L(function(e,r){const{variants:o=Zt,...n}=e,{isOpen:s}=C();return a.jsx(er,{ref:r,variants:Xt(o),initial:!1,animate:s?"enter":"exit",...n})});Te.displayName="PopoverTransition";var Ae=L(function(e,r){const{rootProps:o,motionProps:n,...s}=e,{getPopoverProps:c,getPopoverPositionerProps:d,onAnimationComplete:p}=C(),l=A(),m={position:"relative",display:"flex",flexDirection:"column",...l.content};return a.jsx(O.div,{...d(o),__css:l.popper,className:"chakra-popover__popper",children:a.jsx(Te,{...n,...c(s,r),onAnimationComplete:kt(p,s.onAnimationComplete),className:T("chakra-popover__content",e.className),__css:m})})});Ae.displayName="PopoverContent";class tr{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=he,this.supportedMediaTypes=null}getReadOptions(e,r){if(r){let o=r.dataProjection?x(r.dataProjection):this.readProjection(e);r.extent&&o&&o.getUnits()==="tile-pixels"&&(o=x(o),o.setWorldExtent(r.extent)),r={dataProjection:o,featureProjection:r.featureProjection}}return this.adaptOptions(r)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return y()}readFeature(e,r){return y()}readFeatures(e,r){return y()}readGeometry(e,r){return y()}readProjection(e){return y()}writeFeature(e,r){return y()}writeFeatures(e,r){return y()}writeGeometry(e,r){return y()}}const rr=tr;function ee(t,e,r){const o=r?x(r.featureProjection):null,n=r?x(r.dataProjection):null;let s=t;if(o&&n&&!tt(o,n)){e&&(s=t.clone());const c=e?o:n,d=e?n:o;c.getUnits()==="tile-pixels"?s.transform(c,d):s.applyTransform(rt(c,d))}if(e&&r&&r.decimals!==void 0){const c=Math.pow(10,r.decimals),d=function(p){for(let l=0,m=p.length;l<m;++l)p[l]=Math.round(p[l]*c)/c;return p};s===t&&(s=t.clone()),s.applyTransform(d)}return s}const or={Point:ot,LineString:bt,Polygon:nt,MultiPoint:yt,MultiLineString:gt,MultiPolygon:ht};function nr(t,e,r){return Array.isArray(e[0])?(st(t,0,e,r)||(t=t.slice(),at(t,0,e,r)),t):(it(t,0,e,r)||(t=t.slice(),ct(t,0,e,r)),t)}function Ee(t,e){const r=t.geometry;if(!r)return[];if(Array.isArray(r))return r.map(s=>Ee({...t,geometry:s})).flat();const o=r.type==="MultiPolygon"?"Polygon":r.type;if(o==="GeometryCollection"||o==="Circle")throw new Error("Unsupported geometry type: "+o);const n=r.layout.length;return ee(new be(o,o==="Polygon"?nr(r.flatCoordinates,r.ends,n):r.flatCoordinates,r.ends?.flat(),n,t.properties||{},t.id).enableSimplifyTransformed(),!1,e)}function te(t,e){if(!t)return null;if(Array.isArray(t)){const o=t.map(n=>te(n,e));return new ft(o)}const r=or[t.type];return ee(new r(t.flatCoordinates,t.layout,t.ends),!1,e)}class sr extends rr{constructor(){super()}getType(){return"json"}readFeature(e,r){return this.readFeatureFromObject(H(e),this.getReadOptions(e,r))}readFeatures(e,r){return this.readFeaturesFromObject(H(e),this.getReadOptions(e,r))}readFeatureFromObject(e,r){return y()}readFeaturesFromObject(e,r){return y()}readGeometry(e,r){return this.readGeometryFromObject(H(e),this.getReadOptions(e,r))}readGeometryFromObject(e,r){return y()}readProjection(e){return this.readProjectionFromObject(H(e))}readProjectionFromObject(e){return y()}writeFeature(e,r){return JSON.stringify(this.writeFeatureObject(e,r))}writeFeatureObject(e,r){return y()}writeFeatures(e,r){return JSON.stringify(this.writeFeaturesObject(e,r))}writeFeaturesObject(e,r){return y()}writeGeometry(e,r){return JSON.stringify(this.writeGeometryObject(e,r))}writeGeometryObject(e,r){return y()}}function H(t){if(typeof t=="string"){const e=JSON.parse(t);return e||null}return t!==null?t:null}const ar=sr;class ir extends ar{constructor(e){e=e||{},super(),this.dataProjection=x(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=x(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,r){let o=null;e.type==="Feature"?o=e:o={type:"Feature",geometry:e,properties:null};const n=re(o.geometry);if(this.featureClass===be)return Ee({geometry:n,id:o.id,properties:o.properties},r);const s=new he;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&o.geometry_name&&s.setGeometryName(o.geometry_name),s.setGeometry(te(n,r)),"id"in o&&s.setId(o.id),o.properties&&s.setProperties(o.properties,!0),s}readFeaturesFromObject(e,r){const o=e;let n=null;if(o.type==="FeatureCollection"){const s=e;n=[];const c=s.features;for(let d=0,p=c.length;d<p;++d){const l=this.readFeatureFromObject(c[d],r);l&&n.push(l)}}else n=[this.readFeatureFromObject(e,r)];return n.flat()}readGeometryFromObject(e,r){return cr(e,r)}readProjectionFromObject(e){const r=e.crs;let o;if(r)if(r.type=="name")o=x(r.properties.name);else if(r.type==="EPSG")o=x("EPSG:"+r.properties.code);else throw new Error("Unknown SRS type");else o=this.dataProjection;return o}writeFeatureObject(e,r){r=this.adaptOptions(r);const o={type:"Feature",geometry:null,properties:null},n=e.getId();if(n!==void 0&&(o.id=n),!e.hasProperties())return o;const s=e.getProperties(),c=e.getGeometry();return c&&(o.geometry=Z(c,r),delete s[e.getGeometryName()]),lt(s)||(o.properties=s),o}writeFeaturesObject(e,r){r=this.adaptOptions(r);const o=[];for(let n=0,s=e.length;n<s;++n)o.push(this.writeFeatureObject(e[n],r));return{type:"FeatureCollection",features:o}}writeGeometryObject(e,r){return Z(e,this.adaptOptions(r))}}function re(t,e){if(!t)return null;let r;switch(t.type){case"Point":{r=ur(t);break}case"LineString":{r=dr(t);break}case"Polygon":{r=yr(t);break}case"MultiPoint":{r=mr(t);break}case"MultiLineString":{r=pr(t);break}case"MultiPolygon":{r=fr(t);break}case"GeometryCollection":{r=lr(t);break}default:throw new Error("Unsupported GeoJSON type: "+t.type)}return r}function cr(t,e){const r=re(t);return te(r,e)}function lr(t,e){return t.geometries.map(function(o){return re(o)})}function ur(t){const e=t.coordinates;return{type:"Point",flatCoordinates:e,layout:k(e.length)}}function dr(t){const e=t.coordinates,r=e.flat();return{type:"LineString",flatCoordinates:r,ends:[r.length],layout:k(e[0]?.length||2)}}function pr(t){const e=t.coordinates,r=e[0]?.[0]?.length||2,o=[],n=Pe(o,0,e,r);return{type:"MultiLineString",flatCoordinates:o,ends:n,layout:k(r)}}function mr(t){const e=t.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:k(e[0]?.length||2)}}function fr(t){const e=t.coordinates,r=[],o=e[0]?.[0]?.[0].length||2,n=ut(r,0,e,o);return{type:"MultiPolygon",flatCoordinates:r,ends:n,layout:k(o)}}function yr(t){const e=t.coordinates,r=[],o=e[0]?.[0]?.length,n=Pe(r,0,e,o);return{type:"Polygon",flatCoordinates:r,ends:n,layout:k(o)}}function Z(t,e){t=ee(t,!0,e);const r=t.getType();let o;switch(r){case"Point":{o=jr(t);break}case"LineString":{o=hr(t);break}case"Polygon":{o=xr(t,e);break}case"MultiPoint":{o=Pr(t);break}case"MultiLineString":{o=br(t);break}case"MultiPolygon":{o=vr(t,e);break}case"GeometryCollection":{o=gr(t,e);break}case"Circle":{o={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+r)}return o}function gr(t,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(o){return Z(o,e)})}}function hr(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function br(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function Pr(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function vr(t,e){let r;return e&&(r=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(r)}}function jr(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function xr(t,e){let r;return e&&(r=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(r)}}const Kr=ir,wr="@open-pioneer/toc",oe=dt.bind(void 0,wr);function Cr(t){const{map:e,"aria-labelledby":r}=t,o=oe(),n=Mr(e);return n.length?_e(n,o,{"aria-labelledby":r}):a.jsx(X,{className:"toc-missing-layers","aria-labelledby":r,children:o.formatMessage({id:"missingLayers"})})}function _e(t,e,r){const o=t.map(n=>a.jsx(Sr,{layer:n,intl:e},n.id));return a.jsx(Rt,{as:"ul",className:"toc-layer-list",listStyleType:"none",...r,children:o})}function Sr(t){const{layer:e,intl:r}=t,o=kr(e),{isVisible:n,setVisible:s}=Nr(e),c=Gr(e),d=Re(e)!=="error",p=r.formatMessage({id:"layerNotAvailable"});let l;return c?.length&&(l=_e(c,r,{ml:4})),a.jsxs(V,{as:"li",className:pt("toc-layer-item",`layer-${Lr(e.id)}`),children:[a.jsxs(Y,{className:"toc-layer-item-content",width:"100%",flexDirection:"row",align:"center",justifyContent:"space-between",gap:2,minHeight:10,children:[a.jsx(Bt,{"aria-label":o+(d?"":" "+p),isChecked:n,isDisabled:!d,onChange:m=>s(m.target.checked),children:o}),!d&&a.jsx(Nt,{className:"toc-layer-item-content-tooltip",label:p,placement:"right",openDelay:500,children:a.jsx("span",{children:a.jsx(Gt,{className:"toc-layer-item-content-icon",color:"red","aria-label":p})})}),a.jsx(Se,{}),e.description&&a.jsx(Fr,{layer:e,title:o,intl:r})]}),l]})}function Fr(t){const{layer:e,title:r,intl:o}=t,n=o.formatMessage({id:"descriptionLabel"}),s=Or(e),c=Re(e)!=="error";return a.jsxs(Ne,{placement:"bottom-start",children:[a.jsx(ke,{children:a.jsx(xe,{isDisabled:!c,className:"toc-layer-item-details-button","aria-label":n,borderRadius:"full",iconSpacing:0,padding:0,variant:"ghost",leftIcon:a.jsx(Ce,{})})}),a.jsx(we,{children:a.jsxs(Ae,{className:"toc-layer-item-details",overflowY:"auto",maxHeight:"400",children:[a.jsx(Me,{}),a.jsx(Le,{mt:1}),a.jsx(Oe,{children:r}),a.jsx(Ge,{children:s})]})})]})}function Or(t){const e=i.useCallback(()=>t.description,[t]),r=i.useCallback(o=>{const n=t.on("changed:description",o);return()=>n.destroy()},[t]);return i.useSyncExternalStore(r,e)}function kr(t){const e=i.useCallback(()=>t.title,[t]),r=i.useCallback(o=>{const n=t.on("changed:title",o);return()=>n.destroy()},[t]);return i.useSyncExternalStore(r,e)}function Nr(t){const e=i.useCallback(()=>t.visible,[t]),r=i.useCallback(s=>{const c=t.on("changed:visible",s);return()=>c.destroy()},[t]),o=i.useSyncExternalStore(r,e),n=i.useCallback(s=>{t.setVisible(s)},[t]);return{isVisible:o,setVisible:n}}function Mr(t){const e=i.useCallback(o=>{const n=t.layers.on("changed",o);return()=>n.destroy()},[t]),r=i.useCallback(()=>{let o=t.layers.getOperationalLayers({sortByDisplayOrder:!0})??[];return o=o.reverse(),o},[t]);return Be(e,r)}function Gr(t){const e=i.useCallback(o=>{const n=t.sublayers?.on("changed",o);return()=>n?.destroy()},[t]),r=i.useCallback(()=>{if(!t.sublayers)return;let n=t.sublayers?.getSublayers({sortByDisplayOrder:!0});return n=n.reverse(),n},[t]);return Be(e,r)}function Re(t){const e="parentLayer"in t?t.parentLayer:t,r=i.useCallback(n=>{const s=e.on("changed:loadState",n);return()=>s.destroy()},[e]),o=i.useCallback(()=>e.loadState,[e]);return i.useSyncExternalStore(r,o)}function Be(t,e){const r=i.useRef(),o=i.useCallback(s=>{const c=t(()=>{r.current=void 0,s()});return()=>{r.current=void 0,c()}},[t]),n=i.useCallback(()=>{if(r.current)return r.current.value;const s=e();return r.current={value:s},s},[e]);return i.useSyncExternalStore(o,n)}function Lr(t){return t.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}const Tr=t=>{const e=oe(),{mapId:r,showHideAllLayers:o=!0}=t,{map:n}=ve(r);return!!o&&a.jsx(V,{className:"toc-tools",children:a.jsxs(_t,{placement:"bottom-start",children:[a.jsx(It,{as:xe,className:"toc-tools-button","aria-label":e.formatMessage({id:"toolsLabel"}),borderRadius:"full",iconSpacing:0,padding:3,variant:"ghost",leftIcon:a.jsx(Ce,{})}),a.jsx(we,{children:a.jsx(Dt,{className:"tools-menu",children:a.jsx(Ht,{"aria-label":e.formatMessage({id:"tools.hideAllLayers"}),onClick:()=>{Ar(n)},children:e.formatMessage({id:"tools.hideAllLayers"})})})})]})})};function Ar(t){const e=r=>{r?.getSublayers().forEach(o=>{o.setVisible(!1),e(o?.sublayers)})};t?.layers.getOperationalLayers().forEach(r=>{r.setVisible(!1),e(r?.sublayers)})}const ge=2,qr=t=>{const e=oe(),{mapId:r,showTools:o=!1,toolsConfig:n,showBasemapSwitcher:s=!0,basemapSwitcherProps:c}=t,{containerProps:d}=mt("toc",t),p=i.useId(),l=i.useId(),m=ve(r);let h;switch(m.kind){case"loading":h=null;break;case"rejected":h=a.jsx(X,{className:"toc-error",children:e.formatMessage({id:"error"})});break;case"resolved":{const N=s&&a.jsx(V,{className:"toc-basemap-switcher",children:a.jsx(me,{title:a.jsx(fe,{id:p,size:"sm",mb:ge,children:e.formatMessage({id:"basemapsLabel"})}),children:a.jsx(Mt,{mapId:r,"aria-labelledby":p,...c})})}),J=a.jsx(V,{className:"toc-operational-layers",children:a.jsx(me,{title:a.jsx(fe,{id:l,size:"sm",mb:2,children:a.jsxs(Y,{children:[a.jsx(X,{my:3,children:e.formatMessage({id:"operationalLayerLabel"})}),a.jsx(Se,{}),o&&a.jsx(Tr,{mapId:r,...n})]})}),children:a.jsx(Cr,{map:m.map,"aria-labelledby":l})})});h=a.jsxs(a.Fragment,{children:[N,J]});break}}return a.jsx(Y,{...d,direction:"column",gap:ge,children:h})};export{rr as F,Kr as G,qr as T,ee as t};
