var us=Object.defineProperty;var cs=(n,e,t)=>e in n?us(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var xr=(n,e,t)=>(cs(n,typeof e!="symbol"?e+"":e,t),t),wn=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var R=(n,e,t)=>(wn(n,e,"read from private field"),t?t.call(n):e.get(n)),z=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},H=(n,e,t,i)=>(wn(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t);var X=(n,e,t)=>(wn(n,e,"access private method"),t);import{r as f,c as rr,m as ds,f as hs,j as S,u as fs,a as kt,i as Ii,b as ps,d as ms,e as gs,g as vs,h as Se,o as bs,k as ys,l as wr,n as ke,p as ct,q as ir,E as me,s as Ss,B as mn,t as Es,v as F,_ as N,w as Cs,x as Oi,R as B,y as xs,S as ws,I as or,z as _r,C as _s,A as Ps,D as Is,F as _n,G as Pn,H as Os}from"./5d235b85a310.js";import{t as Ms}from"./b63269e77bd2.js";import{L as ks,C as As,g as Mi,f as Pr,V as Ir,i as ki,I as te,a as Ds,c as Ls,b as yt,d as St,e as Or,m as Rs,t as Ts,h as Ai,j as Et,k as Di,l as sr,n as Li,T as Fs,r as Vs,o as ar,E as gn,u as Ri,p as Ns,S as js,q as Bs,s as Mr,v as Ti,w as Rt,x as Fi,B as lr,y as ot,z as Vi,A as kr,D as Ar,F as $s,G as Hs,H as zs,J as Hn,K as qe,M as Us,N as Gs,O as Ws,P as qs,Q as Ys,R as $e,U as ur,W as Ni,X as At,Y as Dt,Z as Ks,_ as Zs,$ as Xs,a0 as Dr,a1 as Js,a2 as Qs,a3 as Lr,a4 as ea,a5 as ta,a6 as xe,a7 as na,a8 as ra,a9 as ji,aa as Le,ab as Kt,ac as Rr,ad as ia,ae as vn,af as oa,ag as Bi,ah as sa,ai as aa,aj as $i,ak as la,al as ua,am as ca,an as da,ao as ha,ap as fa,aq as pa,ar as Hi,as as ma,at as ga,au as va,av as ve,aw as zi,ax as ba,ay as st,az as Ui,aA as Ct,aB as Ve,aC as ya,aD as Sa,aE as Ea,aF as Gi,aG as Ca,aH as Tr,aI as Wi,aJ as xa,aK as Fr,aL as wa,aM as In,aN as _a,aO as Vr,aP as Pa,aQ as Ia,aR as Oa,aS as Ma,aT as ka,aU as Nr,aV as Aa,aW as Da,aX as La,aY as Ra,aZ as Tt}from"./c35f4e9f77b5.js";import{a as qi,W as Ta,b as Fa}from"./1b3b09158880.js";import{E as Yi}from"./960f2965a833.js";import{u as Ae,T as mt,c as bn,a as Ft,S as Vt}from"./c96c4578334a.js";import{u as Va,a as Na,G as yn,M as ja,b as Ki,c as Zi,d as Ba,T as $a,I as Ha,Z as za,e as Ua}from"./3f3f804f6765.js";import{N as Ga,u as zn,a as Wa}from"./b0fc7ba7a396.js";import{_ as jr}from"./a419295615be.js";import{u as Be,a as cr}from"./69002c2d4bec.js";import{T as Sn}from"./4a8f048f7818.js";import{B as U}from"./07edc2592393.js";import{G as dt}from"./b5e001885242.js";import{L as Ye}from"./738347bdabd8.js";import{F as qa,u as Ya}from"./52303d32bead.js";import{F as Ka}from"./b5d7454880e8.js";import{S as Za,b as Xa,a as Ja}from"./ea948c1b8068.js";import{S as Qa}from"./77217a40cf1a.js";import{c as el}from"./78e620555dc0.js";import{D as Xi}from"./a7ff9134568c.js";import{V as Br}from"./b23c4b6181ed.js";import{L as tl}from"./e8e130b5a611.js";import{S as nl}from"./309898efdcdd.js";import{F as Re}from"./110ae097b53e.js";import{I as rl}from"./957f63e4b10f.js";import"./2fe7c64ff10a.js";import"./5e807104b454.js";var il=Object.defineProperty,ol=(n,e,t)=>e in n?il(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,K=(n,e,t)=>(ol(n,typeof e!="symbol"?e+"":e,t),t);function $r(n){return n.sort((e,t)=>{const i=e.compareDocumentPosition(t);if(i&Node.DOCUMENT_POSITION_FOLLOWING||i&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(i&Node.DOCUMENT_POSITION_PRECEDING||i&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(i&Node.DOCUMENT_POSITION_DISCONNECTED||i&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var sl=n=>typeof n=="object"&&"nodeType"in n&&n.nodeType===Node.ELEMENT_NODE;function Hr(n,e,t){let i=n+1;return t&&i>=e&&(i=0),i}function zr(n,e,t){let i=n-1;return t&&i<0&&(i=e),i}var Un=typeof window<"u"?f.useLayoutEffect:f.useEffect,Zt=n=>n,al=class{constructor(){K(this,"descendants",new Map),K(this,"register",n=>{if(n!=null)return sl(n)?this.registerNode(n):e=>{this.registerNode(e,n)}}),K(this,"unregister",n=>{this.descendants.delete(n);const e=$r(Array.from(this.descendants.keys()));this.assignIndex(e)}),K(this,"destroy",()=>{this.descendants.clear()}),K(this,"assignIndex",n=>{this.descendants.forEach(e=>{const t=n.indexOf(e.node);e.index=t,e.node.dataset.index=e.index.toString()})}),K(this,"count",()=>this.descendants.size),K(this,"enabledCount",()=>this.enabledValues().length),K(this,"values",()=>Array.from(this.descendants.values()).sort((e,t)=>e.index-t.index)),K(this,"enabledValues",()=>this.values().filter(n=>!n.disabled)),K(this,"item",n=>{if(this.count()!==0)return this.values()[n]}),K(this,"enabledItem",n=>{if(this.enabledCount()!==0)return this.enabledValues()[n]}),K(this,"first",()=>this.item(0)),K(this,"firstEnabled",()=>this.enabledItem(0)),K(this,"last",()=>this.item(this.descendants.size-1)),K(this,"lastEnabled",()=>{const n=this.enabledValues().length-1;return this.enabledItem(n)}),K(this,"indexOf",n=>{var e,t;return n&&(t=(e=this.descendants.get(n))==null?void 0:e.index)!=null?t:-1}),K(this,"enabledIndexOf",n=>n==null?-1:this.enabledValues().findIndex(e=>e.node.isSameNode(n))),K(this,"next",(n,e=!0)=>{const t=Hr(n,this.count(),e);return this.item(t)}),K(this,"nextEnabled",(n,e=!0)=>{const t=this.item(n);if(!t)return;const i=this.enabledIndexOf(t.node),r=Hr(i,this.enabledCount(),e);return this.enabledItem(r)}),K(this,"prev",(n,e=!0)=>{const t=zr(n,this.count()-1,e);return this.item(t)}),K(this,"prevEnabled",(n,e=!0)=>{const t=this.item(n);if(!t)return;const i=this.enabledIndexOf(t.node),r=zr(i,this.enabledCount()-1,e);return this.enabledItem(r)}),K(this,"registerNode",(n,e)=>{if(!n||this.descendants.has(n))return;const t=Array.from(this.descendants.keys()).concat(n),i=$r(t);e?.disabled&&(e.disabled=!!e.disabled);const r={node:n,index:-1,...e};this.descendants.set(n,r),this.assignIndex(i)})}};function ll(){const n=f.useRef(new al);return Un(()=>()=>n.current.destroy()),n.current}var[ul,Ji]=rr({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function cl(n){const e=Ji(),[t,i]=f.useState(-1),r=f.useRef(null);Un(()=>()=>{r.current&&e.unregister(r.current)},[]),Un(()=>{if(!r.current)return;const s=Number(r.current.dataset.index);t!=s&&!Number.isNaN(s)&&i(s)});const o=Zt(n?e.register(n):e.register);return{descendants:e,index:t,enabledIndex:e.enabledIndexOf(r.current),register:ds(o,r)}}function dl(){return[Zt(ul),()=>Zt(Ji()),()=>ll(),r=>cl(r)]}function hl(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Gn(n,e){return Gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Gn(n,e)}function je(n){"@babel/helpers - typeof";return je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(n)}function fl(n,e){if(je(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(je(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Qi(n){var e=fl(n,"string");return je(e)==="symbol"?e:String(e)}function gt(n,e,t){return e=Qi(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var eo=hs((n,e)=>S.jsx(Za,{align:"center",...n,direction:"row",ref:e}));eo.displayName="HStack";function pl(n,e={}){const{ssr:t=!0,fallback:i}=e,{getWindow:r}=fs(),o=Array.isArray(n)?n:[n];let s=Array.isArray(i)?i:[i];s=s.filter(u=>u!=null);const[a,l]=f.useState(()=>o.map((u,c)=>({media:u,matches:t?!!s[c]:r().matchMedia(u).matches})));return f.useEffect(()=>{const u=r();l(o.map(h=>({media:h,matches:u.matchMedia(h).matches})));const c=o.map(h=>u.matchMedia(h)),d=h=>{l(p=>p.slice().map(m=>m.media===h.media?{...m,matches:h.matches}:m))};return c.forEach(h=>{typeof h.addListener=="function"?h.addListener(d):h.addEventListener("change",d)}),()=>{c.forEach(h=>{typeof h.removeListener=="function"?h.removeListener(d):h.removeEventListener("change",d)})}},[r]),a.map(u=>u.matches)}function ml(n,e,t=Xa){let i=Object.keys(n).indexOf(e);if(i!==-1)return n[e];let r=t.indexOf(e);for(;r>=0;){const o=t[r];if(n.hasOwnProperty(o)){i=r;break}r-=1}if(i!==-1){const o=t[i];return n[o]}}function gl(n){var e,t;const i=Ii(n)?n:{fallback:n??"base"},o=kt().__breakpoints.details.map(({minMaxQuery:u,breakpoint:c})=>({breakpoint:c,query:u.replace("@media screen and ","")})),s=o.map(u=>u.breakpoint===i.fallback),l=pl(o.map(u=>u.query),{fallback:s,ssr:i.ssr}).findIndex(u=>u==!0);return(t=(e=o[l])==null?void 0:e.breakpoint)!=null?t:i.fallback}function vl(n,e){var t;const i=Ii(e)?e:{fallback:e??"base"},r=gl(i),o=kt();if(!r)return;const s=Array.from(((t=o.__breakpoints)==null?void 0:t.keys)||[]),a=Array.isArray(n)?Object.fromEntries(Object.entries(Ja(n,s)).map(([l,u])=>[l,u])):n;return ml(a,r,s)}function bl(n){const{ref:e,handler:t,enabled:i=!0}=n,r=ps(t),s=f.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;f.useEffect(()=>{if(!i)return;const a=d=>{On(d,e)&&(s.isPointerDown=!0)},l=d=>{if(s.ignoreEmulatedMouseEvents){s.ignoreEmulatedMouseEvents=!1;return}s.isPointerDown&&t&&On(d,e)&&(s.isPointerDown=!1,r(d))},u=d=>{s.ignoreEmulatedMouseEvents=!0,t&&s.isPointerDown&&On(d,e)&&(s.isPointerDown=!1,r(d))},c=to(e.current);return c.addEventListener("mousedown",a,!0),c.addEventListener("mouseup",l,!0),c.addEventListener("touchstart",a,!0),c.addEventListener("touchend",u,!0),()=>{c.removeEventListener("mousedown",a,!0),c.removeEventListener("mouseup",l,!0),c.removeEventListener("touchstart",a,!0),c.removeEventListener("touchend",u,!0)}},[t,e,r,s,i])}function On(n,e){var t;const i=n.target;return i&&!to(i).contains(i)?!1:!((t=e.current)!=null&&t.contains(i))}function to(n){var e;return(e=n?.ownerDocument)!=null?e:document}var[yl,zm,Sl,Um]=dl(),[El,Gm]=rr({strict:!1,name:"MenuContext"});function Cl(n,...e){const t=f.useId(),i=n||t;return f.useMemo(()=>e.map(r=>`${r}-${i}`),[i,e])}function xl(n){var e;return(e=n?.ownerDocument)!=null?e:document}function wl(n={}){const{id:e,closeOnSelect:t=!0,closeOnBlur:i=!0,initialFocusRef:r,autoSelect:o=!0,isLazy:s,isOpen:a,defaultIsOpen:l,onClose:u,onOpen:c,placement:d="bottom-start",lazyBehavior:h="unmount",direction:p,computePositionOnMount:m=!1,...v}=n,g=f.useRef(null),y=f.useRef(null),w=Sl(),E=f.useCallback(()=>{requestAnimationFrame(()=>{var W;(W=g.current)==null||W.focus({preventScroll:!1})})},[]),I=f.useCallback(()=>{const W=setTimeout(()=>{var Y;if(r)(Y=r.current)==null||Y.focus();else{const re=w.firstEnabled();re&&D(re.index)}});j.current.add(W)},[w,r]),L=f.useCallback(()=>{const W=setTimeout(()=>{const Y=w.lastEnabled();Y&&D(Y.index)});j.current.add(W)},[w]),P=f.useCallback(()=>{c?.(),o?I():E()},[o,I,E,c]),{isOpen:A,onOpen:b,onClose:C,onToggle:O}=ms({isOpen:a,defaultIsOpen:l,onClose:u,onOpen:P});bl({enabled:A&&i,ref:g,handler:W=>{var Y;(Y=y.current)!=null&&Y.contains(W.target)||C()}});const _=gs({...v,enabled:A||m,placement:d,direction:p}),[M,D]=f.useState(-1);vs(()=>{A||D(-1)},[A]),Va(g,{focusRef:y,visible:A,shouldFocus:!0});const x=Na({isOpen:A,ref:g}),[k,$]=Cl(e,"menu-button","menu-list"),V=f.useCallback(()=>{b(),E()},[b,E]),j=f.useRef(new Set([]));f.useEffect(()=>{const W=j.current;return()=>{W.forEach(Y=>clearTimeout(Y)),W.clear()}},[]);const G=f.useCallback(()=>{b(),I()},[I,b]),ie=f.useCallback(()=>{b(),L()},[b,L]),be=f.useCallback(()=>{var W,Y;const re=xl(g.current),oe=(W=g.current)==null?void 0:W.contains(re.activeElement);if(!(A&&!oe))return;const Ce=(Y=w.item(M))==null?void 0:Y.node;Ce?.focus({preventScroll:!0})},[A,M,w]),J=f.useRef(null);return{openAndFocusMenu:V,openAndFocusFirstItem:G,openAndFocusLastItem:ie,onTransitionEnd:be,unstable__animationState:x,descendants:w,popper:_,buttonId:k,menuId:$,forceUpdate:_.forceUpdate,orientation:"vertical",isOpen:A,onToggle:O,onOpen:b,onClose:C,menuRef:g,buttonRef:y,focusedIndex:M,closeOnSelect:t,closeOnBlur:i,autoSelect:o,setFocusedIndex:D,isLazy:s,lazyBehavior:h,initialFocusRef:r,rafId:J}}var[_l,Pl]=rr({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),no=n=>{const{children:e}=n,t=Se("Menu",n),i=bs(n),{direction:r}=kt(),{descendants:o,...s}=wl({...i,direction:r}),a=f.useMemo(()=>s,[s]),{isOpen:l,onClose:u,forceUpdate:c}=a;return S.jsx(yl,{value:o,children:S.jsx(El,{value:a,children:S.jsx(_l,{value:t,children:ys(e,{isOpen:l,onClose:u,forceUpdate:c})})})})};no.displayName="Menu";var ro=n=>{const{className:e,children:t,...i}=n,r=Pl(),o=f.Children.only(t),s=f.isValidElement(o)?f.cloneElement(o,{focusable:"false","aria-hidden":!0,className:wr("chakra-menu__icon",o.props.className)}):null,a=wr("chakra-menu__icon-wrapper",e);return S.jsx(ke.span,{className:a,...i,__css:r.icon,children:s})};ro.displayName="MenuIcon";function io(n,e){const t=(""+n).split("."),i=(""+e).split(".");for(let r=0;r<Math.max(t.length,i.length);r++){const o=parseInt(t[r]||"0",10),s=parseInt(i[r]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}class Il extends ks{constructor(e){e=e||{},super(e)}}const Ol=Il;class Ml extends As{constructor(e){super(e),this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],i=e.pixelRatio,r=e.viewState,o=r.resolution,s=this.getLayer().getSource(),a=e.viewHints;let l=e.extent;if(t.extent!==void 0&&(l=Mi(l,Pr(t.extent,r.projection))),!a[Ir.ANIMATING]&&!a[Ir.INTERACTING]&&!ki(l))if(s){const u=r.projection,c=s.getImage(l,o,i,u);c&&(this.loadImage(c)?this.image_=c:c.getState()===te.EMPTY&&(this.image_=null))}else this.image_=null;return!!this.image_}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),r=Ds(t.pixelToCoordinateTransform,e.slice()),o=i.getExtent();if(o&&!Ls(o,r))return null;const s=this.image_.getExtent(),a=this.image_.getImage(),l=yt(s),u=Math.floor(a.width*((r[0]-s[0])/l));if(u<0||u>=a.width)return null;const c=St(s),d=Math.floor(a.height*((s[3]-r[1])/c));return d<0||d>=a.height?null:this.getImageData(a,u,d)}renderFrame(e,t){const i=this.image_,r=i.getExtent(),o=i.getResolution(),[s,a]=Array.isArray(o)?o:[o,o],l=i.getPixelRatio(),u=e.layerStatesArray[e.layerIndex],c=e.pixelRatio,d=e.viewState,h=d.center,p=d.resolution,m=c*s/(p*l),v=c*a/(p*l),g=e.extent,y=d.resolution,w=d.rotation,E=Math.round(yt(g)/y*c),I=Math.round(St(g)/y*c);Or(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/c,1/c,w,-E/2,-I/2),Rs(this.inversePixelTransform,this.pixelTransform);const L=Ts(this.pixelTransform);this.useContainer(t,L,this.getBackground(e));const P=this.context,A=P.canvas;A.width!=E||A.height!=I?(A.width=E,A.height=I):this.containerReused||P.clearRect(0,0,E,I);let b=!1,C=!0;if(u.extent){const x=Pr(u.extent,d.projection);C=Ai(x,e.extent),b=C&&!Et(x,e.extent),b&&this.clipUnrotated(P,e,x)}const O=i.getImage(),_=Or(this.tempTransform,E/2,I/2,m,v,0,l*(r[0]-h[0])/s,l*(h[1]-r[3])/a);this.renderedResolution=a*c/l;const M=O.width*_[0],D=O.height*_[3];if(this.getLayer().getSource().getInterpolate()||(P.imageSmoothingEnabled=!1),this.preRender(P,e),C&&M>=.5&&D>=.5){const x=_[4],k=_[5],$=u.opacity;let V;$!==1&&(V=P.globalAlpha,P.globalAlpha=$),P.drawImage(O,0,0,+O.width,+O.height,x,k,M,D),$!==1&&(P.globalAlpha=V)}return this.postRender(P,e),b&&P.restore(),P.imageSmoothingEnabled=!0,L!==A.style.transform&&(A.style.transform=L),this.container}}const kl=Ml;class Al extends Ol{constructor(e){super(e)}createRenderer(){return new kl(this)}getData(e){return super.getData(e)}}const Dl=Al;function Wn(n){return Array.isArray(n)?Math.min(...n):n}class Ll extends Di{constructor(e,t,i,r,o,s,a){let l=e.getExtent();l&&e.canWrapX()&&(l=l.slice(),l[0]=-1/0,l[2]=1/0);let u=t.getExtent();u&&t.canWrapX()&&(u=u.slice(),u[0]=-1/0,u[2]=1/0);const c=u?Mi(i,u):i,d=sr(c),h=Li(e,t,d,r),p=Ns,m=new Fs(e,t,c,l,h*p,r),v=m.calculateSourceExtent(),g=ki(v)?null:s(v,h,o),y=g?te.IDLE:te.EMPTY,w=g?g.getPixelRatio():1;super(i,r,w,y),this.targetProj_=t,this.maxSourceExtent_=l,this.triangulation_=m,this.targetResolution_=r,this.targetExtent_=i,this.sourceImage_=g,this.sourcePixelRatio_=w,this.interpolate_=a,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==te.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==te.LOADED){const t=yt(this.targetExtent_)/this.targetResolution_,i=St(this.targetExtent_)/this.targetResolution_;this.canvas_=Vs(t,i,this.sourcePixelRatio_,Wn(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==te.IDLE){this.state=te.LOADING,this.changed();const e=this.sourceImage_.getState();e==te.LOADED||e==te.ERROR?this.reproject_():(this.sourceListenerKey_=ar(this.sourceImage_,gn.CHANGE,function(t){const i=this.sourceImage_.getState();(i==te.LOADED||i==te.ERROR)&&(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}}unlistenSource_(){Ri(this.sourceListenerKey_),this.sourceListenerKey_=null}}const Rl=Ll,Me=4,Mn={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class Tl extends lr{constructor(e,t){super(e),this.image=t}}class Fl extends js{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const i=Bs(t,e,0);e=t[i]}return e}getImage(e,t,i,r){const o=this.getProjection();if(!o||!r||Mr(o,r))return o&&(r=o),this.getImageInternal(e,t,i,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Mr(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&Ti(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Rl(o,r,e,t,i,(s,a,l)=>this.getImageInternal(s,a,l,o),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,i,r){if(this.loader){const o=oo(e,t,i,1),s=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&Et(this.wantedExtent_,o)||Et(this.image.getExtent(),o))&&(this.wantedResolution_&&Wn(this.wantedResolution_)===s||Wn(this.image.getResolution())===s)))return this.image;this.wantedProjection_=r,this.wantedExtent_=o,this.wantedResolution_=s,this.image=new Di(o,s,i,this.loader),this.image.addEventListener(gn.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let i;switch(t.getState()){case te.LOADING:this.loading=!0,i=Mn.IMAGELOADSTART;break;case te.LOADED:this.loading=!1,i=Mn.IMAGELOADEND;break;case te.ERROR:this.loading=!1,i=Mn.IMAGELOADERROR;break;default:return}this.hasListener(i)&&this.dispatchEvent(new Tl(i,t))}}function Vl(n,e){n.getImage().src=e}function oo(n,e,t,i){const r=e/t,o=sr(n),s=Rt(yt(n)/r,Me),a=Rt(St(n)/r,Me),l=Rt((i-1)*s/2,Me),u=s+2*l,c=Rt((i-1)*a/2,Me),d=a+2*c;return Fi(o,r,0,[u,d])}const Nl=Fl,so="1.3.0",Ur=[101,101];function ao(n,e,t,i,r){r.WIDTH=t[0],r.HEIGHT=t[1];const o=i.getAxisOrientation();let s;const a=io(r.VERSION,"1.3")>=0;return r[a?"CRS":"SRS"]=i.getCode(),a&&o.substr(0,2)=="ne"?s=[e[1],e[0],e[3],e[2]]:s=e,r.BBOX=s.join(","),qi(n,r)}function jl(n,e,t,i,r,o,s){o=Object.assign({REQUEST:"GetMap"},o);const a=e/t,l=[Ar(yt(n)/a,Me),Ar(St(n)/a,Me)];if(t!=1)switch(s){case"geoserver":const c=90*t+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+c:o.FORMAT_OPTIONS="dpi:"+c;break;case"mapserver":o.MAP_RESOLUTION=90*t;break;case"carmentaserver":case"qgis":o.DPI=90*t;break;default:throw new Error("Unknown `serverType` configured")}return ao(r,n,l,i,o)}function lo(n,e){return Object.assign({REQUEST:e,SERVICE:"WMS",VERSION:so,FORMAT:"image/png",STYLES:"",TRANSPARENT:!0},n)}function Bl(n){const e=n.hidpi===void 0?!0:n.hidpi,t=ot(n.projection||"EPSG:3857"),i=n.ratio||1.5,r=n.load||Vi;return(o,s,a)=>{o=oo(o,s,a,i),a!=1&&(!e||n.serverType===void 0)&&(a=1);const l=jl(o,s,a,t,n.url,lo(n.params,"GetMap"),n.serverType),u=new Image;return n.crossOrigin!==null&&(u.crossOrigin=n.crossOrigin),r(u,l).then(c=>({image:c,extent:o,pixelRatio:a}))}}function $l(n,e,t){if(n.url===void 0)return;const i=ot(n.projection||"EPSG:3857"),r=Fi(e,t,0,Ur),o={QUERY_LAYERS:n.params.LAYERS,INFO_FORMAT:"application/json"};Object.assign(o,lo(n.params,"GetFeatureInfo"),n.params);const s=kr((e[0]-r[0])/t,Me),a=kr((r[3]-e[1])/t,Me),l=io(o.VERSION,"1.3")>=0;return o[l?"I":"X"]=s,o[l?"J":"Y"]=a,ao(n.url,r,Ur,i,o)}function Hl(n,e){if(n.url===void 0)return;const t={SERVICE:"WMS",VERSION:so,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(n.params===void 0||n.params.LAYER===void 0){const i=n.params.LAYERS;if(!(!Array.isArray(i)||i.length===1))return;t.LAYER=i}if(e!==void 0){const i=ot(n.projection||"EPSG:3857").getMetersPerUnit()||1,r=28e-5;t.SCALE=e*i/r}return Object.assign(t,n.params),qi(n.url,t)}class zl extends Nl{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions}),this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null,this.url_=e.url,this.imageLoadFunction_=e.imageLoadFunction!==void 0?e.imageLoadFunction:Vl,this.params_=e.params,this.serverType_=e.serverType,this.hidpi_=e.hidpi!==void 0?e.hidpi:!0,this.renderedRevision_=0,this.ratio_=e.ratio!==void 0?e.ratio:1.5,this.loaderProjection_=null}getFeatureInfoUrl(e,t,i,r){const o=ot(i),s=this.getProjection();s&&s!==o&&(t=Li(s,o,e,t),e=$s(e,o,s));const a={url:this.url_,params:{...this.params_,...r},projection:s||o};return $l(a,e,t)}getLegendUrl(e,t){return Hl({url:this.url_,params:{...this.params_,...t}},e)}getParams(){return this.params_}getImageInternal(e,t,i,r){return this.url_===void 0?null:((!this.loader||this.loaderProjection_!==r)&&(this.loaderProjection_=r,this.loader=Bl({crossOrigin:this.crossOrigin_,params:this.params_,projection:r,serverType:this.serverType_,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(o,s)=>(this.image.setImage(o),this.imageLoadFunction_(this.image,s),Vi(o))})),super.getImageInternal(e,t,i,r))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(e){this.imageLoadFunction_=e,this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.loader=null,this.changed())}updateParams(e){Object.assign(this.params_,e),this.changed()}changed(){this.image=null,super.changed()}}const Ul=zl;function Gl(n){let e=!1,t=setTimeout(()=>{e=!0,t=void 0,n()});return{reschedule(){return!e},cancel(){t&&clearTimeout(t)}}}var _e;class uo extends Yi{constructor(t){super();z(this,_e,void 0);H(this,_e,t)}destroy(){for(const t of R(this,_e))t.destroy();H(this,_e,[])}getSublayers(t){return R(this,_e).slice()}__getRawSublayers(){return R(this,_e)}}_e=new WeakMap;const Wl=ct("map:WMSLayer");var xt,Ke,Ze,Xe,Je,wt,qn,ln,co;class ql extends Hs{constructor(t){const i=new Dl;super({...t,olLayer:i});z(this,wt);z(this,ln);z(this,xt,void 0);z(this,Ke,void 0);z(this,Ze,void 0);z(this,Xe,void 0);z(this,Je,void 0);const r=new Ul({...t.sourceOptions,url:t.url,params:{...t.sourceOptions?.params}});H(this,xt,t.url),H(this,Je,r),H(this,Xe,i),H(this,Ke,new uo(ho(t.sublayers))),X(this,wt,qn).call(this)}get url(){return R(this,xt)}get sublayers(){return R(this,Ke)}__attach(t){super.__attach(t);for(const i of R(this,Ke).getSublayers())i.__attach(t,this,this)}__updateSublayerVisibility(){R(this,Ze)?.reschedule()||H(this,Ze,Gl(()=>{try{X(this,wt,qn).call(this),H(this,Ze,void 0)}catch(t){Wl.error(`Failed to update sublayer visibility on WMS layer '${this.id}'.`,t)}}))}}xt=new WeakMap,Ke=new WeakMap,Ze=new WeakMap,Xe=new WeakMap,Je=new WeakMap,wt=new WeakSet,qn=function(){const t=X(this,ln,co).call(this);R(this,Je).updateParams({LAYERS:t});const i=t.length===0?null:R(this,Je);R(this,Xe).getSource()!==i&&R(this,Xe).setSource(i)},ln=new WeakSet,co=function(){const t=[],i=r=>{if(!r.visible)return;const o=r.sublayers.__getRawSublayers();if(o.length)for(const s of o)i(s);else t.push(r.name)};for(const r of this.sublayers.__getRawSublayers())i(r);return t};var Te,Pe,_t,Pt,Qe;class Yl extends zs{constructor(t){super(t);z(this,Te,void 0);z(this,Pe,void 0);z(this,_t,void 0);z(this,Pt,void 0);z(this,Qe,void 0);H(this,_t,t.name),H(this,Qe,t.visible??!0),H(this,Pt,new uo(ho(t.sublayers)))}get name(){return R(this,_t)}get sublayers(){return R(this,Pt)}get parent(){const t=R(this,Te);if(!t)throw new Error(`WMS sublayer ${this.id} has not been attached to its parent yet.`);return t}get parentLayer(){const t=R(this,Pe);if(!t)throw new Error(`WMS sublayer ${this.id} has not been attached to its parent yet.`);return t}__attach(t,i,r){if(super.__attachToMap(t),R(this,Te))throw new Error(`WMS sublayer '${this.id}' has already been attached to parent '${R(this,Te).id}'`);if(H(this,Te,r),R(this,Pe))throw new Error(`WMS sublayer '${this.id}' has already been attached to parent layer '${R(this,Pe).id}'`);H(this,Pe,i);for(const o of this.sublayers.__getRawSublayers())o.__attach(t,i,this)}get visible(){return R(this,Qe)}setVisible(t){this.visible!==t&&(H(this,Qe,t),R(this,Pe)?.__updateSublayerVisibility(),this.__emitChangeEvent("changed:visible"))}}Te=new WeakMap,Pe=new WeakMap,_t=new WeakMap,Pt=new WeakMap,Qe=new WeakMap;function ho(n=[]){const e=[];try{for(const t of n)e.push(new Yl(t));return e}catch(t){for(;e.length;)e.pop()?.destroy();throw new Error("Failed to construct sublayers.",{cause:t})}}const fo=ql,Kl=25.4/.28,Zl=39.37;function dr(n){return hr(n,Xl,Jl)}function Xl(n){return n.getView()}function Jl(n,e){return n.on("change:view",e)}function po(n){return dr(n)?.getProjection()}function Ql(n){const e=dr(n);return hr(e,eu,tu)}function eu(n){return n.getResolution()}function tu(n,e){return n.on("change:resolution",e)}function nu(n){const e=dr(n);return hr(e,ru,iu)}function ru(n){return n.getCenter()}function iu(n,e){return n.on("change:center",e)}function ou(n){const e=nu(n),t=Ql(n),i=po(n);return f.useMemo(()=>{if(i==null||t==null||e==null)return;const o=Hn(i,t,e);return Math.round(o*Zl*Kl)},[i,t,e])}function hr(n,e,t){const i=f.useCallback(()=>n?e(n):void 0,[n,e]),r=f.useCallback(o=>{if(!n)return()=>{};const s=t(n,o);return()=>qe(s)},[n,t]);return f.useSyncExternalStore(r,i)}class En extends Us{constructor(e,t,i){super(),i!==void 0&&t===void 0?this.setFlatCoordinates(i,e):(t=t||0,this.setCenterAndRadius(e,t,i))}clone(){const e=new En(this.flatCoordinates.slice(),void 0,this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){const o=this.flatCoordinates,s=e-o[0],a=t-o[1],l=s*s+a*a;if(l<r){if(l===0)for(let u=0;u<this.stride;++u)i[u]=o[u];else{const u=this.getRadius()/Math.sqrt(l);i[0]=o[0]+u*s,i[1]=o[1]+u*a;for(let c=2;c<this.stride;++c)i[c]=o[c]}return i.length=this.stride,l}return r}containsXY(e,t){const i=this.flatCoordinates,r=e-i[0],o=t-i[1];return r*r+o*o<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(e){const t=this.flatCoordinates,i=t[this.stride]-t[0];return Gs(t[0]-i,t[1]-i,t[0]+i,t[1]+i,e)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t}getType(){return"Circle"}intersectsExtent(e){const t=this.getExtent();if(Ai(e,t)){const i=this.getCenter();return e[0]<=i[0]&&e[2]>=i[0]||e[1]<=i[1]&&e[3]>=i[1]?!0:Ws(e,this.intersectsCoordinate.bind(this))}return!1}setCenter(e){const t=this.stride,i=this.flatCoordinates[t]-this.flatCoordinates[0],r=e.slice();r[t]=r[0]+i;for(let o=1;o<t;++o)r[t+o]=e[o];this.setFlatCoordinates(this.layout,r),this.changed()}setCenterAndRadius(e,t,i){this.setLayout(i,e,0),this.flatCoordinates||(this.flatCoordinates=[]);const r=this.flatCoordinates;let o=qs(r,0,e,this.stride);r[o++]=r[0]+t;for(let s=1,a=this.stride;s<a;++s)r[o++]=r[s];r.length=o,this.changed()}getCoordinates(){return null}setCoordinates(e,t){}setRadius(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()}rotate(e,t){const i=this.getCenter(),r=this.getStride();this.setCenter(Ys(i,0,i.length,r,e,t,i)),this.changed()}}En.prototype.transform;const su=En,ee="main";class au{mapId=ee;async getMapConfig(){return{initialView:{kind:"position",center:{x:404747,y:5757920},zoom:14},projection:"EPSG:25832",layers:[new $e({id:"topplus_open",title:"TopPlus Open",isBaseLayer:!0,visible:!0,olLayer:kn("web")}),new $e({id:"topplus_open_grau",title:"TopPlus Open (Grau)",isBaseLayer:!0,visible:!1,olLayer:kn("web_grau")}),new $e({id:"topplus_open_light",title:"TopPlus Open (Light)",isBaseLayer:!0,visible:!1,olLayer:kn("web_light")}),new $e({title:"OSM",visible:!1,isBaseLayer:!0,olLayer:new ur({source:new Ni})}),new $e({title:"Haltestellen Stadt Rostock",visible:!0,description:"Haltestellen des öffentlichen Personenverkehrs in der Hanse- und Universitätsstadt Rostock.",olLayer:lu()}),new $e({title:"Kindertagesstätten",visible:!0,olLayer:uu()}),cu(),du()]}}}function kn(n){const e=[-380316598427299e-8,880590808284866e-8],t=[4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.748113140705,152.874056570353,76.4370282851763,38.2185141425881,19.1092570712941,9.55462853564703,4.77731426782352,2.38865713391176,1.19432856695588,.59716428347794],i=new Array(t.length);for(let o=0;o<t.length;o++)i[o]=o;const r=new Ta({url:`https://sgx.geodatenzentrum.de/wmts_topplus_open/tile/1.0.0/${n}/{Style}/{TileMatrixSet}/{TileMatrix}/{TileRow}/{TileCol}.png`,layer:"web_grau",matrixSet:"EU_EPSG_25832_TOPPLUS",format:"image/png",projection:"EPSG:25832",requestEncoding:"REST",tileGrid:new Fa({origin:e,resolutions:t,matrixIds:i}),style:"default",attributions:`Kartendarstellung und Präsentationsgraphiken: © Bundesamt für Kartographie und Geodäsie ${new Date().getFullYear()}, <a href="https://sg.geodatenzentrum.de/web_public/gdz/datenquellen/Datenquellen_TopPlusOpen.html" target="_blank">Datenquellen</a>`});return new ur({source:r})}function lu(){const n=new At({url:"https://geo.sv.rostock.de/download/opendata/haltestellen/haltestellen.json",format:new yn,attributions:"Haltestellen Stadt Rostock, Creative Commons CC Zero License (cc-zero)"});return new Dt({source:n})}function uu(){const n=new At({url:"https://ogc-api.nrw.de/inspire-us-kindergarten/v1/collections/governmentalservice/items?f=json&limit=10000",format:new yn,attributions:'&copy; <a href="http://www.bkg.bund.de" target="_blank">Bundesamt f&uuml;r Kartographie und Geod&auml;sie</a> 2017, <a href="http://sg.geodatenzentrum.de/web_public/Datenquellen_TopPlus_Open.pdf" target="_blank">Datenquellen</a>'});return new Dt({source:n})}function cu(){return new fo({title:"Schulstandorte",description:"Der vorliegende Datenbestand / Dienst zu den Schulstandorten in NRW stammt aus der Schuldatenbank. Die Informationen werden von den Schulträgern bzw. Schulen selbst eingetragen und aktuell gehalten. Die Daten werden tagesaktuell bereitgestellt und enthalten alle grundlegenden Informationen zu Schulen wie Schulnummer, Schulbezeichnung und Adresse.Der vorliegende Datenbestand / Dienst zu den Schulstandorten in NRW stammt aus der Schuldatenbank. Die Informationen werden von den Schulträgern bzw. Schulen selbst eingetragen und aktuell gehalten. Die Daten werden tagesaktuell bereitgestellt und enthalten alle grundlegenden Informationen zu Schulen wie Schulnummer, Schulbezeichnung und Adresse.Der vorliegende Datenbestand / Dienst zu den Schulstandorten in NRW stammt aus der Schuldatenbank. Die Informationen werden von den Schulträgern bzw. Schulen selbst eingetragen und aktuell gehalten. Die Daten werden tagesaktuell bereitgestellt und enthalten alle grundlegenden Informationen zu Schulen wie Schulnummer, Schulbezeichnung und Adresse.Der vorliegende Datenbestand / Dienst zu den Schulstandorten in NRW stammt aus der Schuldatenbank. Die Informationen werden von den Schulträgern bzw. Schulen selbst eingetragen und aktuell gehalten. Die Daten werden tagesaktuell bereitgestellt und enthalten alle grundlegenden Informationen zu Schulen wie Schulnummer, Schulbezeichnung und Adresse.",visible:!0,url:"https://www.wms.nrw.de/wms/wms_nw_inspire-schulen",sublayers:[{name:"US.education",title:"INSPIRE - WMS Schulstandorte NRW"}],sourceOptions:{ratio:1}})}function du(){return new fo({title:"Straßennetz Landesbetrieb Straßenbau NRW",url:"https://www.wms.nrw.de/wms/strassen_nrw_wms",sublayers:[{name:"1",title:"Verwaltungen"},{name:"4",title:"Abschnitte und Äste"},{name:"6",title:"Unfälle"}]})}var de,It,Ot,un,mo,cn,go;class hu{constructor(e){z(this,un);z(this,cn);xr(this,"label");z(this,de,void 0);z(this,It,void 0);z(this,Ot,void 0);this.label=e.label,H(this,de,e);const{baseUrl:t,params:i}=pu(e.baseUrl);H(this,It,t),H(this,Ot,i)}async search(e,{mapProjection:t,maxResults:i,signal:r}){const o=X(this,cn,go).call(this,e,i),s=new yn({dataProjection:"EPSG:4326",featureProjection:t});return(await fu(o,r)).features.map(l=>X(this,un,mo).call(this,l,s))}}de=new WeakMap,It=new WeakMap,Ot=new WeakMap,un=new WeakSet,mo=function(e,t){const i=R(this,de).renderLabel?.(e),r=e.properties[R(this,de).labelProperty],o=e.properties[R(this,de).searchProperty],s=(()=>i||(r!==void 0?String(r):o!==void 0?String(o):""))();return{id:e.id,label:s,geometry:t.readGeometry(e.geometry),properties:e.properties}},cn=new WeakSet,go=function(e,t){const i=new URL(`${R(this,It)}/collections/${R(this,de).collectionId}/items`);for(const[r,o]of R(this,Ot))i.searchParams.append(r,o);return i.searchParams.set(R(this,de).searchProperty,`*${e}*`),i.searchParams.set("limit",String(t)),i.searchParams.set("f","json"),R(this,de).rewriteUrl?.(new URL(i))??i};async function fu(n,e){try{const t=await fetch(n,{signal:e,headers:{Accept:"application/json"}});if(!t.ok)throw new Error("Request failed with status "+t.status);return await t.json()}catch(t){throw ir(t)?t:new Error("Failed to search on OGC API Features service",{cause:t})}}function pu(n){const e=new URL(n),t=new URLSearchParams(e.searchParams);return e.search="",{baseUrl:e.href.replace(/\/+$/,""),params:t}}class mu{label;filteredTypes;constructor(e,t){this.label=e,this.filteredTypes=t}async request(e,t,i){const r=new URL("https://photon.komoot.io/api?");r.searchParams.set("q",e),r.searchParams.set("lang","de"),r.searchParams.set("lat","51.961563"),r.searchParams.set("lon","7.628202"),r.searchParams.set("limit",t.toString());const o=await fetch(r,{signal:i});if(!o.ok)throw new Error("Request failed: "+o.status);return await o.json()}createLabel(e){return`${e.properties.name} (${e.properties.osm_value?e.properties.osm_value+", ":""}${e.properties.postcode?e.properties.postcode+", ":""}${e.properties.city?e.properties.city+", ":""}${e.properties.country?e.properties.country+")":")"}`}async search(e,{mapProjection:t,signal:i}){const r=await this.request(e,100,i),o=new yn({dataProjection:"EPSG:4326",featureProjection:t});return r.features.filter(s=>this.filteredTypes.includes(s.properties.type)).map((s,a)=>{const l=o.readGeometry(s.geometry);return{id:s.properties.osm_id||a,label:this.createLabel(s),geometry:l,properties:s.properties}})}}class gu{intl;constructor({intl:e}){this.intl=e}getSearchSources(){return[new hu({label:this.intl.formatMessage({id:"searchSources.miningPermissions"}),baseUrl:"https://ogc-api.nrw.de/inspire-am-bergbauberechtigungen/v1",collectionId:"managementrestrictionorregulationzone",searchProperty:"thematicId",labelProperty:"name",renderLabel(t){const i=t?.properties?.name,r=t?.id;return typeof i=="string"?i+" ("+r+")":String(r)},rewriteUrl(t){return t.searchParams.set("properties","name"),t}}),new mu("Photon Geocoder",["city","street"])]}}const Nt={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"};class jt extends lr{constructor(e,t){super(e),this.feature=t}}function vu(n,e){const t=[];for(let i=0;i<e.length;++i){const o=e[i].getGeometry();vo(n,o,t)}return t}function Bt(n,e){return Bi(n[0],n[1],e[0],e[1])}function Ge(n,e){const t=n.length;return e<0?n[e+t]:e>=t?n[e-t]:n[e]}function $t(n,e,t){let i,r;e<t?(i=e,r=t):(i=t,r=e);const o=Math.ceil(i),s=Math.floor(r);if(o>s){const l=We(n,i),u=We(n,r);return Bt(l,u)}let a=0;if(i<o){const l=We(n,i),u=Ge(n,o);a+=Bt(l,u)}if(s<r){const l=Ge(n,s),u=We(n,r);a+=Bt(l,u)}for(let l=o;l<s-1;++l){const u=Ge(n,l),c=Ge(n,l+1);a+=Bt(u,c)}return a}function vo(n,e,t){if(e instanceof Ye){Ht(n,e.getCoordinates(),!1,t);return}if(e instanceof Ki){const i=e.getCoordinates();for(let r=0,o=i.length;r<o;++r)Ht(n,i[r],!1,t);return}if(e instanceof vn){const i=e.getCoordinates();for(let r=0,o=i.length;r<o;++r)Ht(n,i[r],!0,t);return}if(e instanceof Zi){const i=e.getCoordinates();for(let r=0,o=i.length;r<o;++r){const s=i[r];for(let a=0,l=s.length;a<l;++a)Ht(n,s[a],!0,t)}return}if(e instanceof Ba){const i=e.getGeometries();for(let r=0;r<i.length;++r)vo(n,i[r],t);return}}const An={index:-1,endIndex:NaN};function bu(n,e,t,i){const r=n[0],o=n[1];let s=1/0,a=-1,l=NaN;for(let d=0;d<e.targets.length;++d){const h=e.targets[d],p=h.coordinates;let m=1/0,v;for(let g=0;g<p.length-1;++g){const y=p[g],w=p[g+1],E=bo(r,o,y,w);E.squaredDistance<m&&(m=E.squaredDistance,v=g+E.along)}m<s&&(s=m,h.ring&&e.targetIndex===d&&(h.endIndex>h.startIndex?v<h.startIndex&&(v+=p.length):h.endIndex<h.startIndex&&v>h.startIndex&&(v-=p.length)),l=v,a=d)}const u=e.targets[a];let c=u.ring;if(e.targetIndex===a&&c){const d=We(u.coordinates,l),h=t.getPixelFromCoordinate(d);ji(h,e.startPx)>i&&(c=!1)}if(c){const d=u.coordinates,h=d.length,p=u.startIndex,m=l;if(p<m){const v=$t(d,p,m);$t(d,p,m-h)<v&&(l-=h)}else{const v=$t(d,p,m);$t(d,p,m+h)<v&&(l+=h)}}return An.index=a,An.endIndex=l,An}function Ht(n,e,t,i){const r=n[0],o=n[1];for(let s=0,a=e.length-1;s<a;++s){const l=e[s],u=e[s+1],c=bo(r,o,l,u);if(c.squaredDistance===0){const d=s+c.along;i.push({coordinates:e,ring:t,startIndex:d,endIndex:d});return}}}const Dn={along:0,squaredDistance:0};function bo(n,e,t,i){const r=t[0],o=t[1],s=i[0],a=i[1],l=s-r,u=a-o;let c=0,d=r,h=o;return(l!==0||u!==0)&&(c=aa(((n-r)*l+(e-o)*u)/(l*l+u*u),0,1),d+=l*c,h+=u*c),Dn.along=c,Dn.squaredDistance=oa(Bi(n,e,d,h),10),Dn}function We(n,e){const t=n.length;let i=Math.floor(e);const r=e-i;i>=t?i-=t:i<0&&(i+=t);let o=i+1;o>=t&&(o-=t);const s=n[i],a=s[0],l=s[1],u=n[o],c=u[0]-a,d=u[1]-l;return[a+c*r,l+d*r]}class yu extends Ks{constructor(e){const t=e;t.stopDown||(t.stopDown=Zs),super(t),this.on,this.once,this.un,this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.pointerType_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=Eu(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_==="Polygon"?3:2,this.maxPoints_=this.mode_==="Circle"?2:e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:Xs,this.geometryLayout_=e.geometryLayout?e.geometryLayout:"XY";let i=e.geometryFunction;if(!i){const r=this.mode_;if(r==="Circle")i=function(o,s,a){const l=s||new su([NaN,NaN]),u=Dr(o[0]),c=Js(u,Dr(o[o.length-1]));return l.setCenterAndRadius(u,Math.sqrt(c),this.geometryLayout_),l};else{let o;r==="Point"?o=Kt:r==="LineString"?o=Ye:r==="Polygon"&&(o=vn),i=function(s,a,l){return a?r==="Polygon"?s[0].length?a.setCoordinates([s[0].concat([s[0][0]])],this.geometryLayout_):a.setCoordinates([],this.geometryLayout_):a.setCoordinates(s,this.geometryLayout_):a=new o(s,this.geometryLayout_),a}}}this.geometryFunction_=i,this.dragVertexDelay_=e.dragVertexDelay!==void 0?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new Dt({source:new At({useSpatialIndex:!1,wrapX:e.wrapX?e.wrapX:!1}),style:e.style?e.style:Su(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:Qs,this.freehandCondition_,e.freehand?this.freehandCondition_=Lr:this.freehandCondition_=e.freehandCondition?e.freehandCondition:ea,this.traceCondition_,this.setTrace(e.trace||!1),this.traceState_={active:!1},this.traceSource_=e.traceSource||e.source||null,this.addChangeListener(ta.ACTIVE,this.updateState_)}setTrace(e){let t;e?e===!0?t=Lr:t=e:t=sa,this.traceCondition_=t}setMap(e){super.setMap(e),this.updateState_()}getOverlay(){return this.overlay_}handleEvent(e){e.originalEvent.type===gn.CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!=="Point"&&this.freehandCondition_(e);let t=e.type===xe.POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===xe.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,t=!0):this.lastDragTime_=void 0,this.shouldHandle_&&this.downTimeout_!==void 0&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===xe.POINTERDRAG&&this.sketchFeature_!==null?(this.addToDrawing_(e.coordinate),i=!1):this.freehand_&&e.type===xe.POINTERDOWN?i=!1:t&&this.getPointerCount()<2?(i=e.type===xe.POINTERMOVE,i&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):(e.originalEvent.pointerType==="mouse"||e.type===xe.POINTERDRAG&&this.downTimeout_===void 0)&&this.handlePointerMove_(e)):e.type===xe.DBLCLICK&&(i=!1),super.handleEvent(e)&&i}handleDownEvent(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e.coordinate),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(()=>{this.handlePointerMove_(new na(xe.POINTERMOVE,e.map,e.originalEvent,!1,e.frameState))},this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)}deactivateTrace_(){this.traceState_={active:!1}}toggleTraceState_(e){if(!this.traceSource_||!this.traceCondition_(e))return;if(this.traceState_.active){this.deactivateTrace_();return}const t=this.getMap(),i=t.getCoordinateFromPixel([e.pixel[0]-this.snapTolerance_,e.pixel[1]+this.snapTolerance_]),r=t.getCoordinateFromPixel([e.pixel[0]+this.snapTolerance_,e.pixel[1]-this.snapTolerance_]),o=ra([i,r]),s=this.traceSource_.getFeaturesInExtent(o);if(s.length===0)return;const a=vu(e.coordinate,s);a.length&&(this.traceState_={active:!0,startPx:e.pixel.slice(),targets:a,targetIndex:-1})}addOrRemoveTracedCoordinates_(e,t){const i=e.startIndex<=e.endIndex,r=e.startIndex<=t;i===r?i&&t>e.endIndex||!i&&t<e.endIndex?this.addTracedCoordinates_(e,e.endIndex,t):(i&&t<e.endIndex||!i&&t>e.endIndex)&&this.removeTracedCoordinates_(t,e.endIndex):(this.removeTracedCoordinates_(e.startIndex,e.endIndex),this.addTracedCoordinates_(e,e.startIndex,t))}removeTracedCoordinates_(e,t){if(e===t)return;let i=0;if(e<t){const r=Math.ceil(e);let o=Math.floor(t);o===t&&(o-=1),i=o-r+1}else{const r=Math.floor(e);let o=Math.ceil(t);o===t&&(o+=1),i=r-o+1}i>0&&this.removeLastPoints_(i)}addTracedCoordinates_(e,t,i){if(t===i)return;const r=[];if(t<i){const o=Math.ceil(t);let s=Math.floor(i);s===i&&(s-=1);for(let a=o;a<=s;++a)r.push(Ge(e.coordinates,a))}else{const o=Math.floor(t);let s=Math.ceil(i);s===i&&(s+=1);for(let a=o;a>=s;--a)r.push(Ge(e.coordinates,a))}r.length&&this.appendCoordinates(r)}updateTrace_(e){const t=this.traceState_;if(!t.active||t.targetIndex===-1&&ji(t.startPx,e.pixel)<this.snapTolerance_)return;const i=bu(e.coordinate,t,this.getMap(),this.snapTolerance_);if(t.targetIndex!==i.index){if(t.targetIndex!==-1){const l=t.targets[t.targetIndex];this.removeTracedCoordinates_(l.startIndex,l.endIndex)}const a=t.targets[i.index];this.addTracedCoordinates_(a,a.startIndex,i.endIndex)}else{const a=t.targets[t.targetIndex];this.addOrRemoveTracedCoordinates_(a,i.endIndex)}t.targetIndex=i.index;const r=t.targets[t.targetIndex];r.endIndex=i.endIndex;const o=We(r.coordinates,r.endIndex),s=this.getMap().getPixelFromCoordinate(o);e.coordinate=o,e.pixel=[Math.round(s[0]),Math.round(s[1])]}handleUpEvent(e){let t=!0;if(this.getPointerCount()===0){this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);const i=this.traceState_.active;if(this.toggleTraceState_(e),this.shouldHandle_){const r=!this.finishCoordinate_;r&&this.startDrawing_(e.coordinate),!r&&this.freehand_?this.finishDrawing():!this.freehand_&&(!r||this.mode_==="Point")&&(this.atFinish_(e.pixel,i)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e.coordinate)),t=!1}else this.freehand_&&this.abortDrawing()}return!t&&this.stopClick_&&e.preventDefault(),t}handlePointerMove_(e){if(this.pointerType_=e.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){const t=this.downPx_,i=e.pixel,r=t[0]-i[0],o=t[1]-i[1],s=r*r+o*o;if(this.shouldHandle_=this.freehand_?s>this.squaredClickTolerance_:s<=this.squaredClickTolerance_,!this.shouldHandle_)return}if(!this.finishCoordinate_){this.createOrUpdateSketchPoint_(e.coordinate.slice());return}this.updateTrace_(e),this.modifyDrawing_(e.coordinate)}atFinish_(e,t){let i=!1;if(this.sketchFeature_){let r=!1,o=[this.finishCoordinate_];const s=this.mode_;if(s==="Point")i=!0;else if(s==="Circle")i=this.sketchCoords_.length===2;else if(s==="LineString")r=!t&&this.sketchCoords_.length>this.minPoints_;else if(s==="Polygon"){const a=this.sketchCoords_;r=a[0].length>this.minPoints_,o=[a[0][0],a[0][a[0].length-2]],t?o=[a[0][0]]:o=[a[0][0],a[0][a[0].length-2]]}if(r){const a=this.getMap();for(let l=0,u=o.length;l<u;l++){const c=o[l],d=a.getPixelFromCoordinate(c),h=e[0]-d[0],p=e[1]-d[1],m=this.freehand_?1:this.snapTolerance_;if(i=Math.sqrt(h*h+p*p)<=m,i){this.finishCoordinate_=c;break}}}}return i}createOrUpdateSketchPoint_(e){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new Le(new Kt(e)),this.updateSketchFeatures_())}createOrUpdateCustomSketchLine_(e){this.sketchLine_||(this.sketchLine_=new Le);const t=e.getLinearRing(0);let i=this.sketchLine_.getGeometry();i?(i.setFlatCoordinates(t.getLayout(),t.getFlatCoordinates()),i.changed()):(i=new Ye(t.getFlatCoordinates(),t.getLayout()),this.sketchLine_.setGeometry(i))}startDrawing_(e){const t=this.getMap().getView().getProjection(),i=Rr(this.geometryLayout_);for(;e.length<i;)e.push(0);this.finishCoordinate_=e,this.mode_==="Point"?this.sketchCoords_=e.slice():this.mode_==="Polygon"?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Le(new Ye(this.sketchLineCoords_)));const r=this.geometryFunction_(this.sketchCoords_,void 0,t);this.sketchFeature_=new Le,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new jt(Nt.DRAWSTART,this.sketchFeature_))}modifyDrawing_(e){const t=this.getMap(),i=this.sketchFeature_.getGeometry(),r=t.getView().getProjection(),o=Rr(this.geometryLayout_);let s,a;for(;e.length<o;)e.push(0);this.mode_==="Point"?a=this.sketchCoords_:this.mode_==="Polygon"?(s=this.sketchCoords_[0],a=s[s.length-1],this.atFinish_(t.getPixelFromCoordinate(e))&&(e=this.finishCoordinate_.slice())):(s=this.sketchCoords_,a=s[s.length-1]),a[0]=e[0],a[1]=e[1],this.geometryFunction_(this.sketchCoords_,i,r),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(e),i.getType()==="Polygon"&&this.mode_!=="Polygon"?this.createOrUpdateCustomSketchLine_(i):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_),this.updateSketchFeatures_()}addToDrawing_(e){const t=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection();let r,o;const s=this.mode_;s==="LineString"||s==="Circle"?(this.finishCoordinate_=e.slice(),o=this.sketchCoords_,o.length>=this.maxPoints_&&(this.freehand_?o.pop():r=!0),o.push(e.slice()),this.geometryFunction_(o,t,i)):s==="Polygon"&&(o=this.sketchCoords_[0],o.length>=this.maxPoints_&&(this.freehand_?o.pop():r=!0),o.push(e.slice()),r&&(this.finishCoordinate_=o[0]),this.geometryFunction_(this.sketchCoords_,t,i)),this.createOrUpdateSketchPoint_(e.slice()),this.updateSketchFeatures_(),r&&this.finishDrawing()}removeLastPoints_(e){if(!this.sketchFeature_)return;const t=this.sketchFeature_.getGeometry(),i=this.getMap().getView().getProjection(),r=this.mode_;for(let o=0;o<e;++o){let s;if(r==="LineString"||r==="Circle"){if(s=this.sketchCoords_,s.splice(-2,1),s.length>=2){this.finishCoordinate_=s[s.length-2].slice();const a=this.finishCoordinate_.slice();s[s.length-1]=a,this.createOrUpdateSketchPoint_(a)}this.geometryFunction_(s,t,i),t.getType()==="Polygon"&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(t)}else if(r==="Polygon"){s=this.sketchCoords_[0],s.splice(-2,1);const a=this.sketchLine_.getGeometry();if(s.length>=2){const l=s[s.length-2].slice();s[s.length-1]=l,this.createOrUpdateSketchPoint_(l)}a.setCoordinates(s),this.geometryFunction_(this.sketchCoords_,t,i)}if(s.length===1){this.abortDrawing();break}}this.updateSketchFeatures_()}removeLastPoint(){this.removeLastPoints_(1)}finishDrawing(){const e=this.abortDrawing_();if(!e)return;let t=this.sketchCoords_;const i=e.getGeometry(),r=this.getMap().getView().getProjection();this.mode_==="LineString"?(t.pop(),this.geometryFunction_(t,i,r)):this.mode_==="Polygon"&&(t[0].pop(),this.geometryFunction_(t,i,r),t=i.getCoordinates()),this.type_==="MultiPoint"?e.setGeometry(new ja([t])):this.type_==="MultiLineString"?e.setGeometry(new Ki([t])):this.type_==="MultiPolygon"&&e.setGeometry(new Zi([t])),this.dispatchEvent(new jt(Nt.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}abortDrawing_(){this.finishCoordinate_=null;const e=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),this.deactivateTrace_(),e}abortDrawing(){const e=this.abortDrawing_();e&&this.dispatchEvent(new jt(Nt.DRAWABORT,e))}appendCoordinates(e){const t=this.mode_,i=!this.sketchFeature_;i&&this.startDrawing_(e[0]);let r;if(t==="LineString"||t==="Circle")r=this.sketchCoords_;else if(t==="Polygon")r=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;i&&r.shift(),r.pop();for(let s=0;s<e.length;s++)this.addToDrawing_(e[s]);const o=e[e.length-1];this.addToDrawing_(o),this.modifyDrawing_(o)}extend(e){const i=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=i.getCoordinates();const r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.sketchPoint_=new Le(new Kt(r)),this.updateSketchFeatures_(),this.dispatchEvent(new jt(Nt.DRAWSTART,this.sketchFeature_))}updateSketchFeatures_(){const e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);const t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)}updateState_(){const e=this.getMap(),t=this.getActive();(!e||!t)&&this.abortDrawing(),this.overlay_.setMap(t?e:null)}}function Su(){const n=ia();return function(e,t){return n[e.getGeometry().getType()]}}function Eu(n){switch(n){case"Point":case"MultiPoint":return"Point";case"LineString":case"MultiLineString":return"LineString";case"Polygon":case"MultiPolygon":return"Polygon";case"Circle":return"Circle";default:throw new Error("Invalid type: "+n)}}const Cu=yu,q={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},xu={ERROR:"error"};class wu extends lr{constructor(e){super(xu.ERROR),this.code=e.code,this.message=e.message}}let _u=class extends $i{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.position_=null,this.transform_=la,this.watchId_=void 0,this.addChangeListener(q.PROJECTION,this.handleProjectionChanged_),this.addChangeListener(q.TRACKING,this.handleTrackingChanged_),e.projection!==void 0&&this.setProjection(e.projection),e.trackingOptions!==void 0&&this.setTrackingOptions(e.trackingOptions),this.setTracking(e.tracking!==void 0?e.tracking:!1)}disposeInternal(){this.setTracking(!1),super.disposeInternal()}handleProjectionChanged_(){const e=this.getProjection();e&&(this.transform_=ua(ot("EPSG:4326"),e),this.position_&&this.set(q.POSITION,this.transform_(this.position_)))}handleTrackingChanged_(){if("geolocation"in navigator){const e=this.getTracking();e&&this.watchId_===void 0?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):!e&&this.watchId_!==void 0&&(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}}positionChange_(e){const t=e.coords;this.set(q.ACCURACY,t.accuracy),this.set(q.ALTITUDE,t.altitude===null?void 0:t.altitude),this.set(q.ALTITUDE_ACCURACY,t.altitudeAccuracy===null?void 0:t.altitudeAccuracy),this.set(q.HEADING,t.heading===null?void 0:ca(t.heading)),this.position_?(this.position_[0]=t.longitude,this.position_[1]=t.latitude):this.position_=[t.longitude,t.latitude];const i=this.transform_(this.position_);this.set(q.POSITION,i.slice()),this.set(q.SPEED,t.speed===null?void 0:t.speed);const r=da(this.position_,t.accuracy);r.applyTransform(this.transform_),this.set(q.ACCURACY_GEOMETRY,r),this.changed()}positionError_(e){this.dispatchEvent(new wu(e))}getAccuracy(){return this.get(q.ACCURACY)}getAccuracyGeometry(){return this.get(q.ACCURACY_GEOMETRY)||null}getAltitude(){return this.get(q.ALTITUDE)}getAltitudeAccuracy(){return this.get(q.ALTITUDE_ACCURACY)}getHeading(){return this.get(q.HEADING)}getPosition(){return this.get(q.POSITION)}getProjection(){return this.get(q.PROJECTION)}getSpeed(){return this.get(q.SPEED)}getTracking(){return this.get(q.TRACKING)}getTrackingOptions(){return this.get(q.TRACKING_OPTIONS)}setProjection(e){this.set(q.PROJECTION,ot(e))}setTracking(e){this.set(q.TRACKING,e)}setTrackingOptions(e){this.set(q.TRACKING_OPTIONS,e)}};const Pu=_u,Q={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class Iu extends $i{constructor(e){super(),this.on,this.once,this.un,this.options=e,this.id=e.id,this.insertFirst=e.insertFirst!==void 0?e.insertFirst:!0,this.stopEvent=e.stopEvent!==void 0?e.stopEvent:!0,this.element=document.createElement("div"),this.element.className=e.className!==void 0?e.className:"ol-overlay-container "+ha,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=e.autoPan===!0?{}:e.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Q.ELEMENT,this.handleElementChanged),this.addChangeListener(Q.MAP,this.handleMapChanged),this.addChangeListener(Q.OFFSET,this.handleOffsetChanged),this.addChangeListener(Q.POSITION,this.handlePositionChanged),this.addChangeListener(Q.POSITIONING,this.handlePositioningChanged),e.element!==void 0&&this.setElement(e.element),this.setOffset(e.offset!==void 0?e.offset:[0,0]),this.setPositioning(e.positioning||"top-left"),e.position!==void 0&&this.setPosition(e.position)}getElement(){return this.get(Q.ELEMENT)}getId(){return this.id}getMap(){return this.get(Q.MAP)||null}getOffset(){return this.get(Q.OFFSET)}getPosition(){return this.get(Q.POSITION)}getPositioning(){return this.get(Q.POSITIONING)}handleElementChanged(){fa(this.element);const e=this.getElement();e&&this.element.appendChild(e)}handleMapChanged(){this.mapPostrenderListenerKey&&(pa(this.element),Ri(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const e=this.getMap();if(e){this.mapPostrenderListenerKey=ar(e,Hi.POSTRENDER,this.render,this),this.updatePixelPosition();const t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(e){this.set(Q.ELEMENT,e)}setMap(e){this.set(Q.MAP,e)}setOffset(e){this.set(Q.OFFSET,e)}setPosition(e){this.set(Q.POSITION,e)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(e){const t=this.getMap();if(!t||!t.getTargetElement()||!this.get(Q.POSITION))return;const i=this.getRect(t.getTargetElement(),t.getSize()),r=this.getElement(),o=this.getRect(r,[ma(r),ga(r)]);e=e||{};const s=e.margin===void 0?20:e.margin;if(!Et(i,o)){const a=o[0]-i[0],l=i[2]-o[2],u=o[1]-i[1],c=i[3]-o[3],d=[0,0];if(a<0?d[0]=a-s:l<0&&(d[0]=Math.abs(l)+s),u<0?d[1]=u-s:c<0&&(d[1]=Math.abs(c)+s),d[0]!==0||d[1]!==0){const h=t.getView().getCenterInternal(),p=t.getPixelFromCoordinateInternal(h);if(!p)return;const m=[p[0]+d[0],p[1]+d[1]],v=e.animation||{};t.getView().animateInternal({center:t.getCoordinateFromPixelInternal(m),duration:v.duration,easing:v.easing})}}}getRect(e,t){const i=e.getBoundingClientRect(),r=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[r,o,r+t[0],o+t[1]]}setPositioning(e){this.set(Q.POSITIONING,e)}setVisible(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)}updatePixelPosition(){const e=this.getMap(),t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(!1);return}const i=e.getPixelFromCoordinate(t),r=e.getSize();this.updateRenderedPosition(i,r)}updateRenderedPosition(e,t){const i=this.element.style,r=this.getOffset(),o=this.getPositioning();this.setVisible(!0);const s=Math.round(e[0]+r[0])+"px",a=Math.round(e[1]+r[1])+"px";let l="0%",u="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?l="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(l="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?u="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(u="-50%");const c=`translate(${l}, ${u}) translate(${s}, ${a})`;this.rendered.transform_!=c&&(this.rendered.transform_=c,i.transform=c)}getOptions(){return this.options}}const Yn=Iu;class Ou{constructor({properties:e}){const t=e.logLevel;console.debug("Log Service created with log level",t)}destroy(){console.debug("Log Service destroyed")}log(e){console.info("LOG: "+e)}}const Ne=ct("local-storage"),Mu=0,ge={CORRUPTED_DATA:"local-storage:corrupted-data",INVALID_PATH:"local-storage:invalid-path",INVALID_VALUE:"local-storage:invalid-value",NOT_SUPPORTED:"local-storage:not-supported",INTERNAL:"local-storage:internal-error"};var et,he,Ie,tt,fe,dn,yo,hn,So,Fe,vt,Oe,Ue,fn,Eo;class ku{constructor(e){z(this,dn);z(this,hn);z(this,Fe);z(this,Oe);z(this,fn);z(this,et,void 0);z(this,he,{});z(this,Ie,void 0);z(this,tt,void 0);z(this,fe,void 0);H(this,et,Ru(e.properties)),H(this,Ie,Tu()),R(this,Ie)&&(X(this,hn,So).call(this),H(this,tt,X(this,fn,Eo).call(this)))}destroy(){R(this,fe)&&(clearTimeout(R(this,fe)),H(this,fe,void 0)),R(this,Ie)&&X(this,Fe,vt).call(this)}get isSupported(){return!!R(this,tt)}get(e){return X(this,Oe,Ue).call(this).get(e)}set(e,t){return X(this,Oe,Ue).call(this).set(e,t)}remove(e){return X(this,Oe,Ue).call(this).remove(e)}removeAll(){return X(this,Oe,Ue).call(this).removeAll()}getNamespace(e){return X(this,Oe,Ue).call(this).getNamespace(e)}}et=new WeakMap,he=new WeakMap,Ie=new WeakMap,tt=new WeakMap,fe=new WeakMap,dn=new WeakSet,yo=function(){R(this,fe)&&clearTimeout(R(this,fe)),H(this,fe,setTimeout(()=>{H(this,fe,void 0),X(this,Fe,vt).call(this)},Mu))},hn=new WeakSet,So=function(){try{const e=R(this,Ie);if(!e)throw new me(ge.INTERNAL,"Local storage is not available.");const t=e.getItem(R(this,et));if(t==null){H(this,he,{}),X(this,Fe,vt).call(this);return}try{const i=JSON.parse(t);if(!at(i))throw new me(ge.CORRUPTED_DATA,"Persisted value should be an object.");H(this,he,i)}catch(i){Ne.warn("Invalid persisted data, reverting to default.",i),H(this,he,{}),X(this,Fe,vt).call(this)}}catch(e){Ne.error("Failed to load from local storage",e)}},Fe=new WeakSet,vt=function(){try{const e=R(this,Ie);if(!e)throw new me(ge.INTERNAL,"Local storage is not available.");const t=JSON.stringify(R(this,he));e.setItem(R(this,et),t)}catch(e){Ne.error("Failed to save to local storage",e)}},Oe=new WeakSet,Ue=function(){const e=R(this,tt);if(!e)throw new me(ge.NOT_SUPPORTED,"Local storage is not supported by this browser.");return e},fn=new WeakSet,Eo=function(){const e={getByPath:t=>Wr(Au(R(this,he),t)),setByPath:(t,i)=>{if(!Lu(i))throw new me(ge.INVALID_VALUE,"The value is not supported by local storage.");if(i=Wr(i),t.length===0){if(!at(i))throw new me(ge.INVALID_VALUE,"The root value must be a plain object.");H(this,he,i)}else Du(R(this,he),t,i);X(this,dn,yo).call(this)}};return new fr([],e)};class fr{path;access;constructor(e,t){this.path=e,this.access=t}get(e){return this.access.getByPath([...this.path,e])}set(e,t){this.access.setByPath([...this.path,e],t)}remove(e){this.access.setByPath([...this.path,e],void 0)}removeAll(){this.access.setByPath(this.path,{})}getNamespace(e){const t=this.get(e);if(t===void 0)this.set(e,{});else if(!at(t))throw new me(ge.INVALID_PATH,`Cannot use '${e}' as a namespace because it is not associated with an object.`);return new fr(this.path.concat([e]),this.access)}}const Gr="trails-state";function Au(n,e){let t=n;for(const i of e){if(!at(t))throw new me(ge.INVALID_PATH,`Cannot get nested property '${i}' because the parent is no object.`);t=t[i]}return t}function Du(n,e,t){if(!e.length)throw new me(ge.INTERNAL,"Path must not be empty.");let i=n;for(let o=0,s=e.length-1;o<s;++o){const a=e[o],l=i[a];if(!at(l))throw new me(ge.INVALID_PATH,`Cannot set property on '${a}' because it is no object.`);i=l}const r=e[e.length-1];i[r]=t}function at(n){return!!(n&&typeof n=="object"&&!Array.isArray(n))}function Lu(n){const e=typeof n;return e==="boolean"||e==="number"||e==="string"||e==="undefined"||n===null||Array.isArray(n)||at(n)}function Ru(n){const e=n.storageId;return!e||typeof e!="string"?(Ne.warn(`The 'storageId' property of the 'local-storage' package should be set to a valid string to avoid collisions with other applications. Defaulting to '${Gr}'.`),Gr):e}function Tu(){if(typeof Storage>"u"){Ne.warn("Local storage is not supported by this browser.");return}try{const n=globalThis.localStorage;if(!n){Ne.warn("Local storage is not supported by this browser.");return}return n}catch(n){Ne.warn("Local storage is not supported by this browser.",n);return}}function Wr(n){return n!=null&&(n=JSON.parse(JSON.stringify(n))),n}const Fu={"ol-map":{name:"ol-map",services:{MapConfigProviderImpl:{name:"MapConfigProviderImpl",clazz:au,provides:[{name:"map.MapConfigProvider",qualifier:void 0}],references:{}},AppConfig:{name:"AppConfig",clazz:gu,provides:[{name:"ol-app.AppConfig",qualifier:void 0}],references:{}}},ui:{references:[{name:"map-sample-logging.LogService",qualifier:void 0,all:!1},{name:"map.MapRegistry",qualifier:void 0,all:!1},{name:"ol-app.AppConfig",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/chakra-integration":{name:"@open-pioneer/chakra-integration",services:{},ui:{references:[]},properties:{}},"@open-pioneer/runtime":{name:"@open-pioneer/runtime",services:{},ui:{references:[]},properties:{}},"@open-pioneer/core":{name:"@open-pioneer/core",services:{},ui:{references:[]},properties:{}},"@open-pioneer/notifier":{name:"@open-pioneer/notifier",services:{NotificationServiceImpl:{name:"NotificationServiceImpl",clazz:Ga,provides:[{name:"notifier.NotificationService",qualifier:void 0}],references:{}}},ui:{references:[{name:"notifier.NotificationService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/theme":{name:"@open-pioneer/theme",services:{},ui:{references:[]},properties:{}},"@open-pioneer/base-theme":{name:"@open-pioneer/base-theme",services:{},ui:{references:[]},properties:{}},"@open-pioneer/runtime-react-support":{name:"@open-pioneer/runtime-react-support",services:{},ui:{references:[]},properties:{}},"@open-pioneer/map":{name:"@open-pioneer/map",services:{MapRegistryImpl:{name:"MapRegistryImpl",clazz:va,provides:[{name:"map.MapRegistry",qualifier:void 0}],references:{providers:{name:"map.MapConfigProvider",qualifier:void 0,all:!0}}}},ui:{references:[{name:"map.MapRegistry",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/ogc-features":{name:"@open-pioneer/ogc-features",services:{},ui:{references:[]},properties:{}},"@open-pioneer/react-utils":{name:"@open-pioneer/react-utils",services:{},ui:{references:[]},properties:{}},"@open-pioneer/coordinate-viewer":{name:"@open-pioneer/coordinate-viewer",services:{},ui:{references:[]},properties:{}},"@open-pioneer/scale-bar":{name:"@open-pioneer/scale-bar",services:{},ui:{references:[]},properties:{}},"@open-pioneer/scale-viewer":{name:"@open-pioneer/scale-viewer",services:{},ui:{references:[]},properties:{}},"@open-pioneer/overview-map":{name:"@open-pioneer/overview-map",services:{},ui:{references:[]},properties:{}},"map-sample-logging":{name:"map-sample-logging",services:{LogService:{name:"LogService",clazz:Ou,provides:[{name:"map-sample-logging.LogService",qualifier:void 0}],references:{}}},ui:{references:[]},properties:{logLevel:{value:"INFO",required:!1}}},"@open-pioneer/map-navigation":{name:"@open-pioneer/map-navigation",services:{},ui:{references:[]},properties:{}},"@open-pioneer/toc":{name:"@open-pioneer/toc",services:{},ui:{references:[]},properties:{}},"@open-pioneer/spatial-bookmarks":{name:"@open-pioneer/spatial-bookmarks",services:{},ui:{references:[{name:"local-storage.LocalStorageService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/measurement":{name:"@open-pioneer/measurement",services:{},ui:{references:[]},properties:{}},"@open-pioneer/search":{name:"@open-pioneer/search",services:{},ui:{references:[]},properties:{}},"@open-pioneer/experimental-layout-sidebar":{name:"@open-pioneer/experimental-layout-sidebar",services:{},ui:{references:[]},properties:{}},"@open-pioneer/geolocation":{name:"@open-pioneer/geolocation",services:{},ui:{references:[{name:"notifier.NotificationService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/basemap-switcher":{name:"@open-pioneer/basemap-switcher",services:{},ui:{references:[]},properties:{}},"@open-pioneer/test-utils":{name:"@open-pioneer/test-utils",services:{},ui:{references:[]},properties:{}},"@open-pioneer/map-test-utils":{name:"@open-pioneer/map-test-utils",services:{},ui:{references:[]},properties:{}},"@open-pioneer/local-storage":{name:"@open-pioneer/local-storage",services:{LocalStorageServiceImpl:{name:"LocalStorageServiceImpl",clazz:ku,provides:[{name:"local-storage.LocalStorageService",qualifier:void 0}],references:{}}},ui:{references:[]},properties:{storageId:{value:null,required:!1}}}},Vu=`@media only screen and (max-width: 500px){.search-top-center-placement{position:absolute;left:0;top:0;width:100%;z-index:1}}@media only screen and (min-width: 501px){.search-top-center-placement{position:absolute;left:50%;top:0;transform:translate(-50%);width:500px;z-index:1}}:root,:host{--ol-background-color: white;--ol-accent-background-color: #F5F5F5;--ol-subtle-background-color: rgba(128, 128, 128, .25);--ol-partial-background-color: rgba(255, 255, 255, .75);--ol-foreground-color: #333333;--ol-subtle-foreground-color: #666666;--ol-brand-color: #00AAFF}.ol-box{box-sizing:border-box;border-radius:2px;border:1.5px solid var(--ol-background-color);background-color:var(--ol-partial-background-color)}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:var(--ol-partial-background-color);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid var(--ol-subtle-foreground-color);border-top:none;color:var(--ol-foreground-color);font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-bar-inner{display:flex}.ol-scale-step-marker{width:1px;height:15px;background-color:var(--ol-foreground-color);float:right;z-index:10}.ol-scale-step-text{position:absolute;bottom:-5px;font-size:10px;z-index:11;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-text{position:absolute;font-size:12px;text-align:center;bottom:25px;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-singlebar{position:relative;height:10px;z-index:9;box-sizing:border-box;border:1px solid var(--ol-foreground-color)}.ol-scale-singlebar-even{background-color:var(--ol-subtle-foreground-color)}.ol-scale-singlebar-odd{background-color:var(--ol-background-color)}.ol-unsupported{display:none}.ol-viewport,.ol-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ol-viewport canvas{all:unset;overflow:hidden}.ol-viewport{touch-action:pan-x pan-y}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ol-grabbing{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.ol-grab{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.ol-control{position:absolute;background-color:var(--ol-subtle-background-color);border-radius:4px}.ol-zoom{top:.5em;left:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:var(--ol-subtle-foreground-color);font-weight:700;text-decoration:none;font-size:inherit;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:var(--ol-background-color);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:hover,.ol-control button:focus{text-decoration:none;outline:1px solid var(--ol-subtle-foreground-color);color:var(--ol-foreground-color)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em);display:flex;flex-flow:row-reverse;align-items:center}.ol-attribution a{color:var(--ol-subtle-foreground-color);text-decoration:none}.ol-attribution ul{margin:0;padding:1px .5em;color:var(--ol-foreground-color);text-shadow:0 0 2px var(--ol-background-color);font-size:12px}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button{flex-shrink:0}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:var(--ol-partial-background-color)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:block}.ol-overviewmap .ol-overviewmap-map{border:1px solid var(--ol-subtle-foreground-color);height:150px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:0;left:0;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:var(--ol-subtle-background-color)}.ol-overviewmap-box{border:1.5px dotted var(--ol-subtle-foreground-color)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}.measurement-tooltip{position:relative;background:rgba(255,255,255,.8);border-radius:4px;color:#000;padding:4px 8px;opacity:1;white-space:nowrap;font-size:12px;cursor:default;-webkit-user-select:none;user-select:none;font-weight:700}.measurement-active-tooltip{background:rgba(0,0,0,.9);border-radius:4px;border-color:#000000e6;opacity:.9;color:#fff}.measurement-finished-tooltip{background-color:#4cb3ffe6;color:#000;border:1px solid white}.measurement-active-tooltip:before,.measurement-finished-tooltip:before{border-top:6px solid rgba(0,0,0,.9);border-right:6px solid transparent;border-left:6px solid transparent;content:"";position:absolute;bottom:-6px;margin-left:-7px;left:50%}.measurement-finished-tooltip:before{border-top-color:#4cb3ff}.search-component .chakra-divider{display:none}.search-component .search-highlighted-match{font-weight:700}.search-component .search-value-container{cursor:text;padding-left:30px!important}.search-component .search-invisible{display:none}.scale-bar .ol-scale-bar{margin-bottom:8px;margin-right:8px}.scale-bar .ol-scale-bar,.scale-bar .ol-scale-line{position:relative;bottom:0;left:0;background:none}.scale-bar .ol-scale-bar .ol-scale-bar-inner,.scale-bar .ol-scale-bar .ol-scale-line-inner,.scale-bar .ol-scale-line .ol-scale-bar-inner,.scale-bar .ol-scale-line .ol-scale-line-inner{color:var(--chakra-white);border-color:var(--chakra-white)}.overview-map .ol-overviewmap{position:relative;height:100%;width:100%}.overview-map .ol-overviewmap:not(.ol-collapsed){border:1px solid black}.overview-map .ol-overviewmap .ol-overviewmap-map{border:none;width:100%;height:100%}.overview-map .ol-overviewmap .ol-overviewmap-box{border:2px solid red}.layout-sidebar{height:100%;position:absolute;top:0}.layout-sidebar[data-theme=light]{background-color:var(--chakra-colors-whiteAlpha-700)}.layout-sidebar[data-theme=dark]{background-color:var(--chakra-colors-blackAlpha-700)}.layout-sidebar .layout-sidebar-main{transition:width .3s ease-out 0s;border-right:1px solid var(--chakra-colors-chakra-border-color)}.layout-sidebar .layout-sidebar-content{overflow:auto;transition:width .3s ease-out 0s}.layout-sidebar .layout-sidebar-content .content-section .content-header{font-size:1.5em;background-color:var(--chakra-colors-blackAlpha-500);padding:.5rem 1rem}.layout-sidebar .layout-sidebar-content .content-section .content-body{padding:1rem}
`,Nu=["en","de"];function ju(n){switch(n){case"en":return jr(()=>import("./9612c4ecd972.js"),[],import.meta.url).then(e=>e.default);case"de":return jr(()=>import("./44ea9c52399a.js"),[],import.meta.url).then(e=>e.default)}throw new Error(`Unsupported locale: '${n}'`)}const Bu=Ss(Vu),$u=Object.freeze(Object.defineProperty({__proto__:null,loadMessages:ju,locales:Nu,packages:Fu,styles:Bu},Symbol.toStringTag,{value:"Module"})),Hu="@open-pioneer/coordinate-viewer",zu=Be.bind(void 0,Hu),Uu=4,Gu=n=>{const{mapId:e,precision:t}=n,{containerProps:i}=Ae("coordinate-viewer",n),{map:r}=ve(e),o=r?.olMap,{coordinates:s}=qu(o),a=Wu(s,t),l=po(o)?.getCode()??"",u=a?a+" "+l:"";return S.jsx(U,{...i,children:S.jsx(Sn,{className:"coordinate-viewer-text",children:u})})};function Wu(n,e){const t=zu();return n?Yu(n,e,t):""}function qu(n){const[e,t]=f.useState();return f.useEffect(()=>{if(!n)return;const i=n.on("pointermove",r=>{t(r.coordinate)});return()=>qe(i)},[n]),{coordinates:e}}function Yu(n,e,t){if(n[0]==null||n[1]==null)return"";const i=e??Uu,[r,o]=n,s=t.formatNumber(r,{maximumFractionDigits:i,minimumFractionDigits:i}),a=t.formatNumber(o,{maximumFractionDigits:i,minimumFractionDigits:i});return s+" "+a}const Co="@open-pioneer/geolocation",Ku=cr.bind(void 0,Co),Zu=Be.bind(void 0,Co);function Xu(n){return dt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3A8.994 8.994 0 0013 3.06V1h-2v2.06A8.994 8.994 0 003.06 11H1v2h2.06A8.994 8.994 0 0011 20.94V23h2v-2.06A8.994 8.994 0 0020.94 13H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}}]})(n)}const qr=ct("geolocation:GeolocationController"),Yr=17;class Ju extends Yi{olMap;positionHighlightLayer;geolocation;maxZoom=Yr;accuracyFeature;positionFeature;changeHandlers=[];isCurrentlyActive=!1;setMapToPosition=!0;trackingOptions={};isInitialZoom=!0;constructor(e,t){super(),this.olMap=e,this.isInitialZoom=!0,this.accuracyFeature=new Le,this.accuracyFeature.setStyle(Zr()),this.positionFeature=new Le,this.positionFeature.setStyle(Kr()),this.positionHighlightLayer=new Dt({source:new At({features:[this.accuracyFeature,this.positionFeature]})}),this.positionHighlightLayer.setZIndex(zi);const i=t||Qu();this.geolocation=new Pu({tracking:!1,trackingOptions:i,projection:e.getView()?.getProjection()}),this.trackingOptions=i,this.geolocation.on("error",r=>this.handleGeolocationError(r))}destroy(){this.stopGeolocation(),this.geolocation?.setTracking(!1),this.geolocation.dispose(),this.accuracyFeature=void 0,this.positionFeature=void 0,this.positionHighlightLayer.dispose()}startGeolocation(){if(this.isCurrentlyActive)return Promise.resolve();const e=this.olMap;return new Promise(i=>{this.isCurrentlyActive=!0,this.geolocation?.setProjection(e.getView()?.getProjection()),this.geolocation?.setTracking(!0);const r=this.geolocation.on("change:accuracyGeometry",()=>{const l=this.geolocation.getAccuracyGeometry()||void 0;if(this.accuracyFeature?.setGeometry(l),this.accuracyFeature?.getGeometry()!==void 0&&i(),this.isInitialZoom){const u=this?.accuracyFeature?.getGeometry()?.getExtent();if(u){const c=ba(u);if(!c)return;e.getView().fit(c,{maxZoom:this.maxZoom}),this.isInitialZoom=!1}}}),o=this.geolocation.on("change:position",()=>{const l=this.geolocation.getPosition();l&&(l[0]||l[1])!==void 0&&(this.positionFeature?.setGeometry(new Kt(l)),this.setMapToPosition&&e.getView().setCenter(l),this.positionFeature?.getGeometry()!==void 0&&i())}),s=e.getView().on("change:resolution",()=>{this.setMapToPosition=this.isInitialZoom}),a=e.on("pointermove",l=>{l.dragging&&(this.setMapToPosition=!1)});this.changeHandlers.push(r,o,s,a),e.addLayer(this.positionHighlightLayer)}).catch(i=>{qr.error("Failed to determine location",i)})}stopGeolocation(){this.geolocation?.setTracking(!1),this.isCurrentlyActive=!1,this.trackingOptions={},this.setMapToPosition=!0,this.isInitialZoom=!0,this.changeHandlers.forEach(e=>{qe(e)}),this.changeHandlers=[],this.accuracyFeature?.setGeometry(void 0),this.positionFeature?.setGeometry(void 0),this.olMap.removeLayer(this.positionHighlightLayer)}setPositionFeatureStyle(e){this.positionFeature?.setStyle(e??Kr())}setAccuracyFeatureStyle(e){this.accuracyFeature?.setStyle(e??Zr())}setMaxZoom(e){this.maxZoom=e??Yr}getMaxZoom(){return this.maxZoom}getPositionFeature(){return this.positionFeature}getAccuracyFeature(){return this.accuracyFeature}getTrackingOptions(){return this.trackingOptions}getGeolocation(){return this.geolocation}handleGeolocationError(e){qr.error("Error from geolocation API:",e.message);const t=(()=>{switch(e.code){case 1:return"permission-denied";case 2:return"position-unavailable";case 3:return"timeout";default:return"unknown"}})();this.emit("error",t)}}const Kr=()=>new st({image:new Ui({radius:6,fill:new Ct({color:"#3399CC"}),stroke:new Ve({color:"#fff",width:2})})}),Zr=()=>new st({stroke:new Ve({color:"#3399CC",width:3}),fill:new Ct({color:"rgba(0, 0, 255, 0.05)"})}),Qu=()=>({enableHighAccuracy:!0,timeout:6e4,maximumAge:6e5}),ec=f.forwardRef(function(e,t){const{mapId:i,maxZoom:r,positionFeatureStyle:o,accuracyFeatureStyle:s,trackingOptions:a}=e,{containerProps:l}=Ae("geolocation",e),u=!!navigator.geolocation,[c,d]=f.useState(!1),[h,p]=f.useState(!1),{map:m}=ve(i),v=Zu(),g=Ku("notifier.NotificationService"),y=tc(m,r,a,o,s),w=(()=>u?c?v.formatMessage({id:"locateMeEnd"}):v.formatMessage({id:"locateMeStart"}):v.formatMessage({id:"locateNotSupported"}))();f.useEffect(()=>{if(y===void 0)return;const I=y.on("error",function(L){const P=v.formatMessage({id:"error"}),A=(()=>{switch(L){case"permission-denied":return v.formatMessage({id:"permissionDenied"});case"position-unavailable":return v.formatMessage({id:"positionUnavailable"});case"timeout":return v.formatMessage({id:"timeout"});case"unknown":return v.formatMessage({id:"unknownError"})}})();p(!1),d(!1),g.notify({level:"error",title:P,message:A})});return()=>{I.destroy()}},[y,v,g]),f.useEffect(()=>{if(!y){p(!1);return}return c&&(p(!0),y.startGeolocation().then(()=>{p(!1)})),()=>{y?.stopGeolocation(),p(!1)}},[y,c]);const E=()=>{m&&d(!c)};return S.jsx(mt,{ref:t,label:w,icon:S.jsx(Xu,{}),onClick:()=>E(),isActive:c,isLoading:h,isDisabled:!u,...l})});function tc(n,e,t,i,r){const[o,s]=f.useState();return f.useEffect(()=>{if(!n)return;const a=new Ju(n.olMap,t);return s(a),()=>{a.destroy(),s(void 0)}},[n,t]),f.useEffect(()=>{o?.setPositionFeatureStyle(i)},[o,i]),f.useEffect(()=>{o?.setAccuracyFeatureStyle(r)},[o,r]),f.useEffect(()=>{o?.setMaxZoom(e)},[o,e]),o}const nc="@open-pioneer/measurement",rc=Be.bind(void 0,nc);class ic{olMap;messages;activeFeatureStyle;layer;source;draw=void 0;sketch=void 0;helpTooltip;measureTooltip;overlayTooltips=[];resources=[];constructor(e,t){this.olMap=e,this.messages=t;const i=this.source=new At;this.layer=new Dt({source:i}),this.layer.setZIndex(zi),e.addLayer(this.layer);const r=e.on("pointermove",this.handlePointerMove.bind(this));this.resources.push({destroy(){qe(r)}});const o=()=>{this.helpTooltip.element.classList.add("hidden")};e.getViewport().addEventListener("mouseout",o),this.resources.push({destroy(){e.getViewport().removeEventListener("mouseout",o)}}),this.helpTooltip=this.createHelpTooltip()}destroy(){this.stopMeasurement();for(const e of this.resources)e.destroy();this.resources=[],this.helpTooltip.destroy(),this.measureTooltip?.destroy();for(const e of this.overlayTooltips)e.destroy();this.overlayTooltips=[],this.olMap.removeLayer(this.layer),this.layer.dispose(),this.source.dispose()}getVectorLayer(){return this.layer}setFinishedFeatureStyle(e){this.layer.setStyle(e)}setActiveFeatureStyle(e){const t=ya(e);this.activeFeatureStyle=(i,...r)=>{const o=i?.getGeometry()?.getType();if(o==="Polygon"||o==="LineString"||o==="Point")return t(i,...r)},this.draw?.getOverlay().setStyle(this.activeFeatureStyle)}clearMeasurements(){this.source.clear();for(const e of this.overlayTooltips)e.destroy();this.overlayTooltips=[]}startMeasurement(e){if(this.draw)throw new Error("Internal error: another measurement interaction is still active.");const t=e==="area"?"Polygon":"LineString",i=this.draw=new Cu({source:this.source,type:t,style:this.activeFeatureStyle});this.olMap.addInteraction(i);let r,o;i.on("drawstart",s=>{r=this.measureTooltip=this.createMeasureTooltip();const a=this.sketch=s.feature;if(!a)return;let l;o=a.getGeometry()?.on("change",u=>{const c=u.target,d=this.olMap.getView().getProjection();let h="";c instanceof vn?(h=sc(c,d,this.messages),l=c.getInteriorPoint().getCoordinates()||null):c instanceof Ye&&(h=ac(c,d,this.messages),l=c.getLastCoordinate()||null),r&&(r.element.innerHTML=h,l&&r?.overlay.setPosition(l))})}),i.on("drawend",()=>{if(r){const s=r.element.classList;s.remove("measurement-active-tooltip"),s.add("measurement-finished-tooltip"),r.overlay.setOffset([0,-7]),this.overlayTooltips.push(r),this.measureTooltip=r=void 0}this.sketch=void 0,o&&qe(o)}),i.on("drawabort",()=>{r&&(r.destroy(),this.measureTooltip=r=void 0),this.sketch=void 0,o&&qe(o)})}stopMeasurement(){this.draw&&(this.olMap.removeInteraction(this.draw),this.draw.abortDrawing(),this.draw.dispose(),this.draw=void 0),this.sketch=void 0,this.measureTooltip?.destroy(),this.measureTooltip=void 0}createMeasureTooltip(){const e=document.createElement("div");e.className="measurement-tooltip measurement-active-tooltip";const t=new Yn({element:e,offset:[0,-15],positioning:"bottom-center",stopEvent:!1,insertFirst:!1}),i=this.olMap;return i.addOverlay(t),{overlay:t,element:e,destroy(){i.removeOverlay(t)}}}createHelpTooltip(){const e=document.createElement("div");e.className="measurement-tooltip hidden";const t=new Yn({element:e,offset:[15,0],positioning:"center-left"}),i=this.olMap;return i.addOverlay(t),{overlay:t,element:e,destroy(){i.removeOverlay(t)}}}handlePointerMove(e){if(e.dragging)return;const t=this.helpTooltip,i=oc(this.messages,this.sketch);t.element.textContent=i,t.overlay.setPosition(e.coordinate),t.element.classList.remove("hidden")}}function oc(n,e){if(e){const t=e.getGeometry();if(t instanceof vn||t instanceof Ye)return n.getContinueMessage()}return n.getHelpMessage()}function sc(n,e,t){const i=Sa(n,{projection:e});let r;return i>=1e6?r=`${t.formatNumber(i/1e6)} km<sup>2</sup>`:r=`${t.formatNumber(i)} m<sup>2</sup>`,r}function ac(n,e,t){const i=Ea(n,{projection:e});let r;return i>=1e3?r=`${t.formatNumber(i/1e3)} km`:r=`${t.formatNumber(i)} m`,r}const lc=n=>{const e=rc(),{mapId:t,activeFeatureStyle:i,finishedFeatureStyle:r}=n,{containerProps:o}=Ae("measurement",n),[s,a]=f.useState("distance"),l=p=>e.formatMessage({id:p}),u=ve(t),c=uc(u.map,e);f.useEffect(()=>{c?.setActiveFeatureStyle(i??cc())},[c,i]),f.useEffect(()=>{c?.setFinishedFeatureStyle(r??dc())},[c,r]),f.useEffect(()=>{if(c)return c.startMeasurement(s),()=>{c.stopMeasurement()}},[c,s]);function d(p){if(p==="distance"||p==="area")a(p);else throw new Error(`Unexpected measurement type: '${p}'.`)}function h(){c?.clearMeasurements()}return S.jsxs(U,{...o,children:[S.jsx(Sn,{mb:3,children:e.formatMessage({id:"measurementInfoText"})}),S.jsx(qa,{mb:4,alignItems:"center",children:S.jsxs(eo,{mb:2,children:[S.jsx(Ka,{mb:1,children:l("measurementLabel")}),S.jsxs(Qa,{value:s,onChange:p=>d(p.target.value),className:"measurement-select",children:[S.jsx("option",{value:"distance",children:l("distance")}),S.jsx("option",{value:"area",children:l("area")})]})]})}),S.jsx(mn,{padding:2,className:"measurement-delete-button",onClick:h,width:"100%",children:l("deleteMeasurementLabel")})]})};function uc(n,e){const[t,i]=f.useState(void 0);return f.useEffect(()=>{if(!n)return;const r=new ic(n.olMap,{getContinueMessage(){return e.formatMessage({id:"tooltips.continue"})},getHelpMessage(){return e.formatMessage({id:"tooltips.help"})},formatNumber(o){return e.formatNumber(o,{maximumFractionDigits:2})}});return i(r),()=>{r.destroy(),i(void 0)}},[n,e]),t}function cc(){return[new st({stroke:new Ve({color:"#fff",lineDash:[10,10],width:5})}),new st({fill:new Ct({color:"rgba(0,0,0,0.15)"}),stroke:new Ve({color:"rgba(0, 0, 0, 0.7)",lineDash:[10,10],width:3}),image:new Ui({radius:5,stroke:new Ve({color:"rgba(0, 0, 0, 0.7)",width:2}),fill:new Ct({color:"rgba(255, 255, 255, 0.2)"})})})]}function dc(){return[new st({stroke:new Ve({color:"#fff",width:5})}),new st({stroke:new Ve({color:"#0b96fc",width:3}),fill:new Ct({color:"rgba(11,150,252,0.15)"})})]}var hc=el({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"});const Ln=.75,zt=.1;let fc=class extends Gi{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.boundHandleRotationChanged_=this.handleRotationChanged_.bind(this),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.rotateWithView_=e.rotateWithView!==void 0?e.rotateWithView:!1,this.viewExtent_=void 0;const t=e.className!==void 0?e.className:"ol-overviewmap",i=e.tipLabel!==void 0?e.tipLabel:"Overview map",r=e.collapseLabel!==void 0?e.collapseLabel:"‹";typeof r=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r):this.collapseLabel_=r;const o=e.label!==void 0?e.label:"›";typeof o=="string"?(this.label_=document.createElement("span"),this.label_.textContent=o):this.label_=o;const s=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,a=document.createElement("button");a.setAttribute("type","button"),a.title=i,a.appendChild(s),a.addEventListener(gn.CLICK,this.handleClick_.bind(this),!1),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.view_=e.view;const l=new Ca({view:e.view,controls:new Tr,interactions:new Tr});this.ovmap_=l,e.layers&&e.layers.forEach(function(w){l.addLayer(w)});const u=document.createElement("div");u.className="ol-overviewmap-box",u.style.boxSizing="border-box",this.boxOverlay_=new Yn({position:[0,0],positioning:"center-center",element:u}),this.ovmap_.addOverlay(this.boxOverlay_);const c=t+" "+Wi+" "+xa+(this.collapsed_&&this.collapsible_?" "+Fr:"")+(this.collapsible_?"":" ol-uncollapsible"),d=this.element;d.className=c,d.appendChild(this.ovmapDiv_),d.appendChild(a);const h=this,p=this.boxOverlay_,m=this.boxOverlay_.getElement(),v=function(w){return{clientX:w.clientX,clientY:w.clientY}},g=function(w){const E=v(w),I=l.getEventCoordinateInternal(E);p.setPosition(I)},y=function(w){const E=l.getEventCoordinateInternal(w);h.getMap().getView().setCenterInternal(E),window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",y)};m.addEventListener("mousedown",function(){window.addEventListener("mousemove",g),window.addEventListener("mouseup",y)})}setMap(e){const t=this.getMap();if(e!==t){if(t){const i=t.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(super.setMap(e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(ar(e,wa.PROPERTYCHANGE,this.handleMapPropertyChange_,this));const i=e.getView();i&&(this.bindView_(i),i.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}}handleMapPropertyChange_(e){if(e.key===In.VIEW){const t=e.oldValue;t&&this.unbindView_(t);const i=this.getMap().getView();this.bindView_(i)}else!this.ovmap_.isRendered()&&(e.key===In.TARGET||e.key===In.SIZE)&&this.ovmap_.updateSize()}bindView_(e){if(!this.view_){const t=new _a({projection:e.getProjection()});this.ovmap_.setView(t)}e.addChangeListener(Vr.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()}unbindView_(e){e.removeChangeListener(Vr.ROTATION,this.boundHandleRotationChanged_)}handleRotationChanged_(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())}validateExtent_(){const e=this.getMap(),t=this.ovmap_;if(!e.isRendered()||!t.isRendered())return;const i=e.getSize(),o=e.getView().calculateExtentInternal(i);if(this.viewExtent_&&Ti(o,this.viewExtent_))return;this.viewExtent_=o;const s=t.getSize(),l=t.getView().calculateExtentInternal(s),u=t.getPixelFromCoordinateInternal(Pa(o)),c=t.getPixelFromCoordinateInternal(Ia(o)),d=Math.abs(u[0]-c[0]),h=Math.abs(u[1]-c[1]),p=s[0],m=s[1];d<p*zt||h<m*zt||d>p*Ln||h>m*Ln?this.resetExtent_():Et(l,o)||this.recenter_()}resetExtent_(){const e=this.getMap(),t=this.ovmap_,i=e.getSize(),o=e.getView().calculateExtentInternal(i),s=t.getView(),a=Math.log(Ln/zt)/Math.LN2,l=1/(Math.pow(2,a/2)*zt);Oa(o,l),s.fitInternal(Ma(o))}recenter_(){const e=this.getMap(),t=this.ovmap_,i=e.getView();t.getView().setCenterInternal(i.getCenterInternal())}updateBox_(){const e=this.getMap(),t=this.ovmap_;if(!e.isRendered()||!t.isRendered())return;const i=e.getSize(),r=e.getView(),o=t.getView(),s=this.rotateWithView_?0:-r.getRotation(),a=this.boxOverlay_,l=this.boxOverlay_.getElement(),u=r.getCenterInternal(),c=r.getResolution(),d=o.getResolution(),h=i[0]*c/d,p=i[1]*c/d;if(a.setPosition(u),l){l.style.width=h+"px",l.style.height=p+"px";const m="rotate("+s+"rad)";l.style.transform=m}}updateBoxAfterOvmapIsRendered_(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=ka(this.ovmap_,Hi.POSTRENDER,function(e){delete this.ovmapPostrenderKey_,this.updateBox_()},this))}handleClick_(e){e.preventDefault(),this.handleToggle_()}handleToggle_(){this.element.classList.toggle(Fr),this.collapsed_?Nr(this.collapseLabel_,this.label_):Nr(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;const e=this.ovmap_;if(!this.collapsed_){if(e.isRendered()){this.viewExtent_=void 0,e.render();return}e.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())}setCollapsed(e){!this.collapsible_||this.collapsed_===e||this.handleToggle_()}getCollapsed(){return this.collapsed_}getRotateWithView(){return this.rotateWithView_}setRotateWithView(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,this.getMap().getView().getRotation()!==0&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))}getOverviewMap(){return this.ovmap_}render(e){this.validateExtent_(),this.updateBox_()}};const pc=fc,Rn="units",mc=[1,2,5],ht=25.4/.28;class gc extends Gi{constructor(e){e=e||{};const t=document.createElement("div");t.style.pointerEvents="none",super({element:t,render:e.render,target:e.target}),this.on,this.once,this.un;const i=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+Wi,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(Rn,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(Rn)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(Rn,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=e.center,i=e.projection,r=this.getUnits(),o=r=="degrees"?"degrees":"m";let s=Hn(i,e.resolution,t,o);const a=this.minWidth_*(this.dpi_||ht)/ht,l=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||ht)/ht:void 0;let u=a*s,c="";if(r=="degrees"){const E=Aa.degrees;u*=E,u<E/60?(c="″",s*=3600):u<E?(c="′",s*=60):c="°"}else if(r=="imperial")u<.9144?(c="in",s/=.0254):u<1609.344?(c="ft",s/=.3048):(c="mi",s/=1609.344);else if(r=="nautical")s/=1852,c="NM";else if(r=="metric")u<.001?(c="μm",s*=1e6):u<1?(c="mm",s*=1e3):u<1e3?c="m":(c="km",s/=1e3);else if(r=="us")u<.9144?(c="in",s*=39.37):u<1609.344?(c="ft",s/=.30480061):(c="mi",s/=1609.3472);else throw new Error("Invalid units");let d=3*Math.floor(Math.log(a*s)/Math.log(10)),h,p,m,v,g,y;for(;;){m=Math.floor(d/3);const E=Math.pow(10,m);if(h=mc[(d%3+3)%3]*E,p=Math.round(h/s),isNaN(p)){this.element.style.display="none",this.renderedVisible_=!1;return}if(l!==void 0&&p>=l){h=v,p=g,m=y;break}else if(p>=a)break;v=h,g=p,y=m,++d}const w=this.scaleBar_?this.createScaleBar(p,h,c):h.toFixed(m<0?-m:0)+" "+c;this.renderedHTML_!=w&&(this.innerElement_.innerHTML=w,this.renderedHTML_=w),this.renderedWidth_!=p&&(this.innerElement_.style.width=p+"px",this.renderedWidth_=p),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,t,i){const r=this.getScaleForResolution(),o=r<1?Math.round(1/r).toLocaleString()+" : 1":"1 : "+Math.round(r).toLocaleString(),s=this.scaleBarSteps_,a=e/s,l=[this.createMarker("absolute")];for(let c=0;c<s;++c){const d=c%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";l.push(`<div><div class="ol-scale-singlebar ${d}" style="width: ${a}px;"></div>`+this.createMarker("relative")+(c%2===0||s===2?this.createStepText(c,e,!1,t,i):"")+"</div>")}return l.push(this.createStepText(s,e,!0,t,i)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+o+"</div>":"")+l.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${e==="absolute"?3:-10}px;"></div>`}createStepText(e,t,i,r,o){const a=(e===0?0:Math.round(r/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+o),l=e===0?-3:t/this.scaleBarSteps_*-1,u=e===0?0:t/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${l}px;text-align: ${e===0?"left":"center"};min-width: ${u}px;left: ${i?t+"px":"unset"};">`+a+"</div>"}getScaleForResolution(){const e=Hn(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),t=this.dpi_||ht,i=1e3/25.4;return e*i*t}render(e){const t=e.frameState;t?this.viewState_=t.viewState:this.viewState_=null,this.updateElement_()}}const vc=gc,bc="200px",yc="300px",Sc=n=>{const{mapId:e,olLayer:t,height:i=bc,width:r=yc}=n,{containerProps:o}=Ae("overview-map",n),s=f.useRef(null),{map:a}=ve(e);return f.useEffect(()=>{if(s.current&&a&&t){const l=a.olMap,u=new pc({className:"ol-overviewmap",layers:[t],collapsible:!1,collapsed:!1,target:s.current});return l.addControl(u),()=>{l.removeControl(u)}}},[a,t]),S.jsx(U,{height:i,width:r,ref:s,...o})},Ec=n=>{const{mapId:e,displayMode:t="line"}=n,{containerProps:i}=Ae("scale-bar",n),{map:r}=ve(e),o=f.useRef(null);return f.useEffect(()=>{if(o.current&&r){const s=r.olMap,a=new vc({units:"metric",target:o.current,bar:t==="bar"});return s.addControl(a),()=>{s.removeControl(a)}}},[t,r]),S.jsx(U,{...i,ref:o})},Cc="@open-pioneer/scale-viewer",xc=Be.bind(void 0,Cc),wc=n=>{const{mapId:e}=n,{containerProps:t}=Ae("scale-viewer",n),{map:i}=ve(e),r=xc(),o=ou(i?.olMap),s=o?r.formatNumber(o):void 0;return S.jsx(U,{...t,children:s&&S.jsxs(Sn,{children:["1:",s]})})};function Xr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function T(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xr(Object(t),!0).forEach(function(i){gt(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Xr(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function _c(n){if(Array.isArray(n))return n}function Pc(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,o,s,a=[],l=!0,u=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=o.call(t)).done)&&(a.push(i.value),a.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw r}}return a}}function Kn(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function xo(n,e){if(n){if(typeof n=="string")return Kn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kn(n,e)}}function Ic(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ye(n,e){return _c(n)||Pc(n,e)||xo(n,e)||Ic()}function Ee(n,e){if(n==null)return{};var t=hl(n,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}var Oc=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Mc(n){var e=n.defaultInputValue,t=e===void 0?"":e,i=n.defaultMenuIsOpen,r=i===void 0?!1:i,o=n.defaultValue,s=o===void 0?null:o,a=n.inputValue,l=n.menuIsOpen,u=n.onChange,c=n.onInputChange,d=n.onMenuClose,h=n.onMenuOpen,p=n.value,m=Ee(n,Oc),v=f.useState(a!==void 0?a:t),g=ye(v,2),y=g[0],w=g[1],E=f.useState(l!==void 0?l:r),I=ye(E,2),L=I[0],P=I[1],A=f.useState(p!==void 0?p:s),b=ye(A,2),C=b[0],O=b[1],_=f.useCallback(function(j,G){typeof u=="function"&&u(j,G),O(j)},[u]),M=f.useCallback(function(j,G){var ie;typeof c=="function"&&(ie=c(j,G)),w(ie!==void 0?ie:j)},[c]),D=f.useCallback(function(){typeof h=="function"&&h(),P(!0)},[h]),x=f.useCallback(function(){typeof d=="function"&&d(),P(!1)},[d]),k=a!==void 0?a:y,$=l!==void 0?l:L,V=p!==void 0?p:C;return T(T({},m),{},{inputValue:k,menuIsOpen:$,onChange:_,onInputChange:M,onMenuClose:x,onMenuOpen:D,value:V})}function kc(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Jr(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Qi(i.key),i)}}function Ac(n,e,t){return e&&Jr(n.prototype,e),t&&Jr(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Dc(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Gn(n,e)}function Xt(n){return Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xt(n)}function Lc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rc(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Tc(n,e){if(e&&(je(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rc(n)}function Fc(n){var e=Lc();return function(){var i=Xt(n),r;if(e){var o=Xt(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return Tc(this,r)}}function Vc(n){if(Array.isArray(n))return Kn(n)}function Nc(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function jc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wo(n){return Vc(n)||Nc(n)||xo(n)||jc()}function Bc(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const $c=Math.min,Hc=Math.max,Jt=Math.round,Ut=Math.floor,Qt=n=>({x:n,y:n});function zc(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function _o(n){return Io(n)?(n.nodeName||"").toLowerCase():"#document"}function ue(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Po(n){var e;return(e=(Io(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Io(n){return n instanceof Node||n instanceof ue(n).Node}function Zn(n){return n instanceof Element||n instanceof ue(n).Element}function pr(n){return n instanceof HTMLElement||n instanceof ue(n).HTMLElement}function Qr(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ue(n).ShadowRoot}function Oo(n){const{overflow:e,overflowX:t,overflowY:i,display:r}=mr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(r)}function Uc(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gc(n){return["html","body","#document"].includes(_o(n))}function mr(n){return ue(n).getComputedStyle(n)}function Wc(n){if(_o(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Qr(n)&&n.host||Po(n);return Qr(e)?e.host:e}function Mo(n){const e=Wc(n);return Gc(e)?n.ownerDocument?n.ownerDocument.body:n.body:pr(e)&&Oo(e)?e:Mo(e)}function en(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=Mo(n),o=r===((i=n.ownerDocument)==null?void 0:i.body),s=ue(r);return o?e.concat(s,s.visualViewport||[],Oo(r)?r:[],s.frameElement&&t?en(s.frameElement):[]):e.concat(r,en(r,[],t))}function qc(n){const e=mr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=pr(n),o=r?n.offsetWidth:t,s=r?n.offsetHeight:i,a=Jt(t)!==o||Jt(i)!==s;return a&&(t=o,i=s),{width:t,height:i,$:a}}function gr(n){return Zn(n)?n:n.contextElement}function Tn(n){const e=gr(n);if(!pr(e))return Qt(1);const t=e.getBoundingClientRect(),{width:i,height:r,$:o}=qc(e);let s=(o?Jt(t.width):t.width)/i,a=(o?Jt(t.height):t.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Yc=Qt(0);function Kc(n){const e=ue(n);return!Uc()||!e.visualViewport?Yc:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Zc(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ue(n)?!1:e}function ei(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=gr(n);let s=Qt(1);e&&(i?Zn(i)&&(s=Tn(i)):s=Tn(n));const a=Zc(o,t,i)?Kc(o):Qt(0);let l=(r.left+a.x)/s.x,u=(r.top+a.y)/s.y,c=r.width/s.x,d=r.height/s.y;if(o){const h=ue(o),p=i&&Zn(i)?ue(i):i;let m=h.frameElement;for(;m&&i&&p!==h;){const v=Tn(m),g=m.getBoundingClientRect(),y=mr(m),w=g.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,E=g.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,u*=v.y,c*=v.x,d*=v.y,l+=w,u+=E,m=ue(m).frameElement}}return zc({width:c,height:d,x:l,y:u})}function Xc(n,e){let t=null,i;const r=Po(n);function o(){clearTimeout(i),t&&t.disconnect(),t=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:u,top:c,width:d,height:h}=n.getBoundingClientRect();if(a||e(),!d||!h)return;const p=Ut(c),m=Ut(r.clientWidth-(u+d)),v=Ut(r.clientHeight-(c+h)),g=Ut(u),w={rootMargin:-p+"px "+-m+"px "+-v+"px "+-g+"px",threshold:Hc(0,$c(1,l))||1};let E=!0;function I(L){const P=L[0].intersectionRatio;if(P!==l){if(!E)return s();P?s(!1,P):i=setTimeout(()=>{s(!1,1e-7)},100)}E=!1}try{t=new IntersectionObserver(I,{...w,root:r.ownerDocument})}catch{t=new IntersectionObserver(I,w)}t.observe(n)}return s(!0),o}function Jc(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,u=gr(n),c=r||o?[...u?en(u):[],...en(e)]:[];c.forEach(y=>{r&&y.addEventListener("scroll",t,{passive:!0}),o&&y.addEventListener("resize",t)});const d=u&&a?Xc(u,t):null;let h=-1,p=null;s&&(p=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{p&&p.observe(e)})),t()}),u&&!l&&p.observe(u),p.observe(e));let m,v=l?ei(n):null;l&&g();function g(){const y=ei(n);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&t(),v=y,m=requestAnimationFrame(g)}return t(),()=>{c.forEach(y=>{r&&y.removeEventListener("scroll",t),o&&y.removeEventListener("resize",t)}),d&&d(),p&&p.disconnect(),p=null,l&&cancelAnimationFrame(m)}}var Xn=f.useLayoutEffect,Qc=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],tn=function(){};function ed(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function td(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];var o=[].concat(i);if(e&&n)for(var s in e)e.hasOwnProperty(s)&&e[s]&&o.push("".concat(ed(n,s)));return o.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var ti=function(e){return cd(e)?e.filter(Boolean):je(e)==="object"&&e!==null?[e]:[]},ko=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=Ee(e,Qc);return T({},t)},Z=function(e,t,i){var r=e.cx,o=e.getStyles,s=e.getClassNames,a=e.className;return{css:o(t,e),className:r(i??{},s(t,e),a)}};function Cn(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function nd(n){return Cn(n)?window.innerHeight:n.clientHeight}function Ao(n){return Cn(n)?window.pageYOffset:n.scrollTop}function nn(n,e){if(Cn(n)){window.scrollTo(0,e);return}n.scrollTop=e}function rd(n){var e=getComputedStyle(n),t=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var r=n;r=r.parentElement;)if(e=getComputedStyle(r),!(t&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return r;return document.documentElement}function id(n,e,t,i){return t*((n=n/i-1)*n*n+1)+e}function Gt(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:tn,r=Ao(n),o=e-r,s=10,a=0;function l(){a+=s;var u=id(a,r,o,t);nn(n,u),a<t?window.requestAnimationFrame(l):i(n)}l()}function ni(n,e){var t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),r=e.offsetHeight/3;i.bottom+r>t.bottom?nn(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+r,n.scrollHeight)):i.top-r<t.top&&nn(n,Math.max(e.offsetTop-r,0))}function od(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function ri(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function sd(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Do=!1,ad={get passive(){return Do=!0}},Wt=typeof window<"u"?window:{};Wt.addEventListener&&Wt.removeEventListener&&(Wt.addEventListener("p",tn,ad),Wt.removeEventListener("p",tn,!1));var ld=Do;function ud(n){return n!=null}function cd(n){return Array.isArray(n)}function qt(n,e,t){return n?e:t}var dd=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];var o=Object.entries(e).filter(function(s){var a=ye(s,1),l=a[0];return!i.includes(l)});return o.reduce(function(s,a){var l=ye(a,2),u=l[0],c=l[1];return s[u]=c,s},{})},hd=["children","innerProps"],fd=["children","innerProps"];function pd(n){var e=n.maxHeight,t=n.menuEl,i=n.minHeight,r=n.placement,o=n.shouldScroll,s=n.isFixedPosition,a=n.controlHeight,l=rd(t),u={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return u;var c=l.getBoundingClientRect(),d=c.height,h=t.getBoundingClientRect(),p=h.bottom,m=h.height,v=h.top,g=t.offsetParent.getBoundingClientRect(),y=g.top,w=s?window.innerHeight:nd(l),E=Ao(l),I=parseInt(getComputedStyle(t).marginBottom,10),L=parseInt(getComputedStyle(t).marginTop,10),P=y-L,A=w-v,b=P+E,C=d-E-v,O=p-w+E+I,_=E+v-L,M=160;switch(r){case"auto":case"bottom":if(A>=m)return{placement:"bottom",maxHeight:e};if(C>=m&&!s)return o&&Gt(l,O,M),{placement:"bottom",maxHeight:e};if(!s&&C>=i||s&&A>=i){o&&Gt(l,O,M);var D=s?A-I:C-I;return{placement:"bottom",maxHeight:D}}if(r==="auto"||s){var x=e,k=s?P:b;return k>=i&&(x=Math.min(k-I-a,e)),{placement:"top",maxHeight:x}}if(r==="bottom")return o&&nn(l,O),{placement:"bottom",maxHeight:e};break;case"top":if(P>=m)return{placement:"top",maxHeight:e};if(b>=m&&!s)return o&&Gt(l,_,M),{placement:"top",maxHeight:e};if(!s&&b>=i||s&&P>=i){var $=e;return(!s&&b>=i||s&&P>=i)&&($=s?P-L:b-L),o&&Gt(l,_,M),{placement:"top",maxHeight:$}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return u}function md(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var Lo=function(e){return e==="auto"?"bottom":e},gd=function(e,t){var i,r=e.placement,o=e.theme,s=o.borderRadius,a=o.spacing,l=o.colors;return T((i={label:"menu"},gt(i,md(r),"100%"),gt(i,"position","absolute"),gt(i,"width","100%"),gt(i,"zIndex",1),i),t?{}:{backgroundColor:l.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},Ro=f.createContext(null),vd=function(e){var t=e.children,i=e.minMenuHeight,r=e.maxMenuHeight,o=e.menuPlacement,s=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,u=f.useContext(Ro)||{},c=u.setPortalPlacement,d=f.useRef(null),h=f.useState(r),p=ye(h,2),m=p[0],v=p[1],g=f.useState(null),y=ye(g,2),w=y[0],E=y[1],I=l.spacing.controlHeight;return Xn(function(){var L=d.current;if(L){var P=s==="fixed",A=a&&!P,b=pd({maxHeight:r,menuEl:L,minHeight:i,placement:o,shouldScroll:A,isFixedPosition:P,controlHeight:I});v(b.maxHeight),E(b.placement),c?.(b.placement)}},[r,o,s,a,i,c,I]),t({ref:d,placerProps:T(T({},e),{},{placement:w||Lo(o),maxHeight:m})})},bd=function(e){var t=e.children,i=e.innerRef,r=e.innerProps;return F("div",N({},Z(e,"menu",{menu:!0}),{ref:i},r),t)},yd=bd,Sd=function(e,t){var i=e.maxHeight,r=e.theme.spacing.baseUnit;return T({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},Ed=function(e){var t=e.children,i=e.innerProps,r=e.innerRef,o=e.isMulti;return F("div",N({},Z(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:r},i),t)},To=function(e,t){var i=e.theme,r=i.spacing.baseUnit,o=i.colors;return T({textAlign:"center"},t?{}:{color:o.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},Cd=To,xd=To,wd=function(e){var t=e.children,i=t===void 0?"No options":t,r=e.innerProps,o=Ee(e,hd);return F("div",N({},Z(T(T({},o),{},{children:i,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),i)},_d=function(e){var t=e.children,i=t===void 0?"Loading...":t,r=e.innerProps,o=Ee(e,fd);return F("div",N({},Z(T(T({},o),{},{children:i,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),i)},Pd=function(e){var t=e.rect,i=e.offset,r=e.position;return{left:t.left,position:r,top:i,width:t.width,zIndex:1}},Id=function(e){var t=e.appendTo,i=e.children,r=e.controlElement,o=e.innerProps,s=e.menuPlacement,a=e.menuPosition,l=f.useRef(null),u=f.useRef(null),c=f.useState(Lo(s)),d=ye(c,2),h=d[0],p=d[1],m=f.useMemo(function(){return{setPortalPlacement:p}},[]),v=f.useState(null),g=ye(v,2),y=g[0],w=g[1],E=f.useCallback(function(){if(r){var A=od(r),b=a==="fixed"?0:window.pageYOffset,C=A[h]+b;(C!==y?.offset||A.left!==y?.rect.left||A.width!==y?.rect.width)&&w({offset:C,rect:A})}},[r,a,h,y?.offset,y?.rect.left,y?.rect.width]);Xn(function(){E()},[E]);var I=f.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),r&&l.current&&(u.current=Jc(r,l.current,E,{elementResize:"ResizeObserver"in window}))},[r,E]);Xn(function(){I()},[I]);var L=f.useCallback(function(A){l.current=A,I()},[I]);if(!t&&a!=="fixed"||!y)return null;var P=F("div",N({ref:L},Z(T(T({},e),{},{offset:y.offset,position:a,rect:y.rect}),"menuPortal",{"menu-portal":!0}),o),i);return F(Ro.Provider,{value:m},t?Cs.createPortal(P,t):P)},Od=function(e){var t=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},Md=function(e){var t=e.children,i=e.innerProps,r=e.isDisabled,o=e.isRtl;return F("div",N({},Z(e,"container",{"--is-disabled":r,"--is-rtl":o}),i),t)},kd=function(e,t){var i=e.theme.spacing,r=e.isMulti,o=e.hasValue,s=e.selectProps.controlShouldRenderValue;return T({alignItems:"center",display:r&&o&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},Ad=function(e){var t=e.children,i=e.innerProps,r=e.isMulti,o=e.hasValue;return F("div",N({},Z(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":o}),i),t)},Dd=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Ld=function(e){var t=e.children,i=e.innerProps;return F("div",N({},Z(e,"indicatorsContainer",{indicators:!0}),i),t)},ii,Rd=["size"],Td=["innerProps","isRtl","size"],Fd={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Fo=function(e){var t=e.size,i=Ee(e,Rd);return F("svg",N({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Fd},i))},vr=function(e){return F(Fo,N({size:20},e),F("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Vo=function(e){return F(Fo,N({size:20},e),F("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},No=function(e,t){var i=e.isFocused,r=e.theme,o=r.spacing.baseUnit,s=r.colors;return T({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:i?s.neutral60:s.neutral20,padding:o*2,":hover":{color:i?s.neutral80:s.neutral40}})},Vd=No,Nd=function(e){var t=e.children,i=e.innerProps;return F("div",N({},Z(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),t||F(Vo,null))},jd=No,Bd=function(e){var t=e.children,i=e.innerProps;return F("div",N({},Z(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),t||F(vr,null))},$d=function(e,t){var i=e.isDisabled,r=e.theme,o=r.spacing.baseUnit,s=r.colors;return T({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:i?s.neutral10:s.neutral20,marginBottom:o*2,marginTop:o*2})},Hd=function(e){var t=e.innerProps;return F("span",N({},t,Z(e,"indicatorSeparator",{"indicator-separator":!0})))},zd=Es(ii||(ii=Bc([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Ud=function(e,t){var i=e.isFocused,r=e.size,o=e.theme,s=o.colors,a=o.spacing.baseUnit;return T({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:i?s.neutral60:s.neutral20,padding:a*2})},Fn=function(e){var t=e.delay,i=e.offset;return F("span",{css:Oi({animation:"".concat(zd," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Gd=function(e){var t=e.innerProps,i=e.isRtl,r=e.size,o=r===void 0?4:r,s=Ee(e,Td);return F("div",N({},Z(T(T({},s),{},{innerProps:t,isRtl:i,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),F(Fn,{delay:0,offset:i}),F(Fn,{delay:160,offset:!0}),F(Fn,{delay:320,offset:!i}))},Wd=function(e,t){var i=e.isDisabled,r=e.isFocused,o=e.theme,s=o.colors,a=o.borderRadius,l=o.spacing;return T({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:i?s.neutral5:s.neutral0,borderColor:i?s.neutral10:r?s.primary:s.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:r?s.primary:s.neutral30}})},qd=function(e){var t=e.children,i=e.isDisabled,r=e.isFocused,o=e.innerRef,s=e.innerProps,a=e.menuIsOpen;return F("div",N({ref:o},Z(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":r,"control--menu-is-open":a}),s,{"aria-disabled":i||void 0}),t)},Yd=qd,Kd=["data"],Zd=function(e,t){var i=e.theme.spacing;return t?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},Xd=function(e){var t=e.children,i=e.cx,r=e.getStyles,o=e.getClassNames,s=e.Heading,a=e.headingProps,l=e.innerProps,u=e.label,c=e.theme,d=e.selectProps;return F("div",N({},Z(e,"group",{group:!0}),l),F(s,N({},a,{selectProps:d,theme:c,getStyles:r,getClassNames:o,cx:i}),u),F("div",null,t))},Jd=function(e,t){var i=e.theme,r=i.colors,o=i.spacing;return T({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},Qd=function(e){var t=ko(e);t.data;var i=Ee(t,Kd);return F("div",N({},Z(e,"groupHeading",{"group-heading":!0}),i))},eh=Xd,th=["innerRef","isDisabled","isHidden","inputClassName"],nh=function(e,t){var i=e.isDisabled,r=e.value,o=e.theme,s=o.spacing,a=o.colors;return T(T({visibility:i?"hidden":"visible",transform:r?"translateZ(0)":""},rh),t?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:a.neutral80})},jo={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},rh={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":T({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},jo)},ih=function(e){return T({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},jo)},oh=function(e){var t=e.cx,i=e.value,r=ko(e),o=r.innerRef,s=r.isDisabled,a=r.isHidden,l=r.inputClassName,u=Ee(r,th);return F("div",N({},Z(e,"input",{"input-container":!0}),{"data-value":i||""}),F("input",N({className:t({input:!0},l),ref:o,style:ih(a),disabled:s},u)))},sh=oh,ah=function(e,t){var i=e.theme,r=i.spacing,o=i.borderRadius,s=i.colors;return T({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:s.neutral10,borderRadius:o/2,margin:r.baseUnit/2})},lh=function(e,t){var i=e.theme,r=i.borderRadius,o=i.colors,s=e.cropWithEllipsis;return T({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},uh=function(e,t){var i=e.theme,r=i.spacing,o=i.borderRadius,s=i.colors,a=e.isFocused;return T({alignItems:"center",display:"flex"},t?{}:{borderRadius:o/2,backgroundColor:a?s.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},Bo=function(e){var t=e.children,i=e.innerProps;return F("div",i,t)},ch=Bo,dh=Bo;function hh(n){var e=n.children,t=n.innerProps;return F("div",N({role:"button"},t),e||F(vr,{size:14}))}var fh=function(e){var t=e.children,i=e.components,r=e.data,o=e.innerProps,s=e.isDisabled,a=e.removeProps,l=e.selectProps,u=i.Container,c=i.Label,d=i.Remove;return F(u,{data:r,innerProps:T(T({},Z(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),o),selectProps:l},F(c,{data:r,innerProps:T({},Z(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},t),F(d,{data:r,innerProps:T(T({},Z(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:l}))},ph=fh,mh=function(e,t){var i=e.isDisabled,r=e.isFocused,o=e.isSelected,s=e.theme,a=s.spacing,l=s.colors;return T({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:o?l.primary:r?l.primary25:"transparent",color:i?l.neutral20:o?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:o?l.primary:l.primary50}})},gh=function(e){var t=e.children,i=e.isDisabled,r=e.isFocused,o=e.isSelected,s=e.innerRef,a=e.innerProps;return F("div",N({},Z(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":r,"option--is-selected":o}),{ref:s,"aria-disabled":i},a),t)},vh=gh,bh=function(e,t){var i=e.theme,r=i.spacing,o=i.colors;return T({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:o.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},yh=function(e){var t=e.children,i=e.innerProps;return F("div",N({},Z(e,"placeholder",{placeholder:!0}),i),t)},Sh=yh,Eh=function(e,t){var i=e.isDisabled,r=e.theme,o=r.spacing,s=r.colors;return T({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:i?s.neutral40:s.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},Ch=function(e){var t=e.children,i=e.isDisabled,r=e.innerProps;return F("div",N({},Z(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),r),t)},xh=Ch,wh={ClearIndicator:Bd,Control:Yd,DropdownIndicator:Nd,DownChevron:Vo,CrossIcon:vr,Group:eh,GroupHeading:Qd,IndicatorsContainer:Ld,IndicatorSeparator:Hd,Input:sh,LoadingIndicator:Gd,Menu:yd,MenuList:Ed,MenuPortal:Id,LoadingMessage:_d,NoOptionsMessage:wd,MultiValue:ph,MultiValueContainer:ch,MultiValueLabel:dh,MultiValueRemove:hh,Option:vh,Placeholder:Sh,SelectContainer:Md,SingleValue:xh,ValueContainer:Ad},_h=function(e){return T(T({},wh),e.components)},oi=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Ph(n,e){return!!(n===e||oi(n)&&oi(e))}function Ih(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!Ph(n[t],e[t]))return!1;return!0}function Oh(n,e){e===void 0&&(e=Ih);var t=null;function i(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(t&&t.lastThis===this&&e(r,t.lastArgs))return t.lastResult;var s=n.apply(this,r);return t={lastResult:s,lastArgs:r,lastThis:this},s}return i.clear=function(){t=null},i}var Mh={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},kh=function(e){return F("span",N({css:Mh},e))},si=kh,Ah={guidance:function(e){var t=e.isSearchable,i=e.isMulti,r=e.isDisabled,o=e.tabSelectsValue,s=e.context;switch(s){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,i=e.label,r=i===void 0?"":i,o=e.labels,s=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return s?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(e){var t=e.context,i=e.focused,r=e.options,o=e.label,s=o===void 0?"":o,a=e.selectValue,l=e.isDisabled,u=e.isSelected,c=function(m,v){return m&&m.length?"".concat(m.indexOf(v)+1," of ").concat(m.length):""};if(t==="value"&&a)return"value ".concat(s," focused, ").concat(c(a,i),".");if(t==="menu"){var d=l?" disabled":"",h="".concat(u?"selected":"focused").concat(d);return"option ".concat(s," ").concat(h,", ").concat(c(r,i),".")}return""},onFilter:function(e){var t=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(t?" for search term "+t:"",".")}},Dh=function(e){var t=e.ariaSelection,i=e.focusedOption,r=e.focusedValue,o=e.focusableOptions,s=e.isFocused,a=e.selectValue,l=e.selectProps,u=e.id,c=l.ariaLiveMessages,d=l.getOptionLabel,h=l.inputValue,p=l.isMulti,m=l.isOptionDisabled,v=l.isSearchable,g=l.menuIsOpen,y=l.options,w=l.screenReaderStatus,E=l.tabSelectsValue,I=l["aria-label"],L=l["aria-live"],P=f.useMemo(function(){return T(T({},Ah),c||{})},[c]),A=f.useMemo(function(){var x="";if(t&&P.onChange){var k=t.option,$=t.options,V=t.removedValue,j=t.removedValues,G=t.value,ie=function(ae){return Array.isArray(ae)?null:ae},be=V||k||ie(G),J=be?d(be):"",W=$||j||void 0,Y=W?W.map(d):[],re=T({isDisabled:be&&m(be,a),label:J,labels:Y},t);x=P.onChange(re)}return x},[t,P,m,a,d]),b=f.useMemo(function(){var x="",k=i||r,$=!!(i&&a&&a.includes(i));if(k&&P.onFocus){var V={focused:k,label:d(k),isDisabled:m(k,a),isSelected:$,options:o,context:k===i?"menu":"value",selectValue:a};x=P.onFocus(V)}return x},[i,r,d,m,P,o,a]),C=f.useMemo(function(){var x="";if(g&&y.length&&P.onFilter){var k=w({count:o.length});x=P.onFilter({inputValue:h,resultsMessage:k})}return x},[o,h,g,P,y,w]),O=f.useMemo(function(){var x="";if(P.guidance){var k=r?"value":g?"menu":"input";x=P.guidance({"aria-label":I,context:k,isDisabled:i&&m(i,a),isMulti:p,isSearchable:v,tabSelectsValue:E})}return x},[I,i,r,p,m,v,g,P,a,E]),_="".concat(b," ").concat(C," ").concat(O),M=F(f.Fragment,null,F("span",{id:"aria-selection"},A),F("span",{id:"aria-context"},_)),D=t?.action==="initial-input-focus";return F(f.Fragment,null,F(si,{id:u},D&&M),F(si,{"aria-live":L,"aria-atomic":"false","aria-relevant":"additions text"},s&&!D&&M))},Lh=Dh,Jn=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Rh=new RegExp("["+Jn.map(function(n){return n.letters}).join("")+"]","g"),$o={};for(var Vn=0;Vn<Jn.length;Vn++)for(var Nn=Jn[Vn],jn=0;jn<Nn.letters.length;jn++)$o[Nn.letters[jn]]=Nn.base;var Ho=function(e){return e.replace(Rh,function(t){return $o[t]})},Th=Oh(Ho),ai=function(e){return e.replace(/^\s+|\s+$/g,"")},Fh=function(e){return"".concat(e.label," ").concat(e.value)},Vh=function(e){return function(t,i){if(t.data.__isNew__)return!0;var r=T({ignoreCase:!0,ignoreAccents:!0,stringify:Fh,trim:!0,matchFrom:"any"},e),o=r.ignoreCase,s=r.ignoreAccents,a=r.stringify,l=r.trim,u=r.matchFrom,c=l?ai(i):i,d=l?ai(a(t)):a(t);return o&&(c=c.toLowerCase(),d=d.toLowerCase()),s&&(c=Th(c),d=Ho(d)),u==="start"?d.substr(0,c.length)===c:d.indexOf(c)>-1}},Nh=["innerRef"];function jh(n){var e=n.innerRef,t=Ee(n,Nh),i=dd(t,"onExited","in","enter","exit","appear");return F("input",N({ref:e},i,{css:Oi({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Bh=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function $h(n){var e=n.isEnabled,t=n.onBottomArrive,i=n.onBottomLeave,r=n.onTopArrive,o=n.onTopLeave,s=f.useRef(!1),a=f.useRef(!1),l=f.useRef(0),u=f.useRef(null),c=f.useCallback(function(g,y){if(u.current!==null){var w=u.current,E=w.scrollTop,I=w.scrollHeight,L=w.clientHeight,P=u.current,A=y>0,b=I-L-E,C=!1;b>y&&s.current&&(i&&i(g),s.current=!1),A&&a.current&&(o&&o(g),a.current=!1),A&&y>b?(t&&!s.current&&t(g),P.scrollTop=I,C=!0,s.current=!0):!A&&-y>E&&(r&&!a.current&&r(g),P.scrollTop=0,C=!0,a.current=!0),C&&Bh(g)}},[t,i,r,o]),d=f.useCallback(function(g){c(g,g.deltaY)},[c]),h=f.useCallback(function(g){l.current=g.changedTouches[0].clientY},[]),p=f.useCallback(function(g){var y=l.current-g.changedTouches[0].clientY;c(g,y)},[c]),m=f.useCallback(function(g){if(g){var y=ld?{passive:!1}:!1;g.addEventListener("wheel",d,y),g.addEventListener("touchstart",h,y),g.addEventListener("touchmove",p,y)}},[p,h,d]),v=f.useCallback(function(g){g&&(g.removeEventListener("wheel",d,!1),g.removeEventListener("touchstart",h,!1),g.removeEventListener("touchmove",p,!1))},[p,h,d]);return f.useEffect(function(){if(e){var g=u.current;return m(g),function(){v(g)}}},[e,m,v]),function(g){u.current=g}}var li=["boxSizing","height","overflow","paddingRight","position"],ui={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ci(n){n.preventDefault()}function di(n){n.stopPropagation()}function hi(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function fi(){return"ontouchstart"in window||navigator.maxTouchPoints}var pi=!!(typeof window<"u"&&window.document&&window.document.createElement),ft=0,He={capture:!1,passive:!1};function Hh(n){var e=n.isEnabled,t=n.accountForScrollbars,i=t===void 0?!0:t,r=f.useRef({}),o=f.useRef(null),s=f.useCallback(function(l){if(pi){var u=document.body,c=u&&u.style;if(i&&li.forEach(function(m){var v=c&&c[m];r.current[m]=v}),i&&ft<1){var d=parseInt(r.current.paddingRight,10)||0,h=document.body?document.body.clientWidth:0,p=window.innerWidth-h+d||0;Object.keys(ui).forEach(function(m){var v=ui[m];c&&(c[m]=v)}),c&&(c.paddingRight="".concat(p,"px"))}u&&fi()&&(u.addEventListener("touchmove",ci,He),l&&(l.addEventListener("touchstart",hi,He),l.addEventListener("touchmove",di,He))),ft+=1}},[i]),a=f.useCallback(function(l){if(pi){var u=document.body,c=u&&u.style;ft=Math.max(ft-1,0),i&&ft<1&&li.forEach(function(d){var h=r.current[d];c&&(c[d]=h)}),u&&fi()&&(u.removeEventListener("touchmove",ci,He),l&&(l.removeEventListener("touchstart",hi,He),l.removeEventListener("touchmove",di,He)))}},[i]);return f.useEffect(function(){if(e){var l=o.current;return s(l),function(){a(l)}}},[e,s,a]),function(l){o.current=l}}var zh=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Uh={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Gh(n){var e=n.children,t=n.lockEnabled,i=n.captureEnabled,r=i===void 0?!0:i,o=n.onBottomArrive,s=n.onBottomLeave,a=n.onTopArrive,l=n.onTopLeave,u=$h({isEnabled:r,onBottomArrive:o,onBottomLeave:s,onTopArrive:a,onTopLeave:l}),c=Hh({isEnabled:t}),d=function(p){u(p),c(p)};return F(f.Fragment,null,t&&F("div",{onClick:zh,css:Uh}),e(d))}var Wh={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},qh=function(e){var t=e.name,i=e.onFocus;return F("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:Wh,value:"",onChange:function(){}})},Yh=qh,Kh=function(e){return e.label},Zh=function(e){return e.label},Xh=function(e){return e.value},Jh=function(e){return!!e.isDisabled},Qh={clearIndicator:jd,container:Od,control:Wd,dropdownIndicator:Vd,group:Zd,groupHeading:Jd,indicatorsContainer:Dd,indicatorSeparator:$d,input:nh,loadingIndicator:Ud,loadingMessage:xd,menu:gd,menuList:Sd,menuPortal:Pd,multiValue:ah,multiValueLabel:lh,multiValueRemove:uh,noOptionsMessage:Cd,option:mh,placeholder:bh,singleValue:Eh,valueContainer:kd},ef={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},tf=4,zo=4,nf=38,rf=zo*2,of={baseUnit:zo,controlHeight:nf,menuGutter:rf},Bn={borderRadius:tf,colors:ef,spacing:of},sf={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:ri(),captureMenuScroll:!ri(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Vh(),formatGroupLabel:Kh,getOptionLabel:Zh,getOptionValue:Xh,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Jh,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!sd(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function mi(n,e,t,i){var r=qo(n,e,t),o=Yo(n,e,t),s=Wo(n,e),a=rn(n,e);return{type:"option",data:e,isDisabled:r,isSelected:o,label:s,value:a,index:i}}function Uo(n,e){return n.options.map(function(t,i){if("options"in t){var r=t.options.map(function(s,a){return mi(n,s,e,a)}).filter(function(s){return gi(n,s)});return r.length>0?{type:"group",data:t,options:r,index:i}:void 0}var o=mi(n,t,e,i);return gi(n,o)?o:void 0}).filter(ud)}function Go(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,wo(t.options.map(function(i){return i.data}))):e.push(t.data),e},[])}function af(n,e){return Go(Uo(n,e))}function gi(n,e){var t=n.inputValue,i=t===void 0?"":t,r=e.data,o=e.isSelected,s=e.label,a=e.value;return(!Zo(n)||!o)&&Ko(n,{label:s,value:a,data:r},i)}function lf(n,e){var t=n.focusedValue,i=n.selectValue,r=i.indexOf(t);if(r>-1){var o=e.indexOf(t);if(o>-1)return t;if(r<e.length)return e[r]}return null}function uf(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var Wo=function(e,t){return e.getOptionLabel(t)},rn=function(e,t){return e.getOptionValue(t)};function qo(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function Yo(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var i=rn(n,e);return t.some(function(r){return rn(n,r)===i})}function Ko(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var Zo=function(e){var t=e.hideSelectedOptions,i=e.isMulti;return t===void 0?i:t},cf=1,Xo=function(n){Dc(t,n);var e=Fc(t);function t(i){var r;if(kc(this,t),r=e.call(this,i),r.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(a){r.controlRef=a},r.focusedOptionRef=null,r.getFocusedOptionRef=function(a){r.focusedOptionRef=a},r.menuListRef=null,r.getMenuListRef=function(a){r.menuListRef=a},r.inputRef=null,r.getInputRef=function(a){r.inputRef=a},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(a,l){var u=r.props,c=u.onChange,d=u.name;l.name=d,r.ariaOnChange(a,l),c(a,l)},r.setValue=function(a,l,u){var c=r.props,d=c.closeMenuOnSelect,h=c.isMulti,p=c.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:p}),d&&(r.setState({inputIsHiddenAfterUpdate:!h}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(a,{action:l,option:u})},r.selectOption=function(a){var l=r.props,u=l.blurInputOnSelect,c=l.isMulti,d=l.name,h=r.state.selectValue,p=c&&r.isOptionSelected(a,h),m=r.isOptionDisabled(a,h);if(p){var v=r.getOptionValue(a);r.setValue(h.filter(function(g){return r.getOptionValue(g)!==v}),"deselect-option",a)}else if(!m)c?r.setValue([].concat(wo(h),[a]),"select-option",a):r.setValue(a,"select-option");else{r.ariaOnChange(a,{action:"select-option",option:a,name:d});return}u&&r.blurInput()},r.removeValue=function(a){var l=r.props.isMulti,u=r.state.selectValue,c=r.getOptionValue(a),d=u.filter(function(p){return r.getOptionValue(p)!==c}),h=qt(l,d,d[0]||null);r.onChange(h,{action:"remove-value",removedValue:a}),r.focusInput()},r.clearValue=function(){var a=r.state.selectValue;r.onChange(qt(r.props.isMulti,[],null),{action:"clear",removedValues:a})},r.popValue=function(){var a=r.props.isMulti,l=r.state.selectValue,u=l[l.length-1],c=l.slice(0,l.length-1),d=qt(a,c,c[0]||null);r.onChange(d,{action:"pop-value",removedValue:u})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return td.apply(void 0,[r.props.classNamePrefix].concat(l))},r.getOptionLabel=function(a){return Wo(r.props,a)},r.getOptionValue=function(a){return rn(r.props,a)},r.getStyles=function(a,l){var u=r.props.unstyled,c=Qh[a](l,u);c.boxSizing="border-box";var d=r.props.styles[a];return d?d(c,l):c},r.getClassNames=function(a,l){var u,c;return(u=(c=r.props.classNames)[a])===null||u===void 0?void 0:u.call(c,l)},r.getElementId=function(a){return"".concat(r.instancePrefix,"-").concat(a)},r.getComponents=function(){return _h(r.props)},r.buildCategorizedOptions=function(){return Uo(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return Go(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(a,l){r.setState({ariaSelection:T({value:a},l)})},r.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(a){r.blockOptionHover=!1},r.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&r.onMenuClose():l&&r.openMenu("first"):(l&&(r.openAfterFocus=!0),r.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},r.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!r.props.isDisabled){var l=r.props,u=l.isMulti,c=l.menuIsOpen;r.focusInput(),c?(r.setState({inputIsHiddenAfterUpdate:!u}),r.onMenuClose()):r.openMenu("first"),a.preventDefault()}},r.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(r.clearValue(),a.preventDefault(),r.openAfterFocus=!1,a.type==="touchend"?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(a){typeof r.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Cn(a.target)&&r.props.onMenuClose():typeof r.props.closeMenuOnScroll=="function"&&r.props.closeMenuOnScroll(a)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(a){var l=a.touches,u=l&&l.item(0);u&&(r.initialTouchX=u.clientX,r.initialTouchY=u.clientY,r.userIsDragging=!1)},r.onTouchMove=function(a){var l=a.touches,u=l&&l.item(0);if(u){var c=Math.abs(u.clientX-r.initialTouchX),d=Math.abs(u.clientY-r.initialTouchY),h=5;r.userIsDragging=c>h||d>h}},r.onTouchEnd=function(a){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(a.target)&&r.menuListRef&&!r.menuListRef.contains(a.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(a){r.userIsDragging||r.onControlMouseDown(a)},r.onClearIndicatorTouchEnd=function(a){r.userIsDragging||r.onClearIndicatorMouseDown(a)},r.onDropdownIndicatorTouchEnd=function(a){r.userIsDragging||r.onDropdownIndicatorMouseDown(a)},r.handleInputChange=function(a){var l=r.props.inputValue,u=a.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(u,{action:"input-change",prevInputValue:l}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(a){r.props.onFocus&&r.props.onFocus(a),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(a){var l=r.props.inputValue;if(r.menuListRef&&r.menuListRef.contains(document.activeElement)){r.inputRef.focus();return}r.props.onBlur&&r.props.onBlur(a),r.onInputChange("",{action:"input-blur",prevInputValue:l}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1})},r.onOptionHover=function(a){r.blockOptionHover||r.state.focusedOption===a||r.setState({focusedOption:a})},r.shouldHideSelectedOptions=function(){return Zo(r.props)},r.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),r.focus()},r.onKeyDown=function(a){var l=r.props,u=l.isMulti,c=l.backspaceRemovesValue,d=l.escapeClearsValue,h=l.inputValue,p=l.isClearable,m=l.isDisabled,v=l.menuIsOpen,g=l.onKeyDown,y=l.tabSelectsValue,w=l.openMenuOnFocus,E=r.state,I=E.focusedOption,L=E.focusedValue,P=E.selectValue;if(!m&&!(typeof g=="function"&&(g(a),a.defaultPrevented))){switch(r.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||h)return;r.focusValue("previous");break;case"ArrowRight":if(!u||h)return;r.focusValue("next");break;case"Delete":case"Backspace":if(h)return;if(L)r.removeValue(L);else{if(!c)return;u?r.popValue():p&&r.clearValue()}break;case"Tab":if(r.isComposing||a.shiftKey||!v||!y||!I||w&&r.isOptionSelected(I,P))return;r.selectOption(I);break;case"Enter":if(a.keyCode===229)break;if(v){if(!I||r.isComposing)return;r.selectOption(I);break}return;case"Escape":v?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:h}),r.onMenuClose()):p&&d&&r.clearValue();break;case" ":if(h)return;if(!v){r.openMenu("first");break}if(!I)return;r.selectOption(I);break;case"ArrowUp":v?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":v?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!v)return;r.focusOption("pageup");break;case"PageDown":if(!v)return;r.focusOption("pagedown");break;case"Home":if(!v)return;r.focusOption("first");break;case"End":if(!v)return;r.focusOption("last");break;default:return}a.preventDefault()}},r.instancePrefix="react-select-"+(r.props.instanceId||++cf),r.state.selectValue=ti(i.value),i.menuIsOpen&&r.state.selectValue.length){var o=r.buildFocusableOptions(),s=o.indexOf(r.state.selectValue[0]);r.state.focusedOption=o[s]}return r}return Ac(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&ni(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(r){var o=this.props,s=o.isDisabled,a=o.menuIsOpen,l=this.state.isFocused;(l&&!s&&r.isDisabled||l&&a&&!r.menuIsOpen)&&this.focusInput(),l&&s&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!s&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ni(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,o){this.props.onInputChange(r,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var o=this,s=this.state,a=s.selectValue,l=s.isFocused,u=this.buildFocusableOptions(),c=r==="first"?0:u.length-1;if(!this.props.isMulti){var d=u.indexOf(a[0]);d>-1&&(c=d)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c]},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(r){var o=this.state,s=o.selectValue,a=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=s.indexOf(a);a||(l=-1);var u=s.length-1,c=-1;if(s.length){switch(r){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:s[c]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,s=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,u=a.indexOf(s);s||(u=-1),r==="up"?l=u>0?u-1:a.length-1:r==="down"?l=(u+1)%a.length:r==="pageup"?(l=u-o,l<0&&(l=0)):r==="pagedown"?(l=u+o,l>a.length-1&&(l=a.length-1)):r==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Bn):T(T({},Bn),this.props.theme):Bn}},{key:"getCommonProps",value:function(){var r=this.clearValue,o=this.cx,s=this.getStyles,a=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,d=this.props,h=d.isMulti,p=d.isRtl,m=d.options,v=this.hasValue();return{clearValue:r,cx:o,getStyles:s,getClassNames:a,getValue:l,hasValue:v,isMulti:h,isRtl:p,options:m,selectOption:u,selectProps:d,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,o=r.isClearable,s=r.isMulti;return o===void 0?s:o}},{key:"isOptionDisabled",value:function(r,o){return qo(this.props,r,o)}},{key:"isOptionSelected",value:function(r,o){return Yo(this.props,r,o)}},{key:"filterOption",value:function(r,o){return Ko(this.props,r,o)}},{key:"formatOptionLabel",value:function(r,o){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(r,{context:o,inputValue:s,selectValue:a})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,o=r.isDisabled,s=r.isSearchable,a=r.inputId,l=r.inputValue,u=r.tabIndex,c=r.form,d=r.menuIsOpen,h=r.required,p=this.getComponents(),m=p.Input,v=this.state,g=v.inputIsHidden,y=v.ariaSelection,w=this.commonProps,E=a||this.getElementId("input"),I=T(T(T({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":h,role:"combobox"},d&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!s&&{"aria-readonly":!0}),this.hasValue()?y?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return s?f.createElement(m,N({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:E,innerRef:this.getInputRef,isDisabled:o,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},I)):f.createElement(jh,N({id:E,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:tn,onFocus:this.onInputFocus,disabled:o,tabIndex:u,inputMode:"none",form:c,value:""},I))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,o=this.getComponents(),s=o.MultiValue,a=o.MultiValueContainer,l=o.MultiValueLabel,u=o.MultiValueRemove,c=o.SingleValue,d=o.Placeholder,h=this.commonProps,p=this.props,m=p.controlShouldRenderValue,v=p.isDisabled,g=p.isMulti,y=p.inputValue,w=p.placeholder,E=this.state,I=E.selectValue,L=E.focusedValue,P=E.isFocused;if(!this.hasValue()||!m)return y?null:f.createElement(d,N({},h,{key:"placeholder",isDisabled:v,isFocused:P,innerProps:{id:this.getElementId("placeholder")}}),w);if(g)return I.map(function(b,C){var O=b===L,_="".concat(r.getOptionLabel(b),"-").concat(r.getOptionValue(b));return f.createElement(s,N({},h,{components:{Container:a,Label:l,Remove:u},isFocused:O,isDisabled:v,key:_,index:C,removeProps:{onClick:function(){return r.removeValue(b)},onTouchEnd:function(){return r.removeValue(b)},onMouseDown:function(D){D.preventDefault()}},data:b}),r.formatOptionLabel(b,"value"))});if(y)return null;var A=I[0];return f.createElement(c,N({},h,{data:A,isDisabled:v}),this.formatOptionLabel(A,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),o=r.ClearIndicator,s=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!this.isClearable()||!o||l||!this.hasValue()||u)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return f.createElement(o,N({},s,{innerProps:d,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),o=r.LoadingIndicator,s=this.commonProps,a=this.props,l=a.isDisabled,u=a.isLoading,c=this.state.isFocused;if(!o||!u)return null;var d={"aria-hidden":"true"};return f.createElement(o,N({},s,{innerProps:d,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),o=r.DropdownIndicator,s=r.IndicatorSeparator;if(!o||!s)return null;var a=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return f.createElement(s,N({},a,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),o=r.DropdownIndicator;if(!o)return null;var s=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return f.createElement(o,N({},s,{innerProps:u,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var r=this,o=this.getComponents(),s=o.Group,a=o.GroupHeading,l=o.Menu,u=o.MenuList,c=o.MenuPortal,d=o.LoadingMessage,h=o.NoOptionsMessage,p=o.Option,m=this.commonProps,v=this.state.focusedOption,g=this.props,y=g.captureMenuScroll,w=g.inputValue,E=g.isLoading,I=g.loadingMessage,L=g.minMenuHeight,P=g.maxMenuHeight,A=g.menuIsOpen,b=g.menuPlacement,C=g.menuPosition,O=g.menuPortalTarget,_=g.menuShouldBlockScroll,M=g.menuShouldScrollIntoView,D=g.noOptionsMessage,x=g.onMenuScrollToTop,k=g.onMenuScrollToBottom;if(!A)return null;var $=function(W,Y){var re=W.type,oe=W.data,ae=W.isDisabled,Ce=W.isSelected,Lt=W.label,ss=W.value,Sr=v===oe,Er=ae?void 0:function(){return r.onOptionHover(oe)},as=ae?void 0:function(){return r.selectOption(oe)},Cr="".concat(r.getElementId("option"),"-").concat(Y),ls={id:Cr,onClick:as,onMouseMove:Er,onMouseOver:Er,tabIndex:-1};return f.createElement(p,N({},m,{innerProps:ls,data:oe,isDisabled:ae,isSelected:Ce,key:Cr,label:Lt,type:re,value:ss,isFocused:Sr,innerRef:Sr?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(W.data,"menu"))},V;if(this.hasOptions())V=this.getCategorizedOptions().map(function(J){if(J.type==="group"){var W=J.data,Y=J.options,re=J.index,oe="".concat(r.getElementId("group"),"-").concat(re),ae="".concat(oe,"-heading");return f.createElement(s,N({},m,{key:oe,data:W,options:Y,Heading:a,headingProps:{id:ae,data:J.data},label:r.formatGroupLabel(J.data)}),J.options.map(function(Ce){return $(Ce,"".concat(re,"-").concat(Ce.index))}))}else if(J.type==="option")return $(J,"".concat(J.index))});else if(E){var j=I({inputValue:w});if(j===null)return null;V=f.createElement(d,m,j)}else{var G=D({inputValue:w});if(G===null)return null;V=f.createElement(h,m,G)}var ie={minMenuHeight:L,maxMenuHeight:P,menuPlacement:b,menuPosition:C,menuShouldScrollIntoView:M},be=f.createElement(vd,N({},m,ie),function(J){var W=J.ref,Y=J.placerProps,re=Y.placement,oe=Y.maxHeight;return f.createElement(l,N({},m,ie,{innerRef:W,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove,id:r.getElementId("listbox")},isLoading:E,placement:re}),f.createElement(Gh,{captureEnabled:y,onTopArrive:x,onBottomArrive:k,lockEnabled:_},function(ae){return f.createElement(u,N({},m,{innerRef:function(Lt){r.getMenuListRef(Lt),ae(Lt)},isLoading:E,maxHeight:oe,focusedOption:v}),V)}))});return O||C==="fixed"?f.createElement(c,N({},m,{appendTo:O,controlElement:this.controlRef,menuPlacement:b,menuPosition:C}),be):be}},{key:"renderFormField",value:function(){var r=this,o=this.props,s=o.delimiter,a=o.isDisabled,l=o.isMulti,u=o.name,c=o.required,d=this.state.selectValue;if(c&&!this.hasValue()&&!a)return f.createElement(Yh,{name:u,onFocus:this.onValueInputFocus});if(!(!u||a))if(l)if(s){var h=d.map(function(v){return r.getOptionValue(v)}).join(s);return f.createElement("input",{name:u,type:"hidden",value:h})}else{var p=d.length>0?d.map(function(v,g){return f.createElement("input",{key:"i-".concat(g),name:u,type:"hidden",value:r.getOptionValue(v)})}):f.createElement("input",{name:u,type:"hidden",value:""});return f.createElement("div",null,p)}else{var m=d[0]?this.getOptionValue(d[0]):"";return f.createElement("input",{name:u,type:"hidden",value:m})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,o=this.state,s=o.ariaSelection,a=o.focusedOption,l=o.focusedValue,u=o.isFocused,c=o.selectValue,d=this.getFocusableOptions();return f.createElement(Lh,N({},r,{id:this.getElementId("live-region"),ariaSelection:s,focusedOption:a,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:d}))}},{key:"render",value:function(){var r=this.getComponents(),o=r.Control,s=r.IndicatorsContainer,a=r.SelectContainer,l=r.ValueContainer,u=this.props,c=u.className,d=u.id,h=u.isDisabled,p=u.menuIsOpen,m=this.state.isFocused,v=this.commonProps=this.getCommonProps();return f.createElement(a,N({},v,{className:c,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:m}),this.renderLiveRegion(),f.createElement(o,N({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:m,menuIsOpen:p}),f.createElement(l,N({},v,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),f.createElement(s,N({},v,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,o){var s=o.prevProps,a=o.clearFocusValueOnUpdate,l=o.inputIsHiddenAfterUpdate,u=o.ariaSelection,c=o.isFocused,d=o.prevWasFocused,h=r.options,p=r.value,m=r.menuIsOpen,v=r.inputValue,g=r.isMulti,y=ti(p),w={};if(s&&(p!==s.value||h!==s.options||m!==s.menuIsOpen||v!==s.inputValue)){var E=m?af(r,y):[],I=a?lf(o,y):null,L=uf(o,E);w={selectValue:y,focusedOption:L,focusedValue:I,clearFocusValueOnUpdate:!1}}var P=l!=null&&r!==s?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},A=u,b=c&&d;return c&&!b&&(A={value:qt(g,y,y[0]||null),options:y,action:"initial-input-focus"},b=!d),u?.action==="initial-input-focus"&&(A=null),T(T(T({},w),P),{},{prevProps:r,ariaSelection:A,prevWasFocused:b})}}]),t}(f.Component);Xo.defaultProps=sf;var df=f.forwardRef(function(n,e){var t=Mc(n);return f.createElement(Xo,N({ref:e},t))}),hf=df,ff=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"];function Qn(){return Qn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Qn.apply(this,arguments)}function pf(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var Jo=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=pf(e,ff);return Qn({},t)},mf=function(e){var t=typeof e=="string";return t&&["sm","md","lg"].includes(e)},gf=function(e){return mf(e)?e:e==="xs"?"sm":e==="xl"?"lg":"md"},ce=function(e){var t=kt(),i=gf(t.components.Input.defaultProps.size),r=e??i,o=vl(typeof r=="string"?[r]:r,{fallback:"md"})||i;return o};function lt(){return lt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lt.apply(this,arguments)}var vf=function(e){var t=e.children,i=e.className,r=e.cx,o=e.innerProps,s=e.isDisabled,a=e.isRtl,l=e.hasValue,u=e.selectProps.chakraStyles,c=lt({position:"relative",direction:a?"rtl":void 0},s?{cursor:"not-allowed"}:{}),d=u!=null&&u.container?u.container(c,e):c;return B.createElement(U,lt({},o,{className:r({"--is-disabled":s,"--is-rtl":a,"--has-value":l},i),sx:d}),t)},bf=function(e){var t=e.children,i=e.className,r=e.cx,o=e.isMulti,s=e.hasValue,a=e.innerProps,l=e.selectProps,u=l.chakraStyles,c=l.size,d=l.variant,h=l.focusBorderColor,p=l.errorBorderColor,m=l.controlShouldRenderValue,v=ce(c),g=Se("Input",{size:v,variant:d,focusBorderColor:h,errorBorderColor:p}),y={display:o&&s&&m?"flex":"grid",alignItems:"center",flex:1,paddingY:"2px",paddingX:g.field.px,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},w=u!=null&&u.valueContainer?u.valueContainer(y,e):y;return B.createElement(U,lt({},a,{className:r({"value-container":!0,"value-container--is-multi":o,"value-container--has-value":s},i),sx:w}),t)},yf=function(e){var t=e.children,i=e.className,r=e.cx,o=e.innerProps,s=e.selectProps.chakraStyles,a={display:"flex",alignItems:"center",alignSelf:"stretch",flexShrink:0},l=s!=null&&s.indicatorsContainer?s.indicatorsContainer(a,e):a;return B.createElement(U,lt({},o,{className:r({indicators:!0},i),sx:l}),t)},Sf=["height","h"];function se(){return se=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},se.apply(this,arguments)}function Ef(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var Cf=function(e){var t=e.className,i=e.cx,r=e.children,o=e.innerRef,s=e.innerProps,a=e.isDisabled,l=e.isFocused,u=e.menuIsOpen,c=e.selectProps,d=c.chakraStyles,h=c.size,p=c.variant,m=c.focusBorderColor,v=c.errorBorderColor,g=c.isInvalid,y=c.isReadOnly,w=ce(h),E=Se("Input",{size:w,variant:p,focusBorderColor:m,errorBorderColor:v}),I=E.field,L=I.height,P=I.h,A=Ef(I,Sf),b=L||P,C=se({},A,{position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",padding:0,overflow:"hidden",height:"auto",minH:b},a?{pointerEvents:"none"}:{}),O=d!=null&&d.control?d.control(C,e):C;return B.createElement(U,se({ref:o,className:i({control:!0,"control--is-disabled":a,"control--is-focused":l,"control--menu-is-open":u},t),sx:O},s,{"data-focus":l?!0:void 0,"data-focus-visible":l?!0:void 0,"data-invalid":g?!0:void 0,"data-disabled":a?!0:void 0,"data-readonly":y?!0:void 0}),r)},xf=function(e){var t=e.className,i=e.cx,r=e.selectProps,o=r.chakraStyles,s=r.useBasicStyles,a=r.variant,l=se({opacity:1},s||a!=="outline"?{display:"none"}:{}),u=o!=null&&o.indicatorSeparator?o.indicatorSeparator(l,e):l;return B.createElement(Xi,{className:i({"indicator-separator":!0},t),sx:u,orientation:"vertical"})},wf=function(e){return B.createElement(or,se({role:"presentation",focusable:"false","aria-hidden":"true"},e),B.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},_f=function(e){var t=e.children,i=e.className,r=e.cx,o=e.innerProps,s=e.selectProps,a=s.chakraStyles,l=s.useBasicStyles,u=s.size,c=s.focusBorderColor,d=s.errorBorderColor,h=s.variant,p=ce(u),m=Se("Input",{size:p,variant:h,focusBorderColor:c,errorBorderColor:d}),v={sm:"16px",md:"20px",lg:"24px"},g=v[p],y=se({},m.addon,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",borderRadius:0,borderWidth:0,fontSize:g},l&&{background:"transparent",padding:0,width:6,marginRight:2,marginLeft:1,cursor:"inherit"}),w=a!=null&&a.dropdownIndicator?a.dropdownIndicator(y,e):y,E={height:"1em",width:"1em"},I=a!=null&&a.downChevron?a.downChevron(E,e):E;return B.createElement(U,se({},o,{className:r({indicator:!0,"dropdown-indicator":!0},i),sx:w}),t||B.createElement(wf,{sx:I}))},Pf=function(e){return B.createElement(or,se({focusable:"false","aria-hidden":!0},e),B.createElement("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}))},If=function(e){var t=e.children,i=e.className,r=e.cx,o=e.innerProps,s=e.selectProps,a=s.chakraStyles,l=s.size,u=ce(l),c=xs("CloseButton",{size:u}),d=se({},c,{marginX:1,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,cursor:"pointer"}),h=a!=null&&a.clearIndicator?a.clearIndicator(d,e):d,p={width:"1em",height:"1em"},m=a!=null&&a.crossIcon?a.crossIcon(p,e):p;return B.createElement(U,se({role:"button",className:r({indicator:!0,"clear-indicator":!0},i),sx:h,"aria-label":"Clear selected options"},o),t||B.createElement(Pf,{sx:m}))},Of=function(e){var t=e.className,i=e.cx,r=e.innerProps,o=e.selectProps,s=o.chakraStyles,a=o.size,l=e.color,u=e.emptyColor,c=e.speed,d=e.thickness,h=e.spinnerSize,p=ce(a),m={sm:"xs",md:"sm",lg:"md"},v=m[p],g={marginRight:3},y=s!=null&&s.loadingIndicator?s.loadingIndicator(g,e):g;return B.createElement(ws,se({className:i({indicator:!0,"loading-indicator":!0},t),sx:y},r,{size:h||v,color:l,emptyColor:u,speed:c,thickness:d}))};const Mf=Cf;var kf=["innerRef","isDisabled","isHidden","inputClassName"];function bt(){return bt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bt.apply(this,arguments)}function Af(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var Df=function(e){var t=e.className,i=e.cx,r=e.value,o=e.selectProps,s=o.chakraStyles,a=o.isReadOnly,l=Jo(e),u=l.innerRef,c=l.isDisabled,d=l.isHidden,h=l.inputClassName,p=Af(l,kf),m={gridArea:"1 / 2",minW:"2px",border:0,margin:0,outline:0,padding:0},v={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content",color:"inherit",marginX:"0.125rem",paddingY:"0.125rem",visibility:c?"hidden":"visible",transform:r?"translateZ(0)":"",_after:bt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre",padding:0},m)},g=s!=null&&s.inputContainer?s.inputContainer(v,e):v,y=bt({background:0,opacity:d?0:1,width:"100%"},m),w=s!=null&&s.input?s.input(y,e):y;return B.createElement(U,{className:i({"input-container":!0},t),"data-value":r||"",sx:g},B.createElement(ke.input,bt({className:i({input:!0},h),ref:u,sx:w,disabled:c,readOnly:a?!0:void 0},p)))};const Lf=Df;var Rf=["data"];function Tf(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function ne(){return ne=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ne.apply(this,arguments)}var Ff=function(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"top"},Vf=function(e){var t,i=e.className,r=e.cx,o=e.children,s=e.innerProps,a=e.innerRef,l=e.placement,u=e.selectProps.chakraStyles,c=(t={position:"absolute"},t[Ff(l)]="100%",t.marginY="8px",t.width="100%",t.zIndex=1,t),d=u!=null&&u.menu?u.menu(c,e):c;return B.createElement(no,null,B.createElement(U,ne({},s,{ref:a,className:r({menu:!0},i),sx:d}),o))};const Nf=Vf;var jf=function(e){var t,i=e.className,r=e.cx,o=e.innerRef,s=e.children,a=e.maxHeight,l=e.isMulti,u=e.innerProps,c=e.selectProps,d=c.chakraStyles,h=c.size,p=c.variant,m=c.focusBorderColor,v=c.errorBorderColor,g=Se("Menu"),y=ce(h),w=Se("Input",{size:y,variant:p,focusBorderColor:m,errorBorderColor:v}),E=w.field,I=ne({},g.list,{minW:"100%",maxHeight:a+"px",overflowY:"auto","--input-border-radius":E?.["--input-border-radius"],borderRadius:E?.borderRadius||((t=g.list)==null?void 0:t.borderRadius),position:"relative",WebkitOverflowScrolling:"touch"}),L=d!=null&&d.menuList?d.menuList(I,e):I;return B.createElement(U,ne({role:"listbox"},u,{className:r({"menu-list":!0,"menu-list--is-multi":l},i),sx:L,ref:o}),s)},Bf=function(e){var t=e.children,i=e.className,r=e.cx,o=e.innerProps,s=e.selectProps,a=s.chakraStyles,l=s.size,u=ce(l),c={sm:"6px",md:"8px",lg:"10px"},d={color:"chakra-subtle-text",textAlign:"center",paddingY:c[u],fontSize:u},h=a!=null&&a.loadingMessage?a.loadingMessage(d,e):d;return B.createElement(U,ne({},o,{className:r({"menu-notice":!0,"menu-notice--loading":!0},i),sx:h}),t)},$f=function(e){var t=e.children,i=e.className,r=e.cx,o=e.innerProps,s=e.selectProps,a=s.chakraStyles,l=s.size,u=ce(l),c={sm:"6px",md:"8px",lg:"10px"},d={color:"chakra-subtle-text",textAlign:"center",paddingY:c[u],fontSize:u},h=a!=null&&a.noOptionsMessage?a.noOptionsMessage(d,e):d;return B.createElement(U,ne({},o,{className:r({"menu-notice":!0,"menu-notice--no-options":!0},i),sx:h}),t)},Hf=function(e){var t=e.children,i=e.className,r=e.cx,o=e.theme,s=e.getStyles,a=e.Heading,l=e.headingProps,u=e.label,c=e.selectProps,d=e.innerProps,h=e.getClassNames,p=c.chakraStyles,m={},v=p!=null&&p.group?p.group(m,e):m;return B.createElement(U,ne({},d,{className:r({group:!0},i),sx:v}),B.createElement(a,ne({},l,{selectProps:c,cx:r,theme:o,getStyles:s,getClassNames:h}),u),B.createElement(U,null,t))},zf=function(e){var t=e.cx,i=e.className,r=e.selectProps,o=r.chakraStyles,s=r.size,a=r.hasStickyGroupHeaders,l=Jo(e);l.data;var u=Tf(l,Rf),c=Se("Menu"),d=ce(s),h={sm:"xs",md:"sm",lg:"md"},p={sm:"0.4rem 0.8rem",md:"0.5rem 1rem",lg:"0.6rem 1.2rem"},m=ne({},c.groupTitle,{fontSize:h[d],padding:p[d],margin:0,borderBottomWidth:a?"1px":0,position:a?"sticky":"static",top:-2,bg:c.list.bg,zIndex:1}),v=o!=null&&o.groupHeading?o.groupHeading(m,e):m;return B.createElement(U,ne({},u,{className:t({"group-heading":!0},i),sx:v}))},Uf=function(e){return B.createElement("svg",ne({viewBox:"0 0 14 14",width:"1em",height:"1em"},e),B.createElement("polygon",{fill:"currentColor",points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"}))},Gf=function(e){var t=e.className,i=e.cx,r=e.innerRef,o=e.innerProps,s=e.children,a=e.isFocused,l=e.isDisabled,u=e.isSelected,c=e.selectProps,d=c.chakraStyles,h=c.size,p=c.isMulti,m=c.hideSelectedOptions,v=c.selectedOptionStyle,g=c.selectedOptionColorScheme,y=Se("Menu").item,w=ce(h),E={sm:"0.6rem",md:"0.8rem",lg:"1rem"},I={sm:"0.3rem",md:"0.4rem",lg:"0.5rem"},L=_r(g+".500",g+".300"),P=_r("white","black"),A=v==="check"&&(!p||m===!1),b=v==="color",C=ne({},y,{cursor:"pointer",display:"flex",alignItems:"center",width:"100%",textAlign:"start",fontSize:w,paddingX:E[w],paddingY:I[w]},b&&{_selected:{bg:L,color:P,_active:{bg:L}}}),O=d!=null&&d.option?d.option(C,e):C;return B.createElement(U,ne({role:"option"},o,{className:i({option:!0,"option--is-disabled":l,"option--is-focused":a,"option--is-selected":u},t),sx:O,ref:r,"data-focus":a?!0:void 0,"aria-disabled":l?!0:void 0,"aria-selected":u}),A&&B.createElement(ro,{fontSize:"0.8em",marginEnd:"0.75rem",opacity:u?1:0},B.createElement(Uf,null)),s)};function le(){return le=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},le.apply(this,arguments)}var Wf=function(e){return typeof e=="object"&&e!==null&&"colorScheme"in e&&typeof e.colorScheme=="string"},qf=function(e){return typeof e=="object"&&e!==null&&"variant"in e&&typeof e.variant=="string"},Qo=function(e){return typeof e=="object"&&e!==null&&"isFixed"in e&&typeof e.isFixed=="boolean"},Yf=function(e){var t=e.children,i=e.className,r=e.components,o=e.cx,s=e.data,a=e.innerProps,l=e.isDisabled,u=e.isFocused,c=e.removeProps,d=e.selectProps,h=e.cropWithEllipsis,p=r.Container,m=r.Label,v=r.Remove,g=d.chakraStyles,y=d.colorScheme,w=d.tagVariant,E=d.size,I=ce(E),L="",P="",A=!1;Wf(s)&&(L=s.colorScheme),qf(s)&&(P=s.variant),Qo(s)&&(A=s.isFixed);var b=Se("Tag",{size:I,colorScheme:L||y,variant:P||w||(A?"solid":"subtle")}),C=le({},b.container,{display:"flex",alignItems:"center",minWidth:0,margin:"0.125rem"}),O=g!=null&&g.multiValue?g.multiValue(C,e):C,_=le({},b.label,{overflow:"hidden",textOverflow:h||h===void 0?"ellipsis":void 0,whiteSpace:"nowrap"}),M=g!=null&&g.multiValueLabel?g.multiValueLabel(_,e):_,D=le({},b.closeButton,{display:"flex",alignItems:"center",justifyContent:"center"}),x=g!=null&&g.multiValueRemove?g.multiValueRemove(D,e):D;return B.createElement(p,{data:s,innerProps:le({className:o({"multi-value":!0,"multi-value--is-disabled":l},i)},a),sx:O,selectProps:d},B.createElement(m,{data:s,innerProps:{className:o({"multi-value__label":!0},i)},sx:M,selectProps:d},t),B.createElement(v,{data:s,innerProps:le({className:o({"multi-value__remove":!0},i),"aria-label":"Remove "+(t||"option")},c),sx:x,selectProps:d,isFocused:u}))},Kf=function(e){var t=e.children,i=e.innerProps,r=e.sx;return B.createElement(ke.span,le({},i,{sx:r}),t)},Zf=function(e){var t=e.children,i=e.innerProps,r=e.sx;return B.createElement(ke.span,le({},i,{sx:r}),t)},Xf=function(e){return B.createElement(or,le({verticalAlign:"inherit",viewBox:"0 0 512 512"},e),B.createElement("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}))},Jf=function(e){var t=e.children,i=e.innerProps,r=e.isFocused,o=e.data,s=e.sx;return Qo(o)&&o.isFixed?null:B.createElement(U,le({},i,{role:"button",sx:s,"data-focus":r?!0:void 0,"data-focus-visible":r?!0:void 0}),t||B.createElement(Xf,null))};const Qf=Yf;function er(){return er=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},er.apply(this,arguments)}var ep=function(e){var t=e.children,i=e.className,r=e.cx,o=e.innerProps,s=e.selectProps.chakraStyles,a={gridArea:"1 / 1 / 2 / 3",color:"chakra-placeholder-color",mx:"0.125rem",userSelect:"none"},l=s!=null&&s.placeholder?s.placeholder(a,e):a;return B.createElement(U,er({},o,{className:r({placeholder:!0},i),sx:l}),t)};const tp=ep;function tr(){return tr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},tr.apply(this,arguments)}var np=function(e){var t=e.children,i=e.className,r=e.cx,o=e.isDisabled,s=e.innerProps,a=e.selectProps.chakraStyles,l={gridArea:"1 / 1 / 2 / 3",mx:"0.125rem",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},u=a!=null&&a.singleValue?a.singleValue(l,e):l;return B.createElement(U,tr({className:r({"single-value":!0,"single-value--is-disabled":o},i),sx:u},s),t)};const rp=np;var ip={ClearIndicator:If,Control:Mf,DropdownIndicator:_f,Group:Hf,GroupHeading:zf,IndicatorSeparator:xf,IndicatorsContainer:yf,Input:Lf,LoadingIndicator:Of,LoadingMessage:Bf,Menu:Nf,MenuList:jf,MultiValue:Qf,MultiValueContainer:Kf,MultiValueLabel:Zf,MultiValueRemove:Jf,NoOptionsMessage:$f,Option:Gf,Placeholder:tp,SelectContainer:vf,SingleValue:rp,ValueContainer:bf};const De=ip;var op=["components","theme","size","colorScheme","isDisabled","isInvalid","isReadOnly","required","isRequired","inputId","tagVariant","selectedOptionStyle","selectedOptionColorScheme","selectedOptionColor","variant","focusBorderColor","errorBorderColor","chakraStyles","onFocus","onBlur","menuIsOpen"];function on(){return on=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},on.apply(this,arguments)}function sp(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var ap=function(e){var t,i=e.components,r=i===void 0?{}:i;e.theme;var o=e.size,s=e.colorScheme,a=s===void 0?"gray":s,l=e.isDisabled,u=e.isInvalid,c=e.isReadOnly,d=e.required,h=e.isRequired,p=e.inputId,m=e.tagVariant,v=e.selectedOptionStyle,g=v===void 0?"color":v,y=e.selectedOptionColorScheme,w=e.selectedOptionColor,E=e.variant,I=e.focusBorderColor,L=e.errorBorderColor,P=e.chakraStyles,A=P===void 0?{}:P,b=e.onFocus,C=e.onBlur,O=e.menuIsOpen,_=sp(e,op),M=kt(),D=M.components.Input.defaultProps.variant,x=Ya({id:p,isDisabled:l,isInvalid:u,isRequired:h,isReadOnly:c,onFocus:b,onBlur:C}),k=O??(x.readOnly?!1:void 0),$=g,V=["color","check"];V.includes(g)||($="color");var j=y||w||"blue";typeof j!="string"&&(j="blue");var G=on({components:on({},De,r),colorScheme:a,size:o,tagVariant:m,selectedOptionStyle:$,selectedOptionColorScheme:j,variant:E??D,chakraStyles:A,focusBorderColor:I,errorBorderColor:L,onFocus:x.onFocus,onBlur:x.onBlur,isDisabled:x.disabled,isInvalid:!!x["aria-invalid"],inputId:x.id,isReadOnly:x.readOnly,required:d??x.required,menuIsOpen:k},_,{"aria-invalid":(t=_["aria-invalid"])!=null?t:x["aria-invalid"]});return G};const lp=ap;function nr(){return nr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},nr.apply(this,arguments)}var up=f.forwardRef(function(n,e){var t=lp(n);return B.createElement(hf,nr({ref:e},t))});const cp=up,dp="@open-pioneer/search",xn=Be.bind(void 0,dp);function hp(n){const e=n.selectProps.inputValue.length>0,t={...n,className:bn(n.className,{"search-invisible":!e})};return S.jsx(De.Menu,{...t,children:n.children})}function fp(n){const t=xn().formatMessage({id:"noOptionsText"});return S.jsx(De.NoOptionsMessage,{...n,children:S.jsx(ke.span,{className:"search-no-match",children:t})})}function pp(n){const t=xn().formatMessage({id:"loadingText"});return S.jsx(De.LoadingMessage,{...n,children:S.jsx(ke.span,{className:"search-loading-text",children:t})})}function mp({children:n,...e}){const t={...e,className:bn(e.className,"search-value-container")};return S.jsxs(De.ValueContainer,{...t,children:[!!n&&S.jsx(hc,{style:{position:"absolute",left:8}}),n]})}function gp(n){const e={...n,isHidden:!1};return S.jsx(De.Input,{...e})}function vp(n){return null}function bp(n){return S.jsxs(De.IndicatorsContainer,{...n,children:[n.children,!n.selectProps.isLoading&&n.selectProps.inputValue&&S.jsx(yp,{selectProps:n.selectProps,clearValue:n.clearValue})]})}function yp(n){const t=xn().formatMessage({id:"ariaLabel.clearButton"}),i=r=>{r.preventDefault(),r.stopPropagation(),n.clearValue()};return S.jsx(_s,{role:"button",size:"md",mr:1,"aria-label":t,onClick:i,onTouchEnd:i,onMouseDown:r=>r.preventDefault()})}function Sp(n){return null}function Ep(n){const e=n.selectProps.inputValue,t=n.data.label,i={...n,className:bn(n.className,"search-option")};return S.jsx(De.Option,{...i,children:S.jsx(ke.div,{className:"search-option-label",children:e.trim().length>0?Cp(t,e):t})})}function Cp(n,e){const t=n.toLowerCase().indexOf(e.toLowerCase());return t>=0?S.jsxs(S.Fragment,{children:[n.substring(0,t),S.jsx(ke.span,{className:"search-highlighted-match",children:n.substring(t,t+e.length)},"highlighted"),n.substring(t+e.length)]}):n}const vi=ct("search:SearchController"),bi=200,yi=5;var Mt,nt,rt,it,pe,pn,es;class xp{constructor(e,t){z(this,pn);z(this,Mt,void 0);z(this,nt,[]);z(this,rt,yi);z(this,it,bi);z(this,pe,void 0);H(this,Mt,e),H(this,nt,t)}destroy(){R(this,pe)?.abort(),H(this,pe,void 0)}async search(e){if(R(this,pe)?.abort(),H(this,pe,void 0),!e)return[];const t=H(this,pe,new AbortController);try{return await wp(t.signal,R(this,it)),t.signal.aborted&&(vi.debug(`search canceled with ${e}`),Ps()),(await Promise.all(R(this,nt).map(r=>X(this,pn,es).call(this,r,e,t.signal)))).filter(r=>r!=null)}finally{R(this,pe)===t&&H(this,pe,void 0)}}get searchTypingDelay(){return R(this,it)}set searchTypingDelay(e){H(this,it,e??bi)}get maxResultsPerSource(){return R(this,rt)}set maxResultsPerSource(e){H(this,rt,e??yi)}get sources(){return R(this,nt)}}Mt=new WeakMap,nt=new WeakMap,rt=new WeakMap,it=new WeakMap,pe=new WeakMap,pn=new WeakSet,es=async function(e,t,i){const r=e.label,o=R(this,Mt).olMap.getView().getProjection();try{const s=R(this,rt);let a=await e.search(t,{maxResults:s,signal:i,mapProjection:o});return a.length>s&&(a=a.slice(0,s)),{label:r,source:e,results:a}}catch(s){ir(s)||vi.error(`search for source ${r} failed`,s);return}};async function wp(n,e){n.aborted||await new Promise(t=>{const i=()=>{n.removeEventListener("abort",i),clearTimeout(r),t()};n.addEventListener("abort",i);const r=setTimeout(i,e)})}const sn=ct("search:Search"),_p=n=>{const{mapId:e,sources:t,searchTypingDelay:i,maxResultsPerGroup:r,onSelect:o,onClear:s}=n,{containerProps:a}=Ae("search",n),{map:l}=ve(e),u=xn(),c=Mp(t,i,r,l),{input:d,search:h,selectedOption:p,onInputChanged:m,onResultConfirmed:v}=kp(c),g=Op(),y=Pp(u),w=Ip(),E=zn((P,A)=>{A.action==="input-change"&&m(P)}),I=zn((P,A)=>{switch(A.action){case"select-option":P&&(v(P),o?.({source:P.source,result:P.result}));break;case"clear":m(""),L.current?.blur(),L.current?.focus(),s?.();break;default:sn.debug(`Unhandled action type '${A.action}'.`);break}}),L=f.useRef(null);return S.jsx(U,{...a,children:S.jsx(cp,{className:"search-component",classNamePrefix:"react-select",ref:L,inputValue:d,onInputChange:E,"aria-label":u.formatMessage({id:"ariaLabel.search"}),ariaLiveMessages:y,colorScheme:"trails",selectedOptionStyle:"color",selectedOptionColorScheme:"trails",chakraStyles:g,isClearable:!0,placeholder:u.formatMessage({id:"searchPlaceholder"}),closeMenuOnSelect:!0,isLoading:h.kind==="loading",options:h.kind==="ready"?h.results:void 0,filterOption:()=>!0,tabSelectsValue:!1,components:w,onChange:I,value:p})})};function Pp(n){return f.useMemo(()=>({onFocus:({focused:o})=>`${o.label} ${n.formatMessage({id:"ariaLabel.searchFocus"})}.`,onChange:({action:o,label:s})=>{let a="";switch(o){case"select-option":a=`${s} ${n.formatMessage({id:"ariaLabel.searchSelect"})}.`;break;case"clear":a=`${s} ${n.formatMessage({id:"ariaLabel.searchClear"})}.`;break}return a},guidance:()=>`${n.formatMessage({id:"ariaLabel.instructions"})}`,onFilter:()=>""}),[n])}function Ip(){return f.useMemo(()=>({Menu:hp,Input:gp,SingleValue:vp,Option:Ep,NoOptionsMessage:fp,LoadingMessage:pp,ValueContainer:mp,IndicatorsContainer:bp,ClearIndicator:Sp}),[])}function Op(){const[n,e]=Is("colors",["trails.100","trails.50"],["#d5e5ec","#eaf2f5"]);return f.useMemo(()=>({groupHeading:i=>({...i,backgroundColor:n,padding:"8px 12px",fontSize:"inherit",fontWeight:"inherit"}),option:i=>({...i,backgroundColor:"inherit",_focus:{backgroundColor:e}}),dropdownIndicator:i=>({...i,display:"none"})}),[n,e])}function Mp(n,e,t,i){const[r,o]=f.useState(void 0);return f.useEffect(()=>{if(!i)return;const s=new xp(i,n);return o(s),()=>{s.destroy(),o(void 0)}},[i,n]),f.useEffect(()=>{r&&(r.searchTypingDelay=e)},[r,e]),f.useEffect(()=>{r&&(r.maxResultsPerSource=t)}),r}function kp(n){const[e,t]=f.useReducer((a,l)=>{switch(l.kind){case"input":return{...a,query:l.query,selectedOption:null};case"select-option":return{...a,selectedOption:l.option,query:l.option.label};case"load-results":return{...a,search:{kind:"loading"}};case"accept-results":return{...a,search:{kind:"ready",results:l.results}}}},void 0,()=>({query:"",selectedOption:null,search:{kind:"ready",results:[]}})),i=f.useRef(),r=zn(a=>{if(!n){i.current=void 0,t({kind:"accept-results",results:[]});return}sn.isDebug()&&sn.debug(`Starting new search for query ${JSON.stringify(a)}.`),t({kind:"load-results"});const l=i.current=Ap(n,a).then(u=>{i.current===l&&t({kind:"accept-results",results:u})})}),o=f.useCallback(a=>{t({kind:"select-option",option:a})},[]),s=f.useCallback(a=>{t({kind:"input",query:a}),r(a)},[r]);return{input:e.query,search:e.search,selectedOption:e.selectedOption,onResultConfirmed:o,onInputChanged:s}}async function Ap(n,e){let t;try{t=await n.search(e)}catch(i){ir(i)||sn.error("Search failed",i),t=[]}return Dp(t)}function Dp(n){return n.map((t,i)=>({label:t.label,options:t.results.map(r=>({value:`${i}-${r.id}`,label:r.label,source:t.source,result:r}))}))}let Lp=0;function Rp(n,e){const t=`atom${++Lp}`,i={toString:()=>t};return typeof n=="function"?i.read=n:(i.init=n,i.read=function(r){return r(this)},i.write=function(r,o,s){return o(this,typeof s=="function"?s(r(this)):s)}),e&&(i.write=e),i}const Si=n=>"init"in n,Ei=n=>!!n.write,an=new WeakMap,Tp=(n,e)=>{an.set(n,e),n.catch(()=>{}).finally(()=>an.delete(n))},Ci=(n,e)=>{const t=an.get(n);t&&(an.delete(n),t(e))},xi=(n,e)=>{n.status="fulfilled",n.value=e},wi=(n,e)=>{n.status="rejected",n.reason=e},Fp=n=>typeof n?.then=="function",pt=(n,e)=>!!n&&"v"in n&&"v"in e&&Object.is(n.v,e.v),_i=(n,e)=>!!n&&"e"in n&&"e"in e&&Object.is(n.e,e.e),ze=n=>!!n&&"v"in n&&n.v instanceof Promise,Vp=(n,e)=>"v"in n&&"v"in e&&n.v.orig&&n.v.orig===e.v.orig,Yt=n=>{if("e"in n)throw n.e;return n.v},br=()=>{const n=new WeakMap,e=new WeakMap,t=new Map;let i,r;const o=b=>n.get(b),s=(b,C)=>{const O=n.get(b);if(n.set(b,C),t.has(b)||t.set(b,O),ze(O)){const _="v"in C?C.v instanceof Promise?C.v:Promise.resolve(C.v):Promise.reject(C.e);O.v!==_&&Ci(O.v,_)}},a=(b,C,O)=>{const _=new Map;let M=!1;O.forEach((D,x)=>{!D&&x===b&&(D=C),D&&(_.set(x,D),C.d.get(x)!==D&&(M=!0))}),(M||C.d.size!==_.size)&&(C.d=_)},l=(b,C,O)=>{const _=o(b),M={d:_?.d||new Map,v:C};if(O&&a(b,M,O),pt(_,M)&&_.d===M.d)return _;if(ze(_)&&ze(M)&&Vp(_,M)){if(_.d===M.d)return _;M.v=_.v}return s(b,M),M},u=(b,C,O,_)=>{if(Fp(C)){let M;const D=()=>{const k=o(b);if(!ze(k)||k.v!==x)return;const $=l(b,x,O);e.has(b)&&k.d!==$.d&&L(b,$,k.d)},x=new Promise((k,$)=>{let V=!1;C.then(j=>{V||(V=!0,xi(x,j),k(j),D())},j=>{V||(V=!0,wi(x,j),$(j),D())}),M=j=>{V||(V=!0,j.then(G=>xi(x,G),G=>wi(x,G)),k(j))}});return x.orig=C,x.status="pending",Tp(x,k=>{k&&M(k),_?.()}),l(b,x,O)}return l(b,C,O)},c=(b,C,O)=>{const _=o(b),M={d:_?.d||new Map,e:C};return O&&a(b,M,O),_i(_,M)&&_.d===M.d?_:(s(b,M),M)},d=(b,C)=>{const O=o(b);if(!C&&O&&(e.has(b)||Array.from(O.d).every(([V,j])=>{if(V===b)return!0;const G=d(V);return G===j||pt(G,j)})))return O;const _=new Map;let M=!0;const D=V=>{if(V===b){const G=o(V);if(G)return _.set(V,G),Yt(G);if(Si(V))return _.set(V,void 0),V.init;throw new Error("no atom init")}const j=d(V);return _.set(V,j),Yt(j)};let x,k;const $={get signal(){return x||(x=new AbortController),x.signal},get setSelf(){return!k&&Ei(b)&&(k=(...V)=>{if(!M)return w(b,...V)}),k}};try{const V=b.read(D,$);return u(b,V,_,()=>x?.abort())}catch(V){return c(b,V,_)}finally{M=!1}},h=b=>Yt(d(b)),p=b=>{let C=e.get(b);return C||(C=E(b)),C},m=(b,C)=>!C.l.size&&(!C.t.size||C.t.size===1&&C.t.has(b)),v=b=>{const C=e.get(b);C&&m(b,C)&&I(b)},g=b=>{const C=new Map,O=new WeakMap,_=x=>{var k;const $=new Set((k=e.get(x))==null?void 0:k.t);return t.forEach((V,j)=>{var G;(G=o(j))!=null&&G.d.has(x)&&$.add(j)}),$},M=x=>{_(x).forEach(k=>{k!==x&&(C.set(k,(C.get(k)||new Set).add(x)),O.set(k,(O.get(k)||0)+1),M(k))})};M(b);const D=x=>{_(x).forEach(k=>{var $;if(k!==x){let V=O.get(k);if(V&&O.set(k,--V),!V){let j=!!(($=C.get(k))!=null&&$.size);if(j){const G=o(k),ie=d(k,!0);j=!pt(G,ie)}j||C.forEach(G=>G.delete(k))}D(k)}})};D(b)},y=(b,...C)=>{let O=!0;const _=x=>Yt(d(x)),M=(x,...k)=>{let $;if(x===b){if(!Si(x))throw new Error("atom not writable");const V=o(x),j=u(x,k[0]);pt(V,j)||g(x)}else $=y(x,...k);if(!O){const V=P()}return $},D=b.write(_,M,...C);return O=!1,D},w=(b,...C)=>{const O=y(b,...C),_=P();return O},E=(b,C,O)=>{var _;const M=O||[];(_=o(b))==null||_.d.forEach((x,k)=>{const $=e.get(k);$?$.t.add(b):k!==b&&E(k,b,M)}),d(b);const D={t:new Set(C&&[C]),l:new Set};if(e.set(b,D),Ei(b)&&b.onMount){const{onMount:x}=b;M.push(()=>{const k=x((...$)=>w(b,...$));k&&(D.u=k)})}return O||M.forEach(x=>x()),D},I=b=>{var C;const O=(C=e.get(b))==null?void 0:C.u;O&&O(),e.delete(b);const _=o(b);_&&(ze(_)&&Ci(_.v),_.d.forEach((M,D)=>{if(D!==b){const x=e.get(D);x&&(x.t.delete(b),m(D,x)&&I(D))}}))},L=(b,C,O)=>{const _=new Set(C.d.keys());O?.forEach((M,D)=>{if(_.has(D)){_.delete(D);return}const x=e.get(D);x&&(x.t.delete(b),m(D,x)&&I(D))}),_.forEach(M=>{const D=e.get(M);D?D.t.add(b):e.has(b)&&E(M,b)})},P=()=>{let b;for(;t.size;){const C=Array.from(t);t.clear(),C.forEach(([O,_])=>{const M=o(O);if(M){const D=e.get(O);D&&M.d!==_?.d&&L(O,M,_?.d),D&&!(!ze(_)&&(pt(_,M)||_i(_,M)))&&D.l.forEach(x=>x())}})}};return{get:h,set:w,sub:(b,C)=>{const O=p(b),_=P(),M=O.l;return M.add(C),()=>{M.delete(C),v(b)}}}};let $n;const Np=()=>($n||($n=br()),$n),ts=f.createContext(void 0),jp=n=>{const e=f.useContext(ts);return n?.store||e||Np()},Bp=({children:n,store:e})=>{const t=f.useRef();return!e&&!t.current&&(t.current=br()),f.createElement(ts.Provider,{value:e||t.current},n)},$p=n=>typeof n?.then=="function",Hp=B.use||(n=>{if(n.status==="pending")throw n;if(n.status==="fulfilled")return n.value;throw n.status==="rejected"?n.reason:(n.status="pending",n.then(e=>{n.status="fulfilled",n.value=e},e=>{n.status="rejected",n.reason=e}),n)});function zp(n,e){const t=jp(e),[[i,r,o],s]=f.useReducer(u=>{const c=t.get(n);return Object.is(u[0],c)&&u[1]===t&&u[2]===n?u:[c,t,n]},void 0,()=>[t.get(n),t,n]);let a=i;(r!==t||o!==n)&&(s(),a=t.get(n));const l=e?.delay;return f.useEffect(()=>{const u=t.sub(n,()=>{if(typeof l=="number"){setTimeout(s,l);return}s()});return s(),u},[t,n,l]),f.useDebugValue(a),$p(a)?Hp(a):a}const ns="@open-pioneer/spatial-bookmarks",Up=cr.bind(void 0,ns),Gp=Be.bind(void 0,ns);function Wp(n){return dt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M156,56H60A20,20,0,0,0,40,76V228a12,12,0,0,0,19,9.76l49-35,49,35A12,12,0,0,0,176,228V76A20,20,0,0,0,156,56Zm-4,148.68-37-26.45a12,12,0,0,0-14,0L64,204.68V80h88ZM216,36V188a12,12,0,0,1-24,0V40H92a12,12,0,0,1,0-24H196A20,20,0,0,1,216,36Z"}}]})(n)}function qp(n){return dt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M222,128a6,6,0,0,1-6,6H40a6,6,0,0,1,0-12H216A6,6,0,0,1,222,128ZM40,70H216a6,6,0,0,0,0-12H40a6,6,0,0,0,0,12ZM216,186H40a6,6,0,0,0,0,12H216a6,6,0,0,0,0-12Z"}}]})(n)}function Yp(n){return dt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M233.91,74.79,181.22,22.1a14,14,0,0,0-19.8,0L22.09,161.41a14,14,0,0,0,0,19.8L74.78,233.9a14,14,0,0,0,19.8,0L233.91,94.59A14,14,0,0,0,233.91,74.79ZM225.42,86.1,86.1,225.41h0a2,2,0,0,1-2.83,0L30.58,172.73a2,2,0,0,1,0-2.83L64,136.48l27.76,27.76a6,6,0,1,0,8.48-8.48L72.48,128,96,104.48l27.76,27.76a6,6,0,0,0,8.48-8.48L104.48,96,128,72.49l27.76,27.75a6,6,0,0,0,8.48-8.48L136.49,64,169.9,30.59a2,2,0,0,1,2.83,0l52.69,52.68A2,2,0,0,1,225.42,86.1Z"}}]})(n)}function rs(n){return dt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM82,24a6,6,0,0,1,6-6h80a6,6,0,0,1,0,12H88A6,6,0,0,1,82,24Z"}}]})(n)}function is(n){return dt({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228.92,49.69a8,8,0,0,0-6.86-1.45L160.93,63.52,99.58,32.84a8,8,0,0,0-5.52-.6l-64,16A8,8,0,0,0,24,56V200a8,8,0,0,0,9.94,7.76l61.13-15.28,61.35,30.68A8.15,8.15,0,0,0,160,224a8,8,0,0,0,1.94-.24l64-16A8,8,0,0,0,232,200V56A8,8,0,0,0,228.92,49.69ZM104,52.94l48,24V203.06l-48-24ZM40,62.25l48-12v127.5l-48,12Zm176,131.5-48,12V78.25l48-12Z"}}]})(n)}const we=ct("spatial-bookmark:SpatialBookmarkViewModel");class Kp{map;packageNamespace;writableBookmarks=Rp([]);stopBookmarksListener;store;get bookmarks(){return this.writableBookmarks}constructor(e,t){this.map=e,this.packageNamespace=t.getNamespace("spatial-bookmarks"),this.store=br(),this.loadState(),this.stopBookmarksListener=this.store.sub(this.bookmarks,()=>{this.saveState()})}destroy(){this.stopBookmarksListener()}createBookmark(e){const t=this.map.olMap,i=t.getView().calculateExtent(),r=t.getView().getProjection().getCode(),o={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]},s={id:Da(),title:e,extent:o,projection:r};we.debug("Created a new bookmark",s);const a=this.writableBookmarks;this.store.set(a,[...this.store.get(a),s])}activateBookmark(e){we.debug("Activating bookmark",e);const t=this.getBookmarkExtent(e);we.debug("Attempting to apply extent",t),this.applyExtent(t)}deleteBookmark(e){we.debug("Deleting bookmark",e);const t=this.writableBookmarks;this.store.set(t,[...this.store.get(t).filter(i=>i.id!==e)])}deleteAllBookmarks(){we.debug("Deleting all bookmarks"),this.store.set(this.writableBookmarks,[])}loadState(){we.debug("Restoring bookmarks from local storage");const e=this.packageNamespace.get("bookmarks")??[];try{Zp(e),this.store.set(this.writableBookmarks,e)}catch(t){we.error("Bookmarks data in local storage is invalid, resetting to default value.",t),this.store.set(this.writableBookmarks,[]),this.saveState()}}saveState(){we.debug("Saving bookmarks to local storage"),this.packageNamespace.set("bookmarks",this.store.get(this.bookmarks))}getBookmarkExtent(e){const i=this.map.olMap.getView(),r=e.extent,o=[r.minX,r.minY,r.maxX,r.maxY],s=i.getProjection(),a=e.projection;return La(o,a,s)}applyExtent(e){const i=this.map.olMap.getView(),r=sr(e),o=i.getResolutionForExtent(e);i.setCenter(r),i.setResolution(o)}}function Zp(n){if(!Array.isArray(n))throw new Error("Expected bookmarks from local storage to be an array.");for(const e of n)Xp(e)}function Xp(n){if(!n||typeof n!="object")throw new Error("Expected bookmark from local storage to be an object.");const e=n;if(typeof e.id!="string")throw new Error("Bookmark does not have a valid id.");if(typeof e.title!="string")throw new Error("Bookmark does not have a valid title.");if(Jp(e.extent),typeof e.projection!="string")throw new Error("Bookmark does not have a valid projection value.")}function Jp(n){if(!n||typeof n!="object")throw new Error("Expected bookmark extent from local storage to be an object.");const e=n;if(typeof e.minX!="number"||typeof e.minY!="number"||typeof e.maxX!="number"||typeof e.maxY!="number")throw new Error("Expected bookmark extent from local storage to have valid coordinates.")}const Qp=n=>{const{map:e}=ve(n.mapId),t=Up("local-storage.LocalStorageService"),i=sm(e,t);return i&&S.jsx(Bp,{store:i.store,children:S.jsx(em,{...n,viewModel:i})})};function em(n){const{viewModel:e}=n,t=Gp(),i=f.useRef([]),[r,o]=f.useState(!1),s=zp(e.bookmarks),[a,l]=f.useState(""),u=a.trim().length>0,{containerProps:c}=Ae("spatial-bookmarks",n),[d,h]=f.useState("list"),p=()=>{e.deleteAllBookmarks(),h("list")},m=()=>{u&&(e.createBookmark(a),h("list"),l(""),o(!0))};f.useEffect(()=>{if(r){const E=i.current;E&&E[s.length-1]?.scrollIntoView?.(),o(!1)}},[s,r]);const v=()=>S.jsxs(Br,{children:[S.jsxs(_n,{rounded:"md",status:"warning",children:[S.jsx(Pn,{}),t.formatMessage({id:"bookmark.alert.delete"})]}),S.jsx(im,{intl:t,onClear:p,onCancel:()=>h("list")})]}),g=()=>S.jsxs(Br,{children:[S.jsxs(_n,{rounded:"md",status:"info",children:[S.jsx(Pn,{}),t.formatMessage({id:"bookmark.alert.create"})]}),S.jsx(rl,{"aria-label":t.formatMessage({id:"bookmark.input.label"}),placeholder:t.formatMessage({id:"bookmark.input.placeholder"}),value:a,onChange:E=>{l(E.target.value)},onKeyDown:E=>{E.key==="Enter"&&m()},isRequired:!0,isInvalid:!u,autoFocus:!0}),S.jsx(om,{intl:t,isInvalid:!u,onCancel:()=>{l(""),h("list")},onSave:m})]}),y=()=>S.jsxs(S.Fragment,{children:[s.length?tm(s,e,t,i):S.jsxs(_n,{rounded:"md",status:"info",children:[S.jsx(Pn,{}),t.formatMessage({id:"bookmark.alert.noSaved"})]}),S.jsx(rm,{intl:t,bookmarks:s,showCreate:()=>h("create"),showDelete:()=>h("delete")})]}),w=S.jsxs(S.Fragment,{children:[d==="list"&&y(),d==="create"&&g(),d==="delete"&&v()]});return S.jsx(U,{...c,children:w})}function tm(n,e,t,i){const r=t.formatMessage({id:"bookmark.button.deleteOne"}),o=n.map((s,a)=>S.jsx(nm,{index:a,listItemNodes:i,bookmark:s,onActivate:()=>e.activateBookmark(s),onDelete:()=>e.deleteBookmark(s.id),deleteBtnLabel:r},s.id));return S.jsx(tl,{as:"ul",p:1,className:"spatial-bookmark-lists",listStyleType:"none",role:"listbox",spacing:1,"aria-label":t.formatMessage({id:"bookmark.list.label"}),overflowY:"auto",maxHeight:"200",children:o})}const Pi={ArrowDown:1,ArrowUp:-1};function nm(n){const{index:e,listItemNodes:t,bookmark:i,onDelete:r,onActivate:o,deleteBtnLabel:s}=n,a=i.title,l=u=>{const c=u.key;if(c==="Enter"){u.target===u.currentTarget&&o();return}if(Pi[c]!=null){const d=t.current?.length;if(!d)return;let h=(e+Pi[c])%d;h<0&&(h=d-1),t.current[h]?.focus()}};return S.jsx(U,{as:"li",p:1,ref:u=>{if(!u){t.current.splice(e,1);return}t.current[e]=u},className:bn("spatial-bookmarks-item"),tabIndex:0,rounded:"md",role:"option",cursor:"pointer",outline:0,_hover:{background:"trails.50"},_focusVisible:{boxShadow:"outline"},onKeyDown:l,onClick:o,children:S.jsxs(Re,{width:"100%",flexDirection:"row",align:"center",gap:1,children:[S.jsx(is,{}),S.jsx(Sn,{ps:2,noOfLines:1,children:a}),S.jsx(nl,{}),S.jsx(mn,{className:"spatial-bookmarks-item-delete","aria-label":s,borderRadius:"full",iconSpacing:0,padding:0,colorScheme:"red",variant:"ghost",leftIcon:S.jsx(rs,{}),onClick:u=>{r(),u.stopPropagation()}})]})})}function rm(n){const{intl:e,bookmarks:t,showCreate:i,showDelete:r}=n;return S.jsxs(yr,{children:[S.jsx(ut,{isDisabled:t.length===0,colorScheme:"red",width:void 0,iconSpacing:0,leftIcon:S.jsx(rs,{}),onClick:r,"aria-label":e.formatMessage({id:"bookmark.button.deleteAll"}),variant:"outline"}),S.jsx(ut,{onClick:i,width:"100%",children:e.formatMessage({id:"bookmark.button.create"})})]})}function im(n){const{intl:e,onCancel:t,onClear:i}=n;return S.jsxs(yr,{children:[S.jsx(ut,{variant:"outline",onClick:t,children:e.formatMessage({id:"bookmark.button.cancelDelete"})}),S.jsx(ut,{onClick:i,children:e.formatMessage({id:"bookmark.button.confirmDelete"})})]})}function om(n){const{intl:e,onCancel:t,onSave:i,isInvalid:r}=n;return S.jsxs(yr,{children:[S.jsx(ut,{variant:"outline",onClick:()=>t(),children:e.formatMessage({id:"bookmark.button.cancel"})}),S.jsx(ut,{isDisabled:r,onClick:()=>i(),children:e.formatMessage({id:"bookmark.button.save"})})]})}function yr(n){return S.jsx(Re,{width:"100%",flexDirection:"row",mt:2,gap:1,children:n.children})}function ut(n){return S.jsx(mn,{width:"100%",...n})}function sm(n,e){const[t,i]=f.useState();return f.useEffect(()=>{let r;return n?r=new Kp(n,e):r=void 0,i(r),()=>r?.destroy()},[n,e]),t}const os="ol-map",am=cr.bind(void 0,os),lm=Be.bind(void 0,os);function um(){const n=lm(),e=f.useId(),t=f.useId(),i=f.useId(),{map:r}=ve(ee),[o,s]=f.useState(!1),[a,l]=f.useState(!0),[u,c]=f.useState(!1);function d(){c(!u)}const[h,p]=f.useState(!0);function m(){s(!o)}function v(){l(!a)}function g(){p(!h)}const y=f.useMemo(()=>new ur({source:new Ni}),[]);return S.jsxs(Re,{height:"100%",direction:"column",overflow:"hidden",children:[S.jsx(Wa,{position:"top-right"}),S.jsxs(Ft,{title:S.jsx(U,{role:"region","aria-label":n.formatMessage({id:"ariaLabel.header"}),textAlign:"center",py:1,children:S.jsx(Vt,{size:"md",children:"OpenLayers Base Packages - Default Sample"})}),children:[S.jsx(Re,{flex:"1",direction:"column",position:"relative",children:S.jsxs(Ra,{mapId:ee,role:"main","aria-label":n.formatMessage({id:"ariaLabel.map"}),children:[S.jsx(U,{backgroundColor:"white",borderWidth:"1px",borderRadius:"lg",padding:2,boxShadow:"lg",mt:5,className:"search-top-center-placement",children:S.jsx(cm,{})}),S.jsx(Tt,{position:"top-left",horizontalGap:20,verticalGap:20,children:(h||o)&&S.jsxs(U,{backgroundColor:"white",borderWidth:"1px",borderRadius:"lg",padding:2,boxShadow:"lg",width:350,maxWidth:350,children:[h&&S.jsx(U,{role:"dialog","aria-labelledby":e,children:S.jsxs(Ft,{title:S.jsx(Vt,{id:e,size:"md",mb:2,children:n.formatMessage({id:"tocTitle"})}),children:[S.jsx($a,{mapId:ee,basemapSwitcherProps:{allowSelectingEmptyBasemap:!0}}),S.jsx(Re,{width:"100%",flexDirection:"row",my:2,gap:1,children:S.jsx(mn,{"aria-label":n.formatMessage({id:"hideAllLayers"}),width:"100%",onClick:()=>dm(r),children:n.formatMessage({id:"hideAllLayers"})})})]})}),h&&o&&S.jsx(Xi,{mt:4,mb:4}),o&&S.jsx(U,{role:"dialog","aria-labelledby":t,children:S.jsx(Ft,{title:S.jsx(Vt,{id:t,size:"md",mb:2,children:n.formatMessage({id:"measurementTitle"})}),children:S.jsx(lc,{mapId:ee})})})]})}),S.jsx(Tt,{position:"top-right",horizontalGap:20,verticalGap:20,children:a&&S.jsx(U,{backgroundColor:"white",borderWidth:"1px",borderRadius:"lg",padding:2,boxShadow:"lg",children:S.jsx(Sc,{mapId:ee,olLayer:y})})}),S.jsx(Tt,{horizontalGap:20,position:"bottom-left",children:u&&S.jsx(U,{backgroundColor:"white",borderWidth:"1px",borderRadius:"lg",padding:2,boxShadow:"lg",role:"dialog",width:350,children:S.jsx(U,{role:"dialog","aria-labelledby":i,children:S.jsx(Ft,{title:S.jsx(Vt,{id:i,size:"md",mb:2,children:n.formatMessage({id:"spatialBookmarkTitle"})}),children:S.jsx(Qp,{mapId:ee})})})})}),S.jsx(Tt,{position:"bottom-right",horizontalGap:10,verticalGap:45,children:S.jsxs(Re,{role:"toolbar","aria-label":n.formatMessage({id:"ariaLabel.toolbar"}),direction:"column",gap:1,padding:1,children:[S.jsx(mt,{label:n.formatMessage({id:"spatialBookmarkTitle"}),icon:S.jsx(Wp,{}),isActive:u,onClick:d}),S.jsx(ec,{mapId:ee}),S.jsx(mt,{label:n.formatMessage({id:"tocTitle"}),icon:S.jsx(qp,{}),isActive:h,onClick:g}),S.jsx(mt,{label:n.formatMessage({id:"measurementTitle"}),icon:S.jsx(Yp,{}),isActive:o,onClick:m}),S.jsx(mt,{label:n.formatMessage({id:"overviewMapTitle"}),icon:S.jsx(is,{}),isActive:a,onClick:v}),S.jsx(Ha,{mapId:ee}),S.jsx(za,{mapId:ee}),S.jsx(Ua,{mapId:ee})]})})]})}),S.jsxs(Re,{role:"region","aria-label":n.formatMessage({id:"ariaLabel.footer"}),gap:3,alignItems:"center",justifyContent:"center",children:[S.jsx(Gu,{mapId:ee,precision:2}),S.jsx(Ec,{mapId:ee}),S.jsx(wc,{mapId:ee})]})]})]})}function cm(){const{map:n}=ve(ee),e=am("ol-app.AppConfig"),t=f.useMemo(()=>e.getSearchSources(),[e]);function i(o){if(console.debug("The user selected the following item: ",o.result),!n)return;const s=o.result.geometry;s&&n.highlightAndZoom([s])}function r(){console.debug("The user cleared the search"),n?.removeHighlight()}return S.jsx(_p,{mapId:ee,sources:t,maxResultsPerGroup:10,onSelect:i,onClear:r})}function dm(n){const e=t=>{t?.getSublayers().forEach(i=>{i.setVisible(!1),e(i?.sublayers)})};n?.layers.getOperationalLayers().forEach(t=>{t.setVisible(!1),e(t?.sublayers)})}const hm=Os({component:um,theme:Ms,appMetadata:$u,openShadowRoot:!0,config:{properties:{"@open-pioneer/local-storage":{storageId:"ol-app-state"}}},async resolveConfig(n){const e=n.getAttribute("forced-locale");if(e)return{locale:e}}});customElements.define("ol-map-app",hm);const fm=document.getElementsByTagName("body")[0];pm();function pm(){const n=window.location.search,t=new URLSearchParams(n).get("lang"),i=document.createElement("ol-map-app");i.classList.add("full-height"),i.classList.add("app"),i.setAttribute("id","test"),t&&i.setAttribute("forced-locale",t),fm.appendChild(i)}
