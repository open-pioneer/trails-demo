var h=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)};var r=(i,e,t)=>(h(i,e,"read from private field"),t?t.call(i):e.get(i)),a=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)},l=(i,e,t,o)=>(h(i,e,"write to private field"),o?o.call(i,t):e.set(i,t),t);var p=(i,e,t)=>(h(i,e,"access private method"),t);import{s as k,v as x,r as y,w as M,a as E,j as v}from"./7b9bf2e5ae39.js";import{u as I}from"./2db0cada463f.js";import"./6e72ec7ae19c.js";import{a as S}from"./2f6cd8ce72f0.js";import{c as H}from"./f9554349740d.js";function j(i){const{theme:e}=k(),t=x();return y.useMemo(()=>M(e.direction,{...t,...i}),[i,e.direction,t])}const m=E("notifier:NotificationService");var s,c,d,f,g,w,C;class U{constructor(){a(this,f);a(this,w);a(this,s,void 0);a(this,c,void 0);a(this,d,void 0)}destroy(){clearTimeout(r(this,d)),l(this,d,void 0)}notify(e){p(this,f,g).call(this,"showNotification",{title:e.title??void 0,message:e.message??void 0,level:e.level??"info",displayDuration:e.displayDuration})}closeAll(){p(this,f,g).call(this,"closeAll")}registerHandler(e){if(r(this,s))return m.warn(`A notification handler has already been registered; this new handler will be ignored.
The <Notifier /> component has likely been used twice in your application.`),{destroy(){}};l(this,s,e);const t=r(this,c);if(l(this,c,void 0),t)for(const[u,...b]of t)e[u](...b);let o=!1;return{destroy:()=>{o||(o=!0,r(this,s)===e&&l(this,s,void 0))}}}}s=new WeakMap,c=new WeakMap,d=new WeakMap,f=new WeakSet,g=function(e,...t){if(r(this,s))r(this,s)[e](...t);else{const o=r(this,c)??l(this,c,[]);if(o.length>=1024){m.error(`Internal notification buffer overflow: this event will be dropped to prevent a memory leak.
Make sure that the UI is configured to display notifications (use <Notifier />).`,{method:e,args:t});return}o.push([e,...t])}},w=new WeakSet,C=function(){r(this,s)||m.warn(`No notification handler has been registered: notifications will not be visible.
Make sure that your app contains the <Notifier /> component.`)};const D="@open-pioneer/notifier",L=S.bind(void 0,D);var O=H({displayName:"WarningTwoIcon",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"});const R=!1;function _(i){const{position:e="top-right"}=i,t=j(),o=L("notifier.NotificationService"),[u,b]=y.useState(!R),N=I(n=>{const T=n.level==="error"?v.jsx(O,{h:"100%",w:"100%"}):void 0;t({position:e,title:n.title,description:n.message||null,status:n.level,isClosable:!0,duration:n.displayDuration??null,icon:T})}),A=I(()=>{t.closeAll()});return y.useEffect(()=>{const n=o.registerHandler({showNotification:N,closeAll:A});return()=>n.destroy()},[u,o,N,A]),v.jsx(v.Fragment,{})}export{U as N,O as W,_ as a};
