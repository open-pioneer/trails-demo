import{S as fe}from"./93aaff12e654.js";import{r as u,N as Y,T as B,f as me,j as K,a0 as oe,$ as pe,O as he,P as be,a3 as re,U as q,m as ve,V as Ce,a as xe,W as Ee,v as Q,c as ye}from"./4536b7b97685.js";import{a as Ie,u as Me,l as De}from"./8df991587d8a.js";var ke=Object.defineProperty,Oe=(e,n,t)=>n in e?ke(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,p=(e,n,t)=>(Oe(e,typeof n!="symbol"?n+"":n,t),t);function ee(e){return e.sort((n,t)=>{const s=n.compareDocumentPosition(t);if(s&Node.DOCUMENT_POSITION_FOLLOWING||s&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(s&Node.DOCUMENT_POSITION_PRECEDING||s&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(s&Node.DOCUMENT_POSITION_DISCONNECTED||s&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}var ge=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function ne(e,n,t){let s=e+1;return t&&s>=n&&(s=0),s}function te(e,n,t){let s=e-1;return t&&s<0&&(s=n),s}var G=typeof window<"u"?u.useLayoutEffect:u.useEffect,j=e=>e,Pe=class{constructor(){p(this,"descendants",new Map),p(this,"register",e=>{if(e!=null)return ge(e)?this.registerNode(e):n=>{this.registerNode(n,e)}}),p(this,"unregister",e=>{this.descendants.delete(e);const n=ee(Array.from(this.descendants.keys()));this.assignIndex(n)}),p(this,"destroy",()=>{this.descendants.clear()}),p(this,"assignIndex",e=>{this.descendants.forEach(n=>{const t=e.indexOf(n.node);n.index=t,n.node.dataset.index=n.index.toString()})}),p(this,"count",()=>this.descendants.size),p(this,"enabledCount",()=>this.enabledValues().length),p(this,"values",()=>Array.from(this.descendants.values()).sort((n,t)=>n.index-t.index)),p(this,"enabledValues",()=>this.values().filter(e=>!e.disabled)),p(this,"item",e=>{if(this.count()!==0)return this.values()[e]}),p(this,"enabledItem",e=>{if(this.enabledCount()!==0)return this.enabledValues()[e]}),p(this,"first",()=>this.item(0)),p(this,"firstEnabled",()=>this.enabledItem(0)),p(this,"last",()=>this.item(this.descendants.size-1)),p(this,"lastEnabled",()=>{const e=this.enabledValues().length-1;return this.enabledItem(e)}),p(this,"indexOf",e=>{var n,t;return e&&(t=(n=this.descendants.get(e))==null?void 0:n.index)!=null?t:-1}),p(this,"enabledIndexOf",e=>e==null?-1:this.enabledValues().findIndex(n=>n.node.isSameNode(e))),p(this,"next",(e,n=!0)=>{const t=ne(e,this.count(),n);return this.item(t)}),p(this,"nextEnabled",(e,n=!0)=>{const t=this.item(e);if(!t)return;const s=this.enabledIndexOf(t.node),o=ne(s,this.enabledCount(),n);return this.enabledItem(o)}),p(this,"prev",(e,n=!0)=>{const t=te(e,this.count()-1,n);return this.item(t)}),p(this,"prevEnabled",(e,n=!0)=>{const t=this.item(e);if(!t)return;const s=this.enabledIndexOf(t.node),o=te(s,this.enabledCount()-1,n);return this.enabledItem(o)}),p(this,"registerNode",(e,n)=>{if(!e||this.descendants.has(e))return;const t=Array.from(this.descendants.keys()).concat(e),s=ee(t);n?.disabled&&(n.disabled=!!n.disabled);const o={node:e,index:-1,...n};this.descendants.set(e,o),this.assignIndex(s)})}};function we(){const e=u.useRef(new Pe);return G(()=>()=>e.current.destroy()),e.current}var[Ne,ue]=Y({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"});function _e(e){const n=ue(),[t,s]=u.useState(-1),o=u.useRef(null);G(()=>()=>{o.current&&n.unregister(o.current)},[]),G(()=>{if(!o.current)return;const c=Number(o.current.dataset.index);t!=c&&!Number.isNaN(c)&&s(c)});const a=j(e?n.register(e):n.register);return{descendants:n,index:t,enabledIndex:n.enabledIndexOf(o.current),register:B(a,o)}}function Te(){return[j(Ne),()=>j(ue()),()=>we(),o=>_e(o)]}var Se=me((e,n)=>K.jsx(fe,{align:"center",...e,direction:"row",ref:n}));Se.displayName="HStack";function Le(e){const{key:n}=e;return n.length===1||n.length>1&&/[^a-zA-Z0-9]/.test(n)}function Re(e={}){const{timeout:n=300,preventDefault:t=()=>!0}=e,[s,o]=u.useState([]),a=u.useRef(),c=()=>{a.current&&(clearTimeout(a.current),a.current=null)},i=()=>{c(),a.current=setTimeout(()=>{o([]),a.current=null},n)};u.useEffect(()=>c,[]);function m(h){return l=>{if(l.key==="Backspace"){const d=[...s];d.pop(),o(d);return}if(Le(l)){const d=s.concat(l.key);t(l)&&(l.preventDefault(),l.stopPropagation()),o(d),h(d.join("")),i()}}}return m}function Fe(e,n,t,s){if(n==null)return s;if(!s)return e.find(c=>t(c).toLowerCase().startsWith(n.toLowerCase()));const o=e.filter(a=>t(a).toLowerCase().startsWith(n.toLowerCase()));if(o.length>0){let a;return o.includes(s)?(a=o.indexOf(s)+1,a===o.length&&(a=0),o[a]):(a=e.indexOf(o[0]),e[a])}return s}function Ae(){const e=u.useRef(new Map),n=e.current,t=u.useCallback((o,a,c,i)=>{e.current.set(c,{type:a,el:o,options:i}),o.addEventListener(a,c,i)},[]),s=u.useCallback((o,a,c,i)=>{o.removeEventListener(a,c,i),e.current.delete(c)},[]);return u.useEffect(()=>()=>{n.forEach((o,a)=>{s(o.el,o.type,a,o.options)})},[s,n]),{add:t,remove:s}}function $(e){const n=e.target,{tagName:t,isContentEditable:s}=n;return t!=="INPUT"&&t!=="TEXTAREA"&&s!==!0}function Ue(e={}){const{ref:n,isDisabled:t,isFocusable:s,clickOnEnter:o=!0,clickOnSpace:a=!0,onMouseDown:c,onMouseUp:i,onClick:m,onKeyDown:h,onKeyUp:l,tabIndex:d,onMouseOver:D,onMouseLeave:y,...N}=e,[C,k]=u.useState(!0),[f,v]=u.useState(!1),I=Ae(),M=r=>{r&&r.tagName!=="BUTTON"&&k(!1)},P=C?d:d||0,E=t&&!s,b=u.useCallback(r=>{if(t){r.stopPropagation(),r.preventDefault();return}r.currentTarget.focus(),m?.(r)},[t,m]),x=u.useCallback(r=>{f&&$(r)&&(r.preventDefault(),r.stopPropagation(),v(!1),I.remove(document,"keyup",x,!1))},[f,I]),w=u.useCallback(r=>{if(h?.(r),t||r.defaultPrevented||r.metaKey||!$(r.nativeEvent)||C)return;const L=o&&r.key==="Enter";a&&r.key===" "&&(r.preventDefault(),v(!0)),L&&(r.preventDefault(),r.currentTarget.click()),I.add(document,"keyup",x,!1)},[t,C,h,o,a,I,x]),_=u.useCallback(r=>{if(l?.(r),t||r.defaultPrevented||r.metaKey||!$(r.nativeEvent)||C)return;a&&r.key===" "&&(r.preventDefault(),v(!1),r.currentTarget.click())},[a,C,t,l]),T=u.useCallback(r=>{r.button===0&&(v(!1),I.remove(document,"mouseup",T,!1))},[I]),R=u.useCallback(r=>{if(r.button!==0)return;if(t){r.stopPropagation(),r.preventDefault();return}C||v(!0),r.currentTarget.focus({preventScroll:!0}),I.add(document,"mouseup",T,!1),c?.(r)},[t,C,c,I,T]),S=u.useCallback(r=>{r.button===0&&(C||v(!1),i?.(r))},[i,C]),F=u.useCallback(r=>{if(t){r.preventDefault();return}D?.(r)},[t,D]),U=u.useCallback(r=>{f&&(r.preventDefault(),v(!1)),y?.(r)},[f,y]),A=B(n,M);return C?{...N,ref:A,type:"button","aria-disabled":E?void 0:t,disabled:E,onClick:b,onMouseDown:c,onMouseUp:i,onKeyUp:l,onKeyDown:h,onMouseOver:D,onMouseLeave:y}:{...N,ref:A,role:"button","data-active":oe(f),"aria-disabled":t?"true":void 0,tabIndex:E?void 0:P,onClick:b,onMouseDown:R,onMouseUp:S,onKeyUp:_,onKeyDown:w,onMouseOver:F,onMouseLeave:U}}function Ke(e){const{ref:n,handler:t,enabled:s=!0}=e,o=pe(t),c=u.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;u.useEffect(()=>{if(!s)return;const i=d=>{W(d,n)&&(c.isPointerDown=!0)},m=d=>{if(c.ignoreEmulatedMouseEvents){c.ignoreEmulatedMouseEvents=!1;return}c.isPointerDown&&t&&W(d,n)&&(c.isPointerDown=!1,o(d))},h=d=>{c.ignoreEmulatedMouseEvents=!0,t&&c.isPointerDown&&W(d,n)&&(c.isPointerDown=!1,o(d))},l=ae(n.current);return l.addEventListener("mousedown",i,!0),l.addEventListener("mouseup",m,!0),l.addEventListener("touchstart",i,!0),l.addEventListener("touchend",h,!0),()=>{l.removeEventListener("mousedown",i,!0),l.removeEventListener("mouseup",m,!0),l.removeEventListener("touchstart",i,!0),l.removeEventListener("touchend",h,!0)}},[t,n,o,c,s])}function W(e,n){var t;const s=e.target;return s&&!ae(s).contains(s)?!1:!((t=n.current)!=null&&e.composedPath().includes(t))}function ae(e){var n;return(n=e?.ownerDocument)!=null?n:document}var[Be,Ve,je,He]=Te(),[ze,H]=Y({strict:!1,name:"MenuContext"});function $e(e,...n){const t=u.useId(),s=e||t;return u.useMemo(()=>n.map(o=>`${o}-${s}`),[s,n])}function ce(e){var n;return(n=e?.ownerDocument)!=null?n:document}function se(e){return ce(e).activeElement===e}function We(e={}){const{id:n,closeOnSelect:t=!0,closeOnBlur:s=!0,initialFocusRef:o,autoSelect:a=!0,isLazy:c,isOpen:i,defaultIsOpen:m,onClose:h,onOpen:l,placement:d="bottom-start",lazyBehavior:D="unmount",direction:y,computePositionOnMount:N=!1,...C}=e,k=u.useRef(null),f=u.useRef(null),v=je(),I=u.useCallback(()=>{requestAnimationFrame(()=>{var O;(O=k.current)==null||O.focus({preventScroll:!1})})},[]),M=u.useCallback(()=>{const O=setTimeout(()=>{var g;if(o)(g=o.current)==null||g.focus();else{const V=v.firstEnabled();V&&S(V.index)}});L.current.add(O)},[v,o]),P=u.useCallback(()=>{const O=setTimeout(()=>{const g=v.lastEnabled();g&&S(g.index)});L.current.add(O)},[v]),E=u.useCallback(()=>{l?.(),a?M():I()},[a,M,I,l]),{isOpen:b,onOpen:x,onClose:w,onToggle:_}=he({isOpen:i,defaultIsOpen:m,onClose:h,onOpen:E});Ke({enabled:b&&s,ref:k,handler:O=>{var g;(g=f.current)!=null&&O.composedPath().includes(g)||w()}});const T=be({...C,enabled:b||N,placement:d,direction:y}),[R,S]=u.useState(-1);re(()=>{b||S(-1)},[b]),Ie(k,{focusRef:f,visible:b,shouldFocus:!0});const F=Me({isOpen:b,ref:k}),[U,A]=$e(n,"menu-button","menu-list"),r=u.useCallback(()=>{x(),I()},[x,I]),L=u.useRef(new Set([]));u.useEffect(()=>{const O=L.current;return()=>{O.forEach(g=>clearTimeout(g)),O.clear()}},[]);const z=u.useCallback(()=>{x(),M()},[M,x]),Z=u.useCallback(()=>{x(),P()},[x,P]),ie=u.useCallback(()=>{var O,g;const V=ce(k.current),de=(O=k.current)==null?void 0:O.contains(V.activeElement);if(!(b&&!de))return;const J=(g=v.item(R))==null?void 0:g.node;J?.focus({preventScroll:!0})},[b,R,v]),le=u.useRef(null);return{openAndFocusMenu:r,openAndFocusFirstItem:z,openAndFocusLastItem:Z,onTransitionEnd:ie,unstable__animationState:F,descendants:v,popper:T,buttonId:U,menuId:A,forceUpdate:T.forceUpdate,orientation:"vertical",isOpen:b,onToggle:_,onOpen:x,onClose:w,menuRef:k,buttonRef:f,focusedIndex:R,closeOnSelect:t,closeOnBlur:s,autoSelect:a,setFocusedIndex:S,isLazy:c,lazyBehavior:D,initialFocusRef:o,rafId:le}}function sn(e={},n=null){const t=H(),{onToggle:s,popper:o,openAndFocusFirstItem:a,openAndFocusLastItem:c}=t,i=u.useCallback(m=>{const h=m.key,d={Enter:a,ArrowDown:a,ArrowUp:c}[h];d&&(m.preventDefault(),m.stopPropagation(),d(m))},[a,c]);return{...e,ref:B(t.buttonRef,n,o.referenceRef),id:t.buttonId,"data-active":oe(t.isOpen),"aria-expanded":t.isOpen,"aria-haspopup":"menu","aria-controls":t.menuId,onClick:q(e.onClick,s),onKeyDown:q(e.onKeyDown,i)}}function X(e){var n;return qe(e)&&!!((n=e?.getAttribute("role"))!=null&&n.startsWith("menuitem"))}function on(e={},n=null){const t=H();if(!t)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");const{focusedIndex:s,setFocusedIndex:o,menuRef:a,isOpen:c,onClose:i,menuId:m,isLazy:h,lazyBehavior:l,unstable__animationState:d}=t,D=Ve(),y=Re({preventDefault:f=>f.key!==" "&&X(f.target)}),N=u.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const v=f.key,M={Tab:E=>E.preventDefault(),Escape:i,ArrowDown:()=>{const E=D.nextEnabled(s);E&&o(E.index)},ArrowUp:()=>{const E=D.prevEnabled(s);E&&o(E.index)}}[v];if(M){f.preventDefault(),M(f);return}const P=y(E=>{const b=Fe(D.values(),E,x=>{var w,_;return(_=(w=x?.node)==null?void 0:w.textContent)!=null?_:""},D.item(s));if(b){const x=D.indexOf(b.node);o(x)}});X(f.target)&&P(f)},[D,s,y,i,o]),C=u.useRef(!1);c&&(C.current=!0);const k=De({wasSelected:C.current,enabled:h,mode:l,isSelected:d.present});return{...e,ref:B(a,n),children:k?e.children:null,tabIndex:-1,role:"menu",id:m,style:{...e.style,transformOrigin:"var(--popper-transform-origin)"},"aria-orientation":"vertical",onKeyDown:q(e.onKeyDown,N)}}function rn(e={}){const{popper:n,isOpen:t}=H();return n.getPopperProps({...e,style:{visibility:t?"visible":"hidden",...e.style}})}function un(e={},n=null){const{onMouseEnter:t,onMouseMove:s,onMouseLeave:o,onClick:a,onFocus:c,isDisabled:i,isFocusable:m,closeOnSelect:h,type:l,...d}=e,D=H(),{setFocusedIndex:y,focusedIndex:N,closeOnSelect:C,onClose:k,menuRef:f,isOpen:v,menuId:I,rafId:M}=D,P=u.useRef(null),E=`${I}-menuitem-${u.useId()}`,{index:b,register:x}=He({disabled:i&&!m}),w=u.useCallback(r=>{t?.(r),!i&&y(b)},[y,b,i,t]),_=u.useCallback(r=>{s?.(r),P.current&&!se(P.current)&&w(r)},[w,s]),T=u.useCallback(r=>{o?.(r),!i&&y(-1)},[y,i,o]),R=u.useCallback(r=>{a?.(r),X(r.currentTarget)&&(h??C)&&k()},[k,a,C,h]),S=u.useCallback(r=>{c?.(r),y(b)},[y,c,b]),F=b===N,U=i&&!m;re(()=>{if(v)return F&&!U&&P.current?(M.current&&cancelAnimationFrame(M.current),M.current=requestAnimationFrame(()=>{var r;(r=P.current)==null||r.focus({preventScroll:!0}),M.current=null})):f.current&&!se(f.current)&&f.current.focus({preventScroll:!0}),()=>{M.current&&cancelAnimationFrame(M.current)}},[F,U,f,v]);const A=Ue({onClick:R,onFocus:S,onMouseEnter:w,onMouseMove:_,onMouseLeave:T,ref:B(x,P,n),isDisabled:i,isFocusable:m});return{...d,...A,type:l??A.type,id:E,role:"menuitem",tabIndex:F?0:-1}}function qe(e){var n;if(!Ge(e))return!1;const t=(n=e.ownerDocument.defaultView)!=null?n:window;return e instanceof t.HTMLElement}function Ge(e){return e!=null&&typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE}var[Xe,Ye]=Y({name:"MenuStylesContext",errorMessage:`useMenuStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Menu />" `}),Ze=e=>{const{children:n}=e,t=ve("Menu",e),s=Ce(e),{direction:o}=xe(),{descendants:a,...c}=We({...s,direction:o}),i=u.useMemo(()=>c,[c]),{isOpen:m,onClose:h,forceUpdate:l}=i;return K.jsx(Be,{value:a,children:K.jsx(ze,{value:i,children:K.jsx(Xe,{value:t,children:Ee(n,{isOpen:m,onClose:h,forceUpdate:l})})})})};Ze.displayName="Menu";var Je=e=>{const{className:n,children:t,...s}=e,o=Ye(),a=u.Children.only(t),c=u.isValidElement(a)?u.cloneElement(a,{focusable:"false","aria-hidden":!0,className:Q("chakra-menu__icon",a.props.className)}):null,i=Q("chakra-menu__icon-wrapper",n);return K.jsx(ye.span,{className:i,...s,__css:o.icon,children:c})};Je.displayName="MenuIcon";export{Se as H,Ze as M,Je as a,un as b,H as c,on as d,rn as e,sn as f,Ye as u};
