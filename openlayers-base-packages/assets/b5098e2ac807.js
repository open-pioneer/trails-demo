var S=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)};var f=(t,e,i)=>(S(t,e,"read from private field"),i?i.call(t):e.get(t)),v=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},y=(t,e,i,r)=>(S(t,e,"write to private field"),r?r.call(t,i):e.set(t,i),i);var b=(t,e,i)=>(S(t,e,"access private method"),i);import{H as F,I as O,r as c,J as P,f as I,c as M,j as o,K as U,b as R,L as K,o as W,M as Z,E as $,k as J,G as _,T as V,w as N,x as C,B as A,n as Q}from"./559aa200cabb.js";import{c as X,C as Y}from"./4e207bef7341.js";import{S as k}from"./886fe85b01f2.js";import{C as ee,H as te,I as ie}from"./3880c78d1ba4.js";import{B as oe,S as re}from"./4e5f68cd39b9.js";function ne(t){const{theme:e}=F(),i=O();return c.useMemo(()=>P(e.direction,{...i,...t}),[t,e.direction,i])}var se={horizontal:{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}},vertical:{"> *:first-of-type:not(:last-of-type)":{borderBottomRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderTopRadius:0}}},ae={horizontal:t=>({"& > *:not(style) ~ *:not(style)":{marginStart:t}}),vertical:t=>({"& > *:not(style) ~ *:not(style)":{marginTop:t}})},B=I(function(e,i){const{size:r,colorScheme:n,variant:l,className:d,spacing:p="0.5rem",isAttached:s,isDisabled:h,orientation:m="horizontal",...a}=e,L=M("chakra-button__group",d),z=c.useMemo(()=>({size:r,colorScheme:n,variant:l,isDisabled:h}),[r,n,l,h]);let D={display:"inline-flex",...s?se[m]:ae[m](p)};const q=m==="vertical";return o.jsx(U,{value:z,children:o.jsx(R.div,{ref:i,role:"group",__css:D,className:L,"data-attached":s?"":void 0,"data-orientation":m,flexDir:q?"column":void 0,...a})})});B.displayName="ButtonGroup";function ce(t,e=[]){const i=Object.assign({},t);for(const r of e)r in i&&delete i[r];return i}var le=["h","minH","height","minHeight"],G=I((t,e)=>{const i=K("Textarea",t),{className:r,rows:n,...l}=W(t),d=Z(l),p=n?ce(i,le):i;return o.jsx(R.textarea,{ref:e,rows:n,...d,className:M("chakra-textarea",r),__css:p})});G.displayName="Textarea";var ue=X({displayName:"WarningTwoIcon",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"});const w=$("notifier:NotificationService");var u,g,x,j,T,E,fe;class pe{constructor(){v(this,j);v(this,E);v(this,u,void 0);v(this,g,void 0);v(this,x,void 0)}destroy(){clearTimeout(f(this,x)),y(this,x,void 0)}notify(e){b(this,j,T).call(this,"showNotification",{title:e.title??void 0,message:e.message??void 0,level:e.level??"info",displayDuration:e.displayDuration})}closeAll(){b(this,j,T).call(this,"closeAll")}registerHandler(e){if(f(this,u))return w.warn(`A notification handler has already been registered; this new handler will be ignored.
The <Notifier /> component has likely been used twice in your application.`),{destroy(){}};y(this,u,e);const i=f(this,g);if(y(this,g,void 0),i)for(const[n,...l]of i)e[n](...l);let r=!1;return{destroy:()=>{r||(r=!0,f(this,u)===e&&y(this,u,void 0))}}}}u=new WeakMap,g=new WeakMap,x=new WeakMap,j=new WeakSet,T=function(e,...i){if(f(this,u))f(this,u)[e](...i);else{const r=f(this,g)??y(this,g,[]);if(r.length>=1024){w.error(`Internal notification buffer overflow: this event will be dropped to prevent a memory leak.
Make sure that the UI is configured to display notifications (use <Notifier />).`,{method:e,args:i});return}r.push([e,...i])}},E=new WeakSet,fe=function(){f(this,u)||w.warn(`No notification handler has been registered: notifications will not be visible.
Make sure that your app contains the <Notifier /> component.`)};const de={"notify-app":{name:"notify-app",services:{},ui:{references:[{name:"notifier.NotificationService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/chakra-integration":{name:"@open-pioneer/chakra-integration",services:{},ui:{references:[]},properties:{}},"@open-pioneer/runtime":{name:"@open-pioneer/runtime",services:{},ui:{references:[]},properties:{}},"@open-pioneer/core":{name:"@open-pioneer/core",services:{},ui:{references:[]},properties:{}},"@open-pioneer/notifier":{name:"@open-pioneer/notifier",services:{NotificationServiceImpl:{name:"NotificationServiceImpl",clazz:pe,provides:[{name:"notifier.NotificationService",qualifier:void 0}],references:{}}},ui:{references:[{name:"notifier.NotificationService",qualifier:void 0,all:!1}]},properties:{}},"@open-pioneer/runtime-react-support":{name:"@open-pioneer/runtime-react-support",services:{},ui:{references:[]},properties:{}},"@open-pioneer/test-utils":{name:"@open-pioneer/test-utils",services:{},ui:{references:[]},properties:{}},"@open-pioneer/react-utils":{name:"@open-pioneer/react-utils",services:{},ui:{references:[]},properties:{}}},he="",me=[];function ve(t){throw new Error(`Unsupported locale: '${t}'`)}const ye=J(he),ge=Object.freeze(Object.defineProperty({__proto__:null,loadMessages:ve,locales:me,packages:de,styles:ye},Symbol.toStringTag,{value:"Module"}));function H(t){const e=c.useRef(null);return c.useLayoutEffect(()=>{e.current=t}),c.useCallback((...r)=>{const n=e.current;return n(...r)},[])}const xe="@open-pioneer/notifier",je=_.bind(void 0,xe),Se=!1;function be(t){const{position:e="top-right"}=t,i=ne(),r=je("notifier.NotificationService"),[n,l]=c.useState(!Se),d=H(s=>{const h=s.level==="error"?o.jsx(ue,{h:"100%",w:"100%"}):void 0;i({position:e,title:s.title,description:s.message||null,status:s.level,isClosable:!0,duration:s.displayDuration??null,icon:h})}),p=H(()=>{i.closeAll()});return c.useEffect(()=>{const s=r.registerHandler({showNotification:d,closeAll:p});return()=>s.destroy()},[n,r,d,p]),o.jsx(o.Fragment,{})}const Ne="notify-app",Ce=_.bind(void 0,Ne);function ke(){const t=Ce("notifier.NotificationService"),[e,i]=c.useState(""),[r,n]=c.useState("info"),[l,d]=c.useState(""),[p,s]=c.useState(!1),h=()=>{const a={title:e,level:r,message:l,displayDuration:p?5e3:void 0};if(!a.title){t.notify({title:"Title is required",level:"error"});return}t.notify(a)},m=()=>{t.closeAll()};return o.jsxs(o.Fragment,{children:[o.jsx(be,{position:"top-right"}),o.jsx(ee,{p:5,children:o.jsxs(k,{spacing:8,children:[o.jsxs(k,{align:"center",children:[o.jsx(te,{as:"h1",children:"Notify Sample"}),o.jsx(V,{children:"Use the form below to emit notifications."})]}),o.jsx(oe,{rounded:"lg",boxShadow:"lg",p:8,children:o.jsxs(k,{spacing:4,children:[o.jsxs(N,{isRequired:!0,children:[o.jsx(C,{children:"Title"}),o.jsx(ie,{type:"text",value:e,onChange:a=>i(a.target.value)})]}),o.jsxs(N,{isRequired:!0,children:[o.jsx(C,{children:"Level"}),o.jsxs(re,{value:r,onChange:a=>{n(a.target.value)},children:[o.jsx("option",{value:"success",children:"Success"}),o.jsx("option",{value:"info",children:"Info"}),o.jsx("option",{value:"warning",children:"Warning"}),o.jsx("option",{value:"error",children:"Error"})]})]}),o.jsxs(N,{children:[o.jsx(C,{children:"Message"}),o.jsx(G,{placeholder:"Enter additional message",value:l,onChange:a=>d(a.target.value)})]}),o.jsx(Y,{isChecked:p,onChange:a=>s(a.target.checked),children:"Hide after 5 seconds"}),o.jsxs(B,{justifyContent:"center",children:[o.jsx(A,{flex:"1",colorScheme:"blue",onClick:h,children:"Emit Notification"}),o.jsx(A,{flex:"1",onClick:m,children:"Clear notifications"})]})]})})]})})]})}const we=Q({component:ke,appMetadata:ge});customElements.define("notify-app",we);
